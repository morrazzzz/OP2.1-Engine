--' Получение предмета
function checking_taken_item(obj)
	checking_taken_item38(obj)
	checking_taken_item44(obj)
	checking_taken_item45(obj)
	checking_taken_item46(obj)
	checking_taken_item47(obj)
	checking_taken_item48(obj)
	checking_taken_item49(obj)
	checking_taken_item50(obj)
	checking_taken_item51(obj)
	checking_taken_item52(obj)
	checking_taken_item53(obj)
	checking_taken_item54(obj)
	checking_taken_item55(obj)
	checking_taken_item56(obj)
	checking_taken_item57(obj)
	checking_taken_item58(obj)
end

--' спавним рацию Волка на свалке (функция Сяка перестала работать)
function spawn_add_resiver()
	local obj = create("sak_resiver",xyz(-186.264,-3.492,94.656),38921,338)
end

--' проверим наличие пушки для Лиса
function fox_kriss_have()
	return has_good("wpn_spas12",1) ~= false
end

--' отдадим ствол Лису
function fox_kriss_done(first_speaker, second_speaker)
	lost_good("wpn_spas12",1)
	got_money(1000)
	got("grenade_fb",1)
	got("grenade_he",1)
	got("af_vyvert",1)
	got("af_blood",1)
	got("ammo_12x70_kart",2)
 end

--' эта функция проверяет наличие минигана
function atp_propusk_have() 
	return has("wpn_m_134_baty",1)
end

--' отдадим миниган Адреналину, получим награду и Адреналин - друг
function atp_propusk_done(first_speaker, second_speaker)
	lost("wpn_m_134_baty",1)
	got("wpn_svd_m1")
	got("af_spirit_2")
	second_speaker:set_relation(game_object.friend, first_speaker)
end

--' проверим наличие маскировочной экзы
function arhara_ekza_have()
	return meceniy_work.have_meceniy_outfit()
end 

--' отдадим экзу Воронину и получим награду
function arhara_ekza_done(first_speaker, second_speaker)
	meceniy_work.give_meceniy_outfit()
	got("af_kol_4")
	second_speaker:set_relation(game_object.friend, first_speaker)
end

--' спавним нашу маскировочную экзу
function ekza()
	create("meceniy_outfit_new",xyz(113.509,0.686,-24.954),539883,2823)
end

--' проверим наличие тисков для Шурупа
function atp_propusk_shurup_have()
	return has("tisku_arhara",1)
end

--' спавним тиски для Шурупа
function spawn_tisku()
	create("tisku_arhara",xyz(109.575,-9.599,-301.339),535499,2824)
end

--' отдача тисков Шурупу, получим мозг и картечь в награду, Шуруп друг
function atp_propusk_shurup_done(first_speaker, second_speaker)
	lost("tisku_arhara",1)
	got("mozg")
	got("ammo_12x70_kart",2)
	second_speaker:set_relation(game_object.friend, first_speaker)
end

--' проверим наличие антизомбина
function chaes_perexod_have()
	return has("antizombie",1)
end

--' отдадим антизомбин
function chaes_perexod_done(first_speaker, second_speaker)
	lost("antizombie",1)
	second_speaker:set_relation(game_object.friend, first_speaker)
end

--' спавним наши телепорты в Саркофаге
function arhara_teleport()
	create("arhara_tele",xyz(37.431,56.184,32.087),4591,2417)
	create("arhara_tele",xyz(37.431,56.184,32.087),4591,2417)
	create("arhara_tele",xyz(37.431,56.184,32.087),4591,2417)
	create("arhara_tele",xyz(37.431,56.184,32.087),4591,2417)
	create("arhara_tele",xyz(37.431,56.184,32.087),4591,2417)
	create("wpn_aa12",xyz(37.432,56.184,32.087),4591,2417)
end

--' спавним наш мозг на ЧАЭС2
function mozg()
	create("kontrik_mozg_chaes",xyz(236.03979492188,-0.001921147108078,177.44297790527),84290,2577)
	create("tank_spawn_zasada4",xyz(206.574,-0.102,378.099),79782,2580)
	create("tank_spawn_zasada6",xyz(206.574,-0.102,377.099),79782,2580)
	create("kontrik_mozg_chaes",xyz(297.41760253906,-9.8288059234619e-005,91.820762634277),103252,2593)
	create("tank_spawn_zasada1",xyz(504.838,11.748,352.584),189400,2619)
	create("tank_spawn_zasada7",xyz(506.838,11.748,352.584),189400,2619)
	create("kontrik_mozg_chaes",xyz(402.53814697266,-0.00085476040840149,123.65032958984),136893,2596)
	create("kontrik_mozg_chaes",xyz(463.08901977539,-0.011636286973953,174.29406738281),150821,2632)
	create("kontrik_mozg_chaes",xyz(589.619140625,-0.088530570268631,280.01898193359),179238,2618)
	create("tank_spawn_zasada6",xyz(1018.827,-0.001,382.414),263677,2650)
	create("tank_spawn_zasada2",xyz(1018.427,-0.001,382.414),263677,2650)
	create("kontrik_mozg_chaes",xyz(853.28405761719,-0.09967228770256,202.32867431641),219806,2638)
	create("kontrik_mozg_chaes",xyz(954.4169921875,0.016261160373688,358.79223632813),254001,2651)
	create("kontrik_mozg_chaes",xyz(881.1181640625,-0.10497552156448,395.1279296875),230304,2652)
	create("tank_spawn_zasada5",xyz(505.238,11.748,352.584),189400,2619)
	create("tank_spawn_zasada7",xyz(505.038,11.748,352.584),189400,2619)
	create("kontrik_mozg_chaes",xyz(794.82708740234,-0.00094565749168396,367.05541992188),205852,2655)
	create("kontrik_mozg_chaes",xyz(635.68005371094,-0.00069108605384827,338.8203125),188625,2619)
	create("tank_spawn_zasada1",xyz(206.274,-0.102,379.099),79782,2580)
	create("tank_spawn_zasada5",xyz(206.874,-0.102,379.099),79782,2580)
	create("kontrik_mozg_chaes",xyz(578.91680908203,-0.001433938741684,202.63926696777),174479,2622)
	create("tank_spawn_zasada3",xyz(1018.727,-0.001,382.414),263677,2650)
	create("kontrik_mozg_atp",xyz(322.26416015625,-2.5768759250641,-295.98400878906),838294,2847) -- atp
	create("tank_spawn_zasada7",xyz(326.26416015625,-2.5768759250641,-295.98400878906),838294,2847) -- atp
end

--' Раз Ломти не спавнятся, заставим, да ещё и контролёров добавим
function spawn_arts()
	create("af_gold_mincer_meat",xyz(294.396,16.796,68.041),102440,2594)
	create("tank_spawn_zasada4",xyz(294.896,16.796,68.041),102440,2594)
	create("af_gold_mincer_meat",xyz(69.090,4.981,113.450),54000,2536)
	create("tank_spawn_zasada5",xyz(69.290,4.981,113.450),54000,2536)
	create("af_gold_mincer_meat",xyz(15.024,4.457,148.660),33501,2525)
	create("tank_spawn_zasada6",xyz(15.424,4.457,148.660),33501,2525)
	create("af_gold_mincer_meat",xyz(20.866,3.621,209.016),34266,2524)
	create("tank_spawn_zasada7",xyz(20.466,3.621,209.016),34266,2524)
	create("af_gold_mincer_meat",xyz(82.715,8.726,168.478),57448,2557)
	create("tank_spawn_zasada1",xyz(82.315,8.726,168.478),57448,2557)
	create("af_gold_mincer_meat",xyz(184.589,21.803,188.475),74473,2569)
	create("tank_spawn_zasada2",xyz(184.289,21.803,188.475),74473,2569)
	create("af_gold_mincer_meat",xyz(-2.046,17.001,277.747),24758,2541)
	create("tank_spawn_zasada3",xyz(-2.086,17.001,277.747),24758,2541)
	create("af_gold_mincer_meat",xyz(96.206,50.358,79.338),59035,2566)
	create("tank_spawn_zasada7",xyz(96.506,50.358,79.338),59035,2566) 
	create("af_gold_mincer_meat",xyz(294.066,16.822,69.239),102227,2594)
	create("tank_spawn_zasada5",xyz(294.026,16.822,69.239),102227,2594)
	create("af_gold_mincer_meat",xyz(429.023,8.506,159.034),143946,2599)
	create("tank_spawn_zasada3",xyz(429.063,8.506,159.034),143946,2599)
	create("af_gold_mincer_meat",xyz(456.191,8.500,158.333),149725,2599)
	create("tank_spawn_zasada5",xyz(456.391,8.500,158.333),149725,2599)
	create("af_gold_mincer_meat",xyz(573.650,5.041,126.056),170815,2627)
	create("tank_spawn_zasada7",xyz(573.850,5.041,126.056),170815,2627)
	create("af_gold_mincer_meat",xyz(535.685,-0.085,130.346),169069,2627)
	create("tank_spawn_zasada2",xyz(535.625,-0.085,130.346),169069,2627)
	create("af_gold_mincer_meat",xyz(692.553,-0.117,165.552),194971,2623)
	create("tank_spawn_zasada6",xyz(692.853,-0.117,165.552),194971,2623)
	create("af_gold_mincer_meat",xyz(758.592,-0.085,354.072),203677,2655)
	create("tank_spawn_zasada5",xyz(758.532,-0.085,354.072),203677,2655)
	create("af_gold_mincer_meat",xyz(577.391,9.090,201.674),173475,2631)
	create("tank_spawn_zasada6",xyz(577.341,9.090,201.674),173475,2631)
	create("m_controller_old",xyz(294.396,16.796,68.041),102440,2594)
	create("tank_spawn_zasada6",xyz(295.396,16.796,68.041),102440,2594)
	create("m_controller_old",xyz(15.024,4.457,148.660),33501,2525)
	create("tank_spawn_zasada4",xyz(82.715,8.726,168.478),57448,2557)
	create("m_controller_old",xyz(184.589,21.803,188.475),74473,2569)
	create("tank_spawn_zasada6",xyz(185.589,21.803,188.475),74473,2569)
	create("tank_spawn_zasada7",xyz(294.066,16.822,69.239),102227,2594)
	create("tank_spawn_zasada6",xyz(456.191,8.500,158.333),149725,2599)
	create("m_controller_old",xyz(535.685,-0.085,130.346),169069,2627)
	create("tank_spawn_zasada2",xyz(534.685,-0.085,130.346),169069,2627)
	create("m_controller_old",xyz(692.553,-0.117,165.552),194971,2623)
	create("tank_spawn_zasada6",xyz(691.553,-0.117,165.552),194971,2623)
	create("tank_spawn_zasada3",xyz(577.391,9.090,201.674),173475,2631)
end

--' проверим наличие диска у ГГ
function arh_disk_have()
	return has("disk_adren",1)
end

--' отдадим диск Адреналину и получим награду
function arh_disk_done(first_speaker, second_speaker)
	lost("disk_adren",1)
	got("caps_mincer")
	got("caps_electra")
	got("wpn_walther_921")
	got("ammo_9x21_11",1)
	got("ammo_9x21_10",1)
end

--' проверим наличие пуддинга для акима
function akim_pudd_have()
	return has("af_pudd_4",1)
end

--' проверим наличие финансов за ФН
function akim_have_money_120000(actor,npc)
    return actor:money() > 120000
end

--' отдадим пудинг Акиму и получим  ФН
function give_akim_pudd(first_speaker, second_speaker)
	lost("af_pudd_4",1)
	got("wpn_fn2000_sniper")
end

--' отдадим деньги Акиму за снайперку
function akim_give_money_120000(t1,t2)
	lost_money(120000)
end

--' обмен патронов для минигана у Акима
function akim_obmen6_have(actor,npc)
   return actor:money() > 10000
end
function akim_obmen6(actor,npc)
	lost_money(10000)
	got("ammo_minigun")
end

function akim_obmen7_have(actor,npc)
	return actor:money() > 2000 and has("af_gravi",1)
end
function akim_obmen7(actor,npc)
	lost_money(2000)
	lost("af_gravi",1)
	got("ammo_minigun")
end

function akim_obmen8_have(actor,npc)
   return actor:money() > 5000 and has("af_medusa",1)
end
function akim_obmen8(actor,npc)
	lost_money(5000)
	lost("af_medusa",1)
	got("ammo_minigun")
end

--' Сахар дал арт на дорожку 
function sahar_dal_art(first_speaker, second_speaker)
	got("af_pudd_3")
end

--' спавним сумку Сахара на чаэс-1
function sahar_sumka_start()
	create("sumka_arhara",xyz(274.54000854492,0.91153953075409,-216.47441101074),114326,2350)
end

--' проверим наличие сумки для Сахара
function sahar_sumka_have()
	return has("sumka_arhara",1)
end

--' отдадим сумку Сахару
function sahar_sumka_done(first_speaker, second_speaker)
	lost("sumka_arhara",1)
	got("doc_10")
end

--' а это рюкзачок для минигана на припяти
function new_inventory15()
	create("m_inventory_box15", xyz(192.30499267578,28.663299560547,209.28273010254),260026,2219)
end

--' спавним наши патроны и миниган на крыше
function paron_krusha()
	create("ammo_minigun",xyz(192.304,28.663,209.282),260026,2219)
	create("ammo_minigun",xyz(192.304,28.663,209.282),260026,2219)
end

--' проверим наличие медальона у ГГ
function med_dok_have()
	return has("doc_medal",1)
end

--' отдадим медальон Доку
function med_dok_done(first_speaker, second_speaker)
	lost("doc_medal",1)
end

--' Док вернул медальон
function med_dok_obrat(first_speaker, second_speaker)
	got("doc_medal")
	got("doc_8")
end

--' проверим наличие финансов на рецепт гусеницы
function sahar_have_money_50000(actor,npc)
    return actor:money() > 50000
end

--' отдадим деньги Сахару
function sahar_give_money_50000(t1,t2)    
	lost_money(50000)
end    

--' проверим наличие выверта за замок для акима
function akim_vyvert_have()
	return has("af_vyvert",1)
end

--' проверим наличие финансов
function akim_have_money_vyvert_20000(actor,npc)
    return actor:money() > 10000
end

--' отдадим выверт Акиму и получим  замок
function give_akim_vyvert(first_speaker, second_speaker)
	lost("af_vyvert",1)
	got("zamok")
end

--' отдадим деньги Акиму за замок
function akim_give_money_vyvert_20000(t1,t2)
	lost_money(10000)
end

--' парочка бюреров на баре
function spawn_burer_bar()
	create("burer_strong",xyz(99.368,1.213,-122.928),45947,1173)
	create("burer_strong",xyz(158.990,4.012,-108.175),45947,1173)
end

--' проверим наличие вороньих яиц у ГГ
function arhara_omlet_have()
	return has("vorona_egg",10)
end

--' отдадим яйца повару и получим пушку
function arhara_omlet_done(first_speaker, second_speaker)
	lost("vorona_egg",10)
	got("wpn_rg6_m1")
end

--' спавним наши бутылочки с лекарством и вояк для веселья
function butilka()
	create("lekarstvo",xyz(-140.25267028809,-28.525129318237,-356.89068603516),110480,19)
	create("lekarstvo",xyz(-139.74499511719,-28.524593353271,-356.88391113281),110480,19)
	create("lekarstvo",xyz(-139.23518371582,-28.524532318115,-356.93264770508),111250,19)
	create("lekarstvo",xyz(-135.88641357422,-28.738632202148,-359.15521240234),114324,19)
	create("lekarstvo",xyz(-136.90090942383,-28.73921585083,-359.18383789063),113558,18)
	create("zasada_tonnel_agro_3",xyz(-163.62464904785,-25.436117172241,-356.86444091797),85709,31)
	create("zasada_tonnel_agro_1",xyz(-168.9747467041,-25.435110092163,-352.73577880859),81063,31)
	create("zasada_tonnel_agro_2",xyz(-178.65881347656,-29.065357208252,-364.28756713867),71841,30)
	create("zasada_blockpost_1",xyz(-132.80337524414,-25.790529251099,-356.68655395508),118106,19)
	create("zasada_blockpost_3",xyz(-135.33158874512,-30.174585342407,-397.16305541992),115787,21)
	create("agro_elite_soldier",xyz(-113.38027954102,-30.475996017456,-364.5309753418),142107,24)
end

--' проверим наличие лекарства для Акима
function arhara_omlet_akim_have()
	return has("lekarstvo",3)
end

--' отдадим лекарство Акиму
function arhara_omlet_akim_done(first_speaker, second_speaker)
	lost("lekarstvo",3)
end

--' спавним вороньи яйца
function vorona_egg_spawn()
	create("vorona_egg",xyz(-34.258,1.229,61.552),159972,2881)
	create("vorona_egg",xyz(-34.258,1.229,61.552),159972,2881)
	create("vorona_egg",xyz(-34.258,1.229,61.552),159972,2881)
	create("vorona_egg",xyz(-34.258,1.229,61.552),159972,2881)
	create("vorona_egg",xyz(4.979,1.458,117.221),192133,2881)
	create("vorona_egg",xyz(4.979,1.458,117.221),192133,2881)
	create("vorona_egg",xyz(4.979,1.458,117.221),192133,2881)
	create("vorona_egg",xyz(110.141,2.509,131.046),278456,2885)
	create("vorona_egg",xyz(110.141,2.509,131.046),278456,2885)
	create("vorona_egg",xyz(110.141,2.509,131.046),278456,2885)
	create("vorona_egg",xyz(-136.771,-0.184,-148.663),79878,2882)
	create("vorona_egg",xyz(-136.771,-0.184,-148.663),79878,2882)
	create("vorona_egg",xyz(-136.771,-0.184,-148.663),79878,2882)
	create("vorona_egg",xyz(-163.050,2.087,-161.024),58073,2882)
	create("vorona_egg",xyz(-163.050,2.087,-161.024),58073,2882)
	create("controller_senator",xyz(-123.09496307373,9.1040058135986,101.61030578613),90668,2881)
	create("controller_babka",xyz(-199.84088134766,-0.2078532576561,-121.52265167236),29582,2882)
end

--' а это рюкзачок для минигана в пещере
function new_inventory16()
	create("m_inventory_box16", xyz(-0.047491822391748,-2.4808914661407,-9.304651260376),32285,2880)
end

--' спавним сердце полтергейста и скелеты в пещере
function af_part_monolit_spawn()
	create("af_part_monolit",xyz(0.101,-2.429,-8.607),32286,2880)
end

--' получим лекарство Шахтера
function arhara_shaxter_done(first_speaker, second_speaker)
	got("shaxter_tele")
end

--' спавним фонарики
function fonarik_les()
	local obj = story_object(5243)
	create("fonarik",obj.position, obj.m_level_vertex_id, obj.m_game_vertex_id, obj.id)
	create("fonarik",obj.position, obj.m_level_vertex_id, obj.m_game_vertex_id, obj.id)
	create("ammo_12x70_kart",obj.position, obj.m_level_vertex_id, obj.m_game_vertex_id, obj.id)
	create("grenade_rgd5",obj.position, obj.m_level_vertex_id, obj.m_game_vertex_id, obj.id)
	create("medkit",obj.position, obj.m_level_vertex_id, obj.m_game_vertex_id, obj.id)
	create("repair_item_weapon",obj.position, obj.m_level_vertex_id, obj.m_game_vertex_id, obj.id)
end

--' эта функция проверяет наличие 2 фонариков
function shaxter_fonar_dost_have() 
	return has("fonarik",2)
end

--' отдадим фонарики шахтёру и получим  Сердце полтергейста
function shaxter_fonar_dost_done(first_speaker, second_speaker)
	lost("fonarik",2)
	got("af_part_monolit")
end

--' спавним кубик для Акима
function kubik_spawn()
	create("kubik",xyz(-6.754,9.126,-98.030),165824,821)
end

--' эта функция проверяет наличие кубика
function akim_kubik_nayti_have() 
	return has("kubik",1)
end

--' отдадим кубик Акиму
function akim_kubik_nayti_done(first_speaker, second_speaker)
	lost("kubik",1)
end

--' спавним книгу Шахтёра
function book_xabarych_spawn()
	create("book_xabarych",xyz(-218.918,0.026,-223.327),14359,2882)
end

--' проверим наличие книги
function shax_kniga_naity_have() 
	return has("book_xabarych",1)
end

--' отдадим книгу шахтёру и получим  микроб и Ремингтон 
function shax_kniga_naity_done(first_speaker, second_speaker)
	lost("book_xabarych",1)
	got("af_electro_crystal_thorn")
	got("wpn_rem870_magnum")
end

--' спавним клад и микроба
function klad_spawn()
	create("a_inventory_box56",xyz(-91.327941894531,-2.0939588546753,-28.991931915283),18750,2875)
	create("af_electro_crystal_thorn",xyz(-89.472,-2.490,-21.391),19110,2875)
	create("af_eye_voron",xyz(-89.772,-2.490,-21.691),19110,2875)
	create("scelet_strong",xyz(-92.451225280762,2.7269945144653,5.9352955818176),18375,2870)
	create("m_poltergeist_dd",xyz(-92.451225280762,2.7269945144653,5.9352955818176),18375,2870)
	create("m_controller_act",xyz(-92.451225280762,2.7269945144653,5.9352955818176),18375,2870)
	create("poltergeist_build",xyz(-92.451225280762,2.7269945144653,5.9352955818176),18375,2870)
	create("scelet_strong",xyz(-92.451225280762,2.7269945144653,5.9352955818176),18375,2870)
	create("carlic",xyz(-92.451225280762,2.7269945144653,5.9352955818176),18375,2870)
	create("carlic",xyz(-92.451225280762,2.7269945144653,5.9352955818176),18375,2870)
	create("controller_senator",xyz(-91.327941894531,-2.0939588546753,-28.991931915283),18750,2875)
end

--' проверим наличие клада для Лысого
function lysyi_klad_nayti_have() 
	return has("money",3) and
		has("money1",3) and
		has("money2",3) and
		has("money3",3)
end

--' заспавним монстриков в пещере и несколько артов
function monstr_spawn_peshera()
	create("pseudodog_strong",xyz(-112.136,2.497,5.440),12551,2870)
	create("pseudodog_big",xyz(-112.136,2.497,5.440),12551,2870)
	create("pseudodog_strong",xyz(-112.136,2.497,5.440),12551,2870)
	create("pseudodog_big",xyz(-112.136,2.497,5.440),12551,2870)
	create("zombie_hell1",xyz(-112.1359,2.497,5.440),12551,2870)
	create("zombie_hell2",xyz(-112.1359,2.497,5.440),12551,2870)
	create("zombie_babka_strong",xyz(-32.242,-2.364,17.576),30991,2878)
	create("zombie_babka_normal",xyz(-32.242,-2.364,17.576),30991,2878)
	create("zombie_hell3",xyz(-32.2419,-2.364,17.576),30991,2878)
	create("zombie_hell15",xyz(-32.2419,-2.364,17.576),30991,2878)
	create("zombie_trup",xyz(-32.2419,-2.364,17.576),30991,2878)
	create("zombie_babka_weak",xyz(-32.578,-2.469,19.725),30910,2878)
	create("zombie_hell8",xyz(-32.578,-2.469,19.725),30910,2878)
	create("zombie_hell11",xyz(-61.608,2.488,19.820),26067,2870)
	create("zombie_hell15",xyz(-61.608,2.488,19.820),26067,2870)
	create("zombie_strong",xyz(-61.608,2.488,19.820),26067,2870)
	create("zombie_normal",xyz(-61.6079,2.488,19.820),26067,2870)
	create("zombie_hell10",xyz(-61.6079,2.488,19.820),26067,2870)
	create("zombie_hell4",xyz(-61.6079,2.488,19.820),26067,2870)
	create("af_medusa",xyz(-94.865,8.402,-111.352),17544,2880)
	create("af_gravi",xyz(-80.858,-2.481,-18.319),21213,2875)
	create("af_fireball",xyz(-109.260,2.498,6.314),13261,2870)
	create("af_buliz",xyz(-136.571,1.497,-6.945),6973,2866)
end

--' отдадим клад Лысому
function lysyi_klad_nayti_done(first_speaker, second_speaker)
	lost("money",3)
	lost("money1",3)
	lost("money2",3)
	lost("money3",3)
	second_speaker:set_relation(game_object.friend, first_speaker)
end

--' получим бабки и MP-5 PDW от Лысого
function lysyi_babki_vzyt_45000(t1,t2)
	got_money(45000)
	got("wpn_mp5k_pdw")
end

--' повторно заспавним монстриков в пещере и несколько артов
function monstr1_spawn1_peshera1()
	create("m_poltergeist_strong_flame",xyz(-67.926,-12.681,76.354),24792,2873)
	create("bloodsucker_strong",xyz(-136.398,2.679,26.343),7031,2866)
	create("bloodsucker_strong",xyz(-136.398,2.679,26.343),7031,2866)
	create("gigant_strong",xyz(-84.236,-2.719,57.208),20589,2871)
	create("gigant_strong",xyz(-84.236,-2.719,57.208),20589,2871)
	create("af_rusty_thorn",xyz(-93.115,-12.629,18.815),18189,2872)
	create("af_rusty_sea-urchin",xyz(-99.898,-12.647,48.704),16000,2869)
end

--' заспавним изум. выверт в Забытом лесу
function spawn_vyvert_green()
	create("af_vyvert_green",xyz(5.379,-0.00,222.374),192846,2883)
end

--' спавним ПДА Стрелка
function str_pda_spawn()
	create("strelok_pda",xyz(-98.916,9.947,-122.306),16319,2880)
	create("ammo_9x39_izomorf",xyz(-98.915,9.947,-122.306),16319,2880)
	create("ammo_9x39_izomorf",xyz(-98.915,9.947,-122.306),16319,2880)
	create("af_babka_1",xyz(-98.320,9.614,-121.451),16574,2880)
end

--' проверим наличие арта
function pda_shaxt_strelok_naity_have() 
	return has("af_armor_4",1)
end

--' отдадим арт шахтёру и он друг
function pda_shaxt_strelok_naity_done(first_speaker, second_speaker)
	lost("af_armor_4",1)
	second_speaker:set_relation(game_object.friend, first_speaker)
end

--' проверим наличие вывертов и микросхем для Долговязого
function dolgovyzui_lentyi_have()
	return has("af_vyvert",5) and has("microshema",10)
end

--' спавним маленькие термосы
function termos_small_spawn()
	create("termos_small",xyz(299.50552368164,2.0341849803925,-158.66949462891),330061,3531) -- болота
	create("termos_small",xyz(623.25767822266,3.6071291446686,437.70494995117),525316,3578) -- болота
	create("termos_small",xyz(108.15433502197,-5.9027981185913,-24.712044525146),533866,2823) -- атп
	create("termos_small",xyz(613.80084228516,-50.572933654785,-311.26504516602),220555,1881) -- радар
	create("termos_small",xyz(391.43371582031,-33.302521209717,152.76473083496),119302,1865) -- радар
	create("termos_small",xyz(-222.5792175293,-7.8082342147827,-128.80459106445),17621,281) -- свалка
end

--' эта функция проверяет наличие термосов
function voronin_termos_naity_have() 
	return has("termos_big",5) and has("termos_small",5)
end

--' отдадим термосы Воронину
function voronin_termos_naity_done()
	lost("termos_big",5)
	lost("termos_small",5)
	got("doc_1")
end

--' спавним подарок Воронина
function voronin_prezent()
	create("acumm",xyz(39.209,11.182,-100.376),223209,820)
	create("acumm",xyz(39.209,11.182,-100.376),223209,820)
	create("acumm",xyz(39.181,11.181,-99.905),223209,820)
	create("acumm",xyz(39.181,11.181,-99.905),223209,820)
	create("acumm",xyz(39.162,11.182,-99.467),223211,820)
	create("acumm",xyz(39.162,11.182,-99.467),223211,820)
	create("ammo_7.62x39_k",xyz(39.274,11.184,-98.932),223212,820)
	create("ammo_7.62x39_k",xyz(39.287,11.184,-98.445),223212,820)
	create("ammo_7.62x39_k",xyz(39.287,11.184,-98.445),223212,820)
	create("ammo_m209",xyz(39.341,11.184,-100.730),223207,820)
	create("ammo_m209",xyz(39.341,11.184,-100.730),223207,820)
	create("ammo_m209",xyz(39.341,11.184,-100.730),223207,820)
	create("ammo_vog-25",xyz(39.397,11.184,-100.253),223209,820)
	create("ammo_vog-25",xyz(39.397,11.184,-100.253),223209,820)
	create("ammo_vog-25",xyz(39.397,11.184,-100.253),223209,820)
	create("ammo_vog-25",xyz(39.397,11.184,-100.253),223209,820)
	create("ammo_vog-25p",xyz(39.306,11.184,-99.599),223211,820)
	create("ammo_vog-25p",xyz(39.306,11.184,-99.599),223211,820)
	create("ammo_vog-25p",xyz(39.306,11.184,-99.599),223211,820)
end

--' спавним ремкомплекты
function remkomplekt_spawn()
	create("kuvalda",xyz(138.305,-6.021,13.806),576283,2832)
	create("kuvalda",xyz(160.75564575195,-5.8302555084229,-54.942893981934),607741,2833)
	create("kluch",xyz(-55.443,-6.437,-21.472),255385,1605)
	create("kluch",xyz(-55.471,-6.436,-21.143),255386,1605)
	create("otvertka",xyz(113.399,-1.398,3.550),540952,2826)
	create("otvertka",xyz(113.173,-1.398,3.539),540952,2826)
	create("af_ameba_slime",xyz(-143.967,-2.800,-11.277),168374,2798)
	create("zombie_babka_weak",xyz(-78.585,-5.721,-96.389),264461,2808)
	create("zombie_babka_normal",xyz(-80.783,-6.114,-68.725),261420,2808)
	create("zombie_babka_strong",xyz(-100.377,-6.11,-43.543),233002,2798)
	create("zombie_immortal",xyz(-93.483,-6.470,6.115),242276,2809)
	create("zombie_strong",xyz(-149.506,-3.846,6.074),160198,2796)
end

--' проверим наличие ремкомплектов
function petr_sidor_vzyt_have() 
	return has("kuvalda",2) and has("kluch",2) and has("otvertka",2)
end

--' отдадим ремкомплекты Сидору
function petr_sidor_vzyt_done(first_speaker, second_speaker)
	lost("kuvalda",2)
	lost("kluch",2)
	lost("otvertka",2)
end

--' спавним подарок Петренко а заодно и сюрприз
function nu_nakonez_to()
	create("wpn_pkm_m1",xyz(214.222,1.027,223.993),359851,2885)
	create("ammo_7.62x54r",xyz(214.252,1.000,223.430),359850,2885)
	create("ammo_7.62x54r",xyz(214.252,1.000,223.430),359850,2885)
	create("af_armor_3",xyz(214.715,0.333,221.231),359849,2885)
	create("polter_xray",xyz(219.972,3.946,195.279),363663,2885)
	create("m_controller_act",xyz(219.972,3.946,195.279),363663,2885)
	create("m_poltergeist_dd",xyz(219.972,3.946,195.279),363663,2885)
end

--' раз у Сяка функция не пашет - спавн док дезертира + веселуха
function spawn_rad_document7()
	local obj = story_object(9115)
	create("rad_document7",obj.position, obj.m_level_vertex_id, obj.m_game_vertex_id, obj.id)
	create("zasada_tonnel_agro_2",xyz(-175.85920715332,7.3848404884338,-155.32315063477),61033,560)
	create("agro_elite_rpg",xyz(-183.70137023926,5.317928314209,-170.63172912598),53257,667)
	create("soldier_mines_regular",xyz(-169.85111999512,5.3175392150879,-170.36421203613),66853,667)
	create("soldier_mines_regular",xyz(-195.93034362793,7.3854722976685,-223.88467407227),40564,555)
	create("soldier_mines_veteran",xyz(-132.79737854004,-0.20200881361961,-144.02784729004),106301,697)
	create("soldier_mines_regular",xyz(-156.57958984375,14.998466491699,-191.31016540527),80447,644)
	create("soldier_mines_veteran",xyz(-131.26614379883,14.998692512512,-191.58946228027),107755,642)
	create("zasada_tonnel_agro_2",xyz(-153.41352844238,9.9984302520752,-201.50427246094),84277,646)
	create("agro_elite_soldier",xyz(-131.84466552734,4.9986295700073,-200.23066711426),107710,621)
	create("zasada_tonnel_agro_3",xyz(-145.77922058105,4.9975275993347,-203.05874633789),92503,621)
end

--' проверим наличие компа и 3д-рации
function voronin_stol_dostat_have() 
	return has("3d_raziy",1) and has("pribor",1)
end

--' отдадим комп и 3д-рацию Воронину
function voronin_stol_dostat_done(first_speaker, second_speaker)
	lost("3d_raziy",1)
	lost("pribor",1)
	got("af_dik_3")
	got("af_vyvert_green")
	got("wpn_svu_m1")
	got("wpn_addon_scope_m1")
end

--' заспавним рацию, записку и комп
function spawn_stol()
	create("pribor",xyz(34.830,8.061,-38.123),217765,1054)
	create("3d_raziy",xyz(-297.263,-18.034,292.275),45228,1833)
	create("malyva",xyz(32.784,8.062,-36.736),214836,1054)
end

--' проверим наличие рации
function sahar_info_have() 
	return has("telefon",1)
end

--' отдадим телефон Сахару и Сахар друг
function sahar_info_done(first_speaker, second_speaker)
	lost("telefon",1)
	second_speaker:set_relation(game_object.friend, first_speaker)
end

--' удаляем ненужных экологов
function delete_nps_ecolog()
	release("bar_ecolog_crush_1")
	release("bar_ecolog_crush_2")
	release("bar_ecolog_crush_3")
	release("bar_ecolog_crush_4")
end

--' удаляем труп Корчагина
function delete_korchagin()
	release("dead_korchagin_military")
end

--' удаляем труп вояки с УРТ
function delete_voen_urt()
	release("dead_military_qvest_crest")
end

--' удаляем труп Андрея
function delete_voen_andrey()
	release("dead_military_esc")
end

--' удаляем пленного из Лабиринта
function delete_labirint_shahter()
	release("labirint_monolit_shahter")
end

--' удаляем Звездочёта с Кордона
function delete_zvezd()
	release("esc_zvezdochet")
end

--' удаляем первого Доктора
function delete_doktor1()
	release("doktor1")
end

--' проверим наличие артов для Креста
function have_art1()
	return has("af_medusa",5) and has("af_cristall_flower",5) and has("af_fireball",5)
end

--' отдадим арты Кресту и получим награду
function remove_art(first_speaker, second_speaker)
	lost("af_medusa",5)
	lost("af_cristall_flower",5)
	lost("af_fireball",5)
	got("af_simbion")
	got("af_armor_3")
	got("wpn_ak107")
	got("ammo_5.45x39_izomorf",2)
end

--' проверим аномальных бизонов
function have_bizon() 
	return has("wpn_bizon1",6)
end

--' отдадим бизоны Кресту и получим  награду
function delete_bizon(first_speaker, second_speaker)
	lost("wpn_bizon1",6)
	got("arc_art_box_8basic")
	got("af_dummy_battery")
	got("wpn_vsk94")
	got("ammo_9x39_izomorf")
end

--' 20 и 40 ПДА у информатора
function inform_20_pda_have()
	return has("device_pda_npc",20) 
end

function inform_40_pda_have()
	return has("device_pda_npc",40) 
end

function inform_20_pda(first_speaker, second_speaker)
	local item = nagrad.level_7[math.random(#nagrad.level_7)]
    local count = math.random(2,3)
	lost("device_pda_npc", 20)
	got(item, count)
end

function inform_40_pda(first_speaker, second_speaker)
	lost("device_pda_npc", 40)
end

--' проверим наличие 40 рук зомби для Акима
function have_a_hand() 
	return has("part_zombie_hand",40)
end

--' отдадим 40 рук зомби Акиму получим  награду и поднимем репу
function out_hand(first_speaker, second_speaker)
	lost("part_zombie_hand",40)
	got_money(10000)
	got("wpn_ak74u_svd")
	got("ammo_7.62x54_7h14",2)
	second_speaker:set_relation(game_object.friend, first_speaker)
	db.actor:change_character_reputation(30)
end

--' спавним 1 документ для Акима
function spawn_dok()
	create("old_doc",xyz(48.334,3.459,236.598),221779,359) 	 
end

--' отдадим документ и получим награду
function out_doc(first_speaker, second_speaker)
	lost("old_doc",1)
	got_money(3000)
	got("antizombie",2)
	second_speaker:set_relation(game_object.friend, first_speaker)
	db.actor:change_character_reputation(10)
end

--' проверим наличие 1 документа
function have_a_doc() 
	return has("old_doc",1)
end

--' спавним 2 документ для Акима
function spawn()
	create("a_inventory_box15",xyz(-40.162155151367,-4.5870892047882,-20.518196105957),4666,732)
end

--' отдадим документ
function doc_otdan_p(first_speaker, second_speaker)
	lost("old_doc_2",1)
	got_money(4000)
	got("antizombie")
	got("treasure_item")
	second_speaker:set_relation(game_object.friend, first_speaker)
	db.actor:change_character_reputation(10)
end

--' проверим наличие 2 документа
function have_doc2() 
	return has("old_doc_2",1)
end

--' спавним 3 документ для Акима в х18 в рюкзаках, 4 - у Корчагина
function spawn_old()
	create("m_inventory_box24", xyz(-8.440,1.893,11.780),1907,1125)
	create("m_inventory_box25", xyz(-41.247,-10.908,13.351),328,1148)
	create("m_inventory_box26", xyz(-37.379,-13.006,-14.669),315,1153)
	--create("old_doc_3_3", xyz(29.782,-10.464,42.185),6521,1161)
end

--' отдадим 3 часть доков и получим  награду АК-104 и патроны
function out_old(first_speaker, second_speaker)
	lost("old_doc_3_1", 1)
	lost("old_doc_3_2", 1)
	lost("old_doc_3_3", 1)
	lost("old_doc_3_4", 1)
	got_money(6000)
	got("antizombie")
	got("af_electra_moonlight")
	got("wpn_ak104")
	got("ammo_7.62x39_k")
	got("ammo_7.62x39_ap")
	second_speaker:set_relation(game_object.friend, first_speaker)
	db.actor:change_character_reputation(10)
end

--' проверим наличие 3 документов для Акима
function have_a_doc_s()
	return has("old_doc_3_4",1) and has("old_doc_3_3",1) and has("old_doc_3_2",1) and has("old_doc_3_1",1)
end

--' проверим наличие 4 документов для Акима и броников
function have_a_doc_q()
	return has("militaryspec_outfit",1) and
		has("exo_outfit",1) and
		has("dolg_scientific_outfit",1) and
		has("exo_bandit_outfit",1) and
		has("old_doc_4",1) and
		has("pda_info",1)
end

--' отдадим всё Акиму и получим  награду
function out_outfit(first_speaker, second_speaker)
	lost("militaryspec_outfit",1)
	lost("exo_outfit",1)
	lost("dolg_scientific_outfit",1)
	lost("old_doc_4",1)
	lost("pda_info",1)
	lost("exo_bandit_outfit",1)
	got_money(8000)
	got("arhara_instruk")
	give_info("2")
	db.actor:change_character_reputation(10)
end

--' спавним 4 документ для Акима
function spawn_new_dok()
	create("old_doc_4",xyz(109.10995483398,11.377179145813,-12.646112442017),6999,1544)
	create("pda_info",xyz(55.847,8.710,-20.499),250905,990)
	akill.x16_mutant_spawn()
end

--' спавним суперскат
function spawn_new_exoskeleton()
	create("exo_mil_exoskeleton",xyz(-12.084,4.879,-43.365),34459,1444)
end

--' проверим наличие запчастей для Акима
function have_doc_tvar()
	return has("part_face_tushkano",1) and
		has("part_bear_paw",1) and
		has("part_winger_liver",1) and
		has("part_nosales_tongue",1) and
		has("part_fang_wolf",1) and
		has("part_carlic_hand",1) and
		has("part_vypolzen_hrebet",1) and
		has("part_raptor_kogot",1) and
		has("part_spider_gland",1) and
		has("part_rotan_heart",1) and
		has("part_plague_hand",1) and
		has("part_zanoza_leg",1) and
		has("part_hand_kontroler",1) and
		has("part_poltergeist_glas",1) and
		has("part_psevdogigant_hand",1) and
		has("part_tail_cat",1) and
		has("part_chimera_kogot",1) and
		has("part_flesh_eye",1) and
		has("part_boar_leg",1) and
		has("part_dog_tail",1) and
		has("part_psevdodog_tail",1) and
		has("part_krovosos_jaw",1) and
		has("part_burer_hand",1) and
		has("part_snork_leg",1) and
		has("part_fracture_hand",1) and
		has("part_deathclaw_antler",1) and
		has("part_digitis_biblio",1) and
		has("part_tarakan",1) and
		has("part_tarakan_strong",1) and
		has("part_zombie_teeth",1) and
		has("part_spleen_rat",1)
end

--' отдадим запчасти Акиму
function out_all_tvar(first_speaker)
	lost("part_bear_paw",1)
	lost("part_winger_liver",1)
	lost("part_nosales_tongue",1)
	lost("part_fang_wolf",1)
	lost("part_face_tushkano",1)
	lost("part_carlic_hand",1)
	lost("part_vypolzen_hrebet",1)
	lost("part_raptor_kogot",1)
	lost("part_spider_gland",1)
	lost("part_rotan_heart",1)
	lost("part_plague_hand",1)
	lost("part_zanoza_leg",1)
	lost("part_hand_kontroler",1)
	lost("part_poltergeist_glas",1)
	lost("part_psevdogigant_hand",1)
	lost("part_tail_cat",1)
	lost("part_chimera_kogot",1)
	lost("part_flesh_eye",1)
	lost("part_boar_leg",1)
	lost("part_dog_tail",1)
	lost("part_psevdodog_tail",1)
	lost("part_krovosos_jaw",1)
	lost("part_burer_hand",1)
	lost("part_snork_leg",1)
	lost("part_fracture_hand",1)
	lost("part_deathclaw_antler",1)
	lost("part_digitis_biblio",1)
	lost("part_tarakan",1)
	lost("part_tarakan_strong",1)
	lost("part_zombie_teeth",1)
	lost("part_spleen_rat",1)
	got("wpn_vepr12")
	got("ammo_12x70_kart")
	got("af_armor_4")
end

--' проверим наличие слом. телепортатора для Креста
function have_true()
	return has("hand_teleporter_arhara",1) 
end 

--' отдадим телепортер Кресту и получим награду
function done(first_speaker, second_speaker)
	lost("hand_teleporter_arhara",1) 
	got("wpn_glock19_col")
	second_speaker:set_relation(game_object.friend, first_speaker)
	db.actor:change_character_reputation(10)
end

--' заспавним раб. телепортер на АТП
function teleporter()
	create ("hand_teleporter", xyz(99.139,-7.145,-5.472),523095,2828)
end

--' проверим наличие Грозы для Воронина
function voronin_infa_gg_have()
	return has("wpn_groza",1)
end

--' получим  аптечки
function voronin_infa_gg_done(first_speaker, second_speaker) 
	got("medkit",2)
end

--' получим  сыворотку от Калинина
function kalinin_zadan_done(first_speaker, second_speaker) 
	got("suvorotka",2)
end

--' проверим наличие флэхи для Калинина
function gonets_spasti_have()
	return has("gonets_flash",1)
end

--' отдадим флэху и получим награду от Калинина и Калинин друг
function gonets_spasti_done(first_speaker, second_speaker)
	lost("gonets_flash",1) 
	got("ammo_12x70_kart",4)
	second_speaker:set_relation(game_object.friend, first_speaker) 
end

--' получим флешку от гонца
function gonets_fleha(first_speaker, second_speaker) 
	got("gonets_flash") 
end

--' получим арт от гонца
function gonets_art(first_speaker, second_speaker) 
	got("af_dik_3") 
end

--' спавним монстров на пути Гонца
function zombari_spawn()
	create("kikimora",xyz(-28.716983795166,-1.5798703432083,221.76837158203),337312,2812)
	create("kikimora",xyz(-19.771463394165,-1.7654148340225,230.52334594727),350581,2812)
	create("kikimora",xyz(7.889937877655,-2.5583503246307,209.32551574707),390329,2812)
	create("stinger",xyz(379.72775268555,-0.22740709781647,132.1515045166),920509,2858)
	create("stinger",xyz(379.72775268555,-0.22740709781647,132.1515045166),920509,2858)
	create("stinger",xyz(379.72775268555,-0.22740709781647,132.1515045166),920509,2858)
	create("stinger",xyz(325.45590209961,-1.8443648815155,199.15240478516),842979,2850)
	create("stinger",xyz(325.45590209961,-1.8443648815155,199.15240478516),842979,2850)
	create("stinger",xyz(325.45590209961,-1.8443648815155,199.15240478516),842979,2850)
	create("stinger",xyz(325.45590209961,-1.8443648815155,199.15240478516),842979,2850)
	create("molerat",xyz(211.37327575684,-1.4890750646591,184.02146911621),679344,2839)
	create("molerat",xyz(211.37327575684,-1.4890750646591,184.02146911621),679344,2839)
	create("stinger",xyz(64.848823547363,-5.1277589797974,214.52407836914),473077,2829)
	create("stinger",xyz(64.848823547363,-5.1277589797974,214.52407836914),473077,2829)
	create("stinger",xyz(64.848823547363,-5.1277589797974,214.52407836914),473077,2829)
	create("stinger",xyz(64.848823547363,-5.1277589797974,214.52407836914),473077,2829)
	create("stinger",xyz(64.848823547363,-5.1277589797974,214.52407836914),473077,2829)
end

--' проверим наличия артов для Калинина
function vuxod_atp_have()
	return has("af_electra_moonlight",1) and
		has("af_dummy_glassbeads",1) and
		has("af_electra_flash",1)
end

--' отдадим арты Калинину
function vuxod_atp_done()
	lost("af_electra_moonlight",1)
	lost("af_dummy_glassbeads",1)
	lost("af_electra_flash",1)
end

--' получим аптечку нож и бинокль от Звездочёта
function noz_dat(first_speaker, second_speaker) 
	got("wpn_pm")
	got("medkit")
	got("wpn_binoc")

-- перед релизом выкинуть весь спавн что ниже !!!!
if db.debug_mode then
	--first_speaker:stop_talk()
	--second_speaker:stop_talk()
	snp.invul_on()
	give_info("vol_info_temp")
	give_info("sar_monolith_destroy")
	give_info("bar_deactivate_radar_done")
	give_info("arhara_shaxter_start")
	give_info("esc_serious_talk")
	give_info("dimak_doki_start")
	give_info("doki_dimak_done")
	give_info("fli_have_3")
	give_info("tutorial_end")
	give_info("tel_dcity_kanaliy")
	got("teleportator",1)
	got("anom_egg",100)
	for	i=1, 64 do
		lost_all("arhara_obman"..tostring(i))
		give_info("arhara_obman"..tostring(i))
	end
	give_info("dimak_toolkit_done")
	got("af_kamen_udachy",1)
	got("wpn_ognemet",1)
	got("bioradar2",1)
	got("det_artefact_super",1)
	got("detector_elite_john",1)
	got("runner_tele",1)
	got("ammo_balon",10)
	got("medkit",10)
	got("af_power_3",3)
	got("matras",1)
	got("kolbasa",10)
	got("treasure_item",1)
	got_money(4000000)
	--db.actor:set_actor_position(xyz(-246.33087158203,-24.792457580566,-134.04139709473))
end
-- !!!!
end

--' получим арт от Звездочёта
function podarok(first_speaker, second_speaker) 
	got("af_cry_1")
end

--' проверим наличие РПГ-7 для Калинина
function kalinin_btr_vzyt_have()
	return has("wpn_rpg7",1) and has("ammo_og-7b",6)
end

--' доп спавн вояк для веселья
function btr_ataka_start()
	create("soldier_mines_veteran",xyz(-57.625408172607,-2.3043558597565,210.91767883301),295420,2806)
	create("soldier_mines_regular",xyz(-90.542984008789,0.13832831382751,192.97155761719),247608,2806)
	create("soldier_mines_veteran",xyz(-109.78259277344,0.80875337123871,185.19479370117),218923,2806)
	create("soldier_mines_regular",xyz(-131.74896240234,0.95404648780823,183.92889404297),187068,2806)
	create("soldier_mines_veteran",xyz(-155.69924926758,0.90023481845856,181.759765625),152239,2799)
	create("soldier_mines_regular",xyz(-186.40155029297,-1.7786251306534,134.44165039063),107291,2794)
	create("soldier_mines_veteran",xyz(-120.36361694336,-3.1845064163208,153.7420501709),203517,2806)
	create("soldier_mines_regular",xyz(-55.219573974609,-3.4230177402496,180.25556945801),298395,2806)
	create("agro_elite_rpg",xyz(-177.61116027832,2.5896408557892,183.17102050781),119626,2799)
amk_mod.spawn_military_tech_pack(create("vehicle_btr",xyz(-57.029960632324,-0.37507271766663,238.01370239258),296463,2812),"vehicle_btr", "scripts\\atp\\kalinin_btr1.ltx")
amk_mod.spawn_military_tech_pack(create("vehicle_btr",xyz(-98.666488647461,-3.6858041286469,138.81680297852),235319,2806),"vehicle_btr", "scripts\\atp\\kalinin_btr2.ltx")
amk_mod.spawn_military_tech_pack(create("vehicle_btr",xyz(-163.16427612305,-1.9265176057816,100.49438476563),140846,2802),"vehicle_btr", "scripts\\atp\\kalinin_btr3.ltx")
end

--' получим М249
function btr_ataka_done() 
	got("wpn_m249")
	got("af_simbion")
	got("grenade_fb",5)
end

--' заспавним в лабиринте арты во 2 пещере
function spawn_monolit_to_labirint()
	create("af_medusa",xyz(-311.981,16.300,219.735),39736,2920)
	create("af_cristall_flower",xyz(-318.176,16.612,167.987),35394,2922)
	create("af_gold_fish",xyz(-218.433,20.138,54.736),105379,2958)
	create("af_fireball",xyz(-128.102,15.460,351.711),147973,2974)
	create("af_cristall",xyz(-200.291,20.082,366.559),117285,2961)
	create("af_mincer_meat",xyz(-245.448,7.128,444.855),86899,2947)
	create("af_electra_sparkler",xyz(-134.238,18.732,459.057),146621,2973)
	create("af_medusa",xyz(-135.452,17.093,421.498),146315,2973)
	create("art_acumm",xyz(-229.414,14.210,424.312),98933,2954)
	create("art_acumm",xyz(-229.414,14.210,424.312),98933,2954)
	create("art_acumm",xyz(-229.414,14.210,424.312),98933,2954)
	create("af_armor_1",xyz(-229.414,14.210,424.312),98933,2954)
	create("af_electra_flash",xyz(-196.013,19.972,316.334),120678,2963)
	create("af_dik_1",xyz(-196.013,19.972,316.334),120678,2963)
	create("af_spirit_1",xyz(-196.013,19.972,316.334),120678,2963)
	create("art_acumm",xyz(-196.013,19.972,316.334),120678,2963)
	create("af_ameba_slug",xyz(-177.985,21.049,389.713),133385,2968)
	create("af_dummy_pellicle",xyz(-78.366,42.766,469.674),153706,2987)
end

--' заспавним арты в 3 пещере Лабиринта
function spawn_art_v_3peshere()
	create("af_dik_1",xyz(-220.315,56.106,137.398),104193,2987)
	create("af_spirit_1",xyz(-154.161,56.511,190.503),142841,2987)
	create("af_dummy_battery",xyz(-188.342,52.618,271.344),127542,2987)
	create("af_dummy_pellicle",xyz(-220.079,56.156,220.856),104806,2987)
	create("af_eye_voron",xyz(-356.979,96.881,190.423),14908,2918)
end

--' проверим наличие блокнота часового
function shax_plennik_nayti_have() 
	return has("kod_kamera",1)
end

--' отдадим блокнот Шахтёру
function shax_plennik_nayti_done(first_speaker, second_speaker)
	lost("kod_kamera",1) 
end

--' спавним мыло в лабиринте
function spawn_soap()
	create("a_inventory_box39",xyz(-312.73837280273,44.586780548096,184.40528869629),39654,2909)
	create("monolith_x8_regular",xyz(-295.94793701172,94.499092102051,203.97506713867),51676,2918)
	create("monolith_x8_veteran",xyz(-197.07321166992,96.005920410156,201.36112976074),119270,2957)
	create("monolith_x8_master",xyz(-229.93682861328,95.209197998047,205.41639709473),98095,2957)
	create("tank_spawn_zasada1",xyz(-305.04629516602,85.321830749512,287.00778198242),44738,2933)
	create("tank_x003",xyz(-236.19799804688,85.435455322266,281.39163208008),93285,2933)
	create("monolith_x8_regular",xyz(-215.50730895996,94.169532775879,306.26693725586),107558,2946)
	create("monolith_x8_veteran",xyz(-191.53134155273,74.176414489746,229.15910339355),124218,2964)
	create("monolith_x8_master",xyz(-212.88229370117,73.448081970215,144.64891052246),109261,2959)
	create("tank_spawn_zasada2",xyz(-197.20126342773,75.24991607666,84.920333862305),119090,2965)
	create("tank_spawn_zasada4",xyz(-329.95016479492,63.016952514648,95.051849365234),28565,2923)
	create("monolith_x8_veteran",xyz(-358.89923095703,50.695785522461,194.9585723877),13697,2914)
	create("monolith_x8_master",xyz(-279.56887817383,42.474052429199,201.97537231445),64608,2940)
	create("tank_spawn_zasada6",xyz(-310.10095214844,42.472610473633,187.03118896484),41066,2934)
	create("monolith_x8_regular",xyz(-244.25588989258,41.518142700195,204.23260498047),87592,2944)
amk_mod.spawn_military_tech_pack(create("auto_turret_2",xyz(-314.57806396484,94.463806152344,194.64991760254),38198,2918),"auto_turret_2", "scripts\\ohota\\turret.ltx")
amk_mod.spawn_military_tech_pack(create("auto_turret_2",xyz(-202.19982910156,97.14818572998,194.55479431152),115308,2957),"auto_turret_2", "scripts\\ohota\\turret.ltx")
amk_mod.spawn_military_tech_pack(create("auto_turret_2",xyz(-284.2942199707,85.468955993652,271.30822753906),61894,2933),"auto_turret_2", "scripts\\ohota\\turret.ltx")
amk_mod.spawn_military_tech_pack(create("auto_turret_2",xyz(-213.33656311035,74.106307983398,221.27432250977),109012,2964),"auto_turret_2", "scripts\\ohota\\turret.ltx")
amk_mod.spawn_military_tech_pack(create("auto_turret_2",xyz(-233.52354431152,61.754249572754,111.11217498779),94832,2949),"auto_turret_2", "scripts\\ohota\\turret.ltx")
amk_mod.spawn_military_tech_pack(create("auto_turret_2",xyz(-290.51278686523,60.409965515137,200.51188659668),56995,2939),"auto_turret_2", "scripts\\ohota\\turret.ltx")
amk_mod.spawn_military_tech_pack(create("auto_turret_2",xyz(-322.38467407227,46.704727172852,177.36660766602),32788,2909),"auto_turret_2", "scripts\\ohota\\turret.ltx")
end

--' проверим наличие мыла для Фимки
function fima_mulo_nayti_have()
	return has("soap",3)
end

--' отдадим всё Фиме
function fima_mulo_nayti_done()
	lost("soap",3)
	got("wpn_akms_otdaca_ves")
	kostya_dialog.give_ammo(3)
end

--' спавним шкатулку в Лабиринте и монстриков
function spawn_shkatul()
	create("shkatulka",xyz(-189.002,52.791,269.950),126910,2987)
	create("bloodsucker_effector",xyz(-190.695,56.187,190.873),125416,2987)
	create("bloodsucker_effector",xyz(-190.695,56.187,190.873),125416,2987)
	create("zombie_weak",xyz(-190.595,56.187,190.873),125416,2987)
	create("zombie_strong",xyz(-190.495,56.187,190.873),125416,2987)
	create("zombie_hell3",xyz(-190.395,56.187,190.873),125416,2987)
	create("zombie_hell15",xyz(-190.395,56.187,190.873),125416,2987)
	create("zombie_hell15",xyz(-190.395,56.187,190.873),125416,2987)
	create("chimera_strong",xyz(-179.217,52.310,272.398),132753,2987)
	create("zombie_hell4",xyz(-179.227,52.310,272.398),132753,2987)
	create("zombie_hell5",xyz(-179.237,52.310,272.398),132753,2987)
	create("zombie_hell6",xyz(-179.247,52.310,272.398),132753,2987)
	create("zombie_hell2",xyz(-179.257,52.310,272.398),132753,2987)
	create("pseudodog_normal",xyz(-185.462,56.305,212.259),129613,2987)
	create("pseudodog_big",xyz(-185.462,56.305,212.259),129613,2987)
	create("pseudodog_normal",xyz(-185.462,56.305,212.259),129613,2987)
	create("pseudodog_big",xyz(-185.462,56.305,212.259),129613,2987)
end

--' проверим шкатулку
function adr_shkatulka_dost_have() 
	return has("shkatulka",1)
end

--' отдадим шкатулку Адреналину
function adr_shkatulka_dost_done(first_speaker, second_speaker)
	lost("shkatulka",1) 
end

--' заспавним арты во 2 пещере
function spawn_art_2peshera()
	create("af_medusa",xyz(-311.981,16.300,219.735),39736,2920)
	create("af_cristall_flower",xyz(-318.176,16.612,167.987),35394,2922)
	create("af_fireball",xyz(-128.102,15.460,351.711),147973,2974)
	create("af_cristall",xyz(-200.291,20.082,366.559),117285,2961)
	create("af_mincer_meat",xyz(-245.448,7.128,444.855),86899,2947)
	create("af_electra_sparkler",xyz(-134.238,18.732,459.057),146621,2973)
	create("af_medusa",xyz(-135.452,17.093,421.498),146315,2973)
	create("art_acumm",xyz(-229.414,14.210,424.312),98933,2954)
	create("art_acumm",xyz(-229.414,14.210,424.312),98933,2954)
	create("af_armor_1",xyz(-229.414,14.210,424.312),98933,2954)
	create("af_electra_flash",xyz(-196.013,19.972,316.334),120678,2963)
	create("af_dik_1",xyz(-196.013,19.972,316.334),120678,2963)
	create("af_ameba_slug",xyz(-177.985,21.049,389.713),133385,2968)
end

--' проверим наличие сейфа
function tretiy_kod_dost_have() 
	return has("arhara_seif",1)
end

--' отдадим сейф Шахтёру
function tretiy_kod_dost_done(first_speaker, second_speaker)
	lost("arhara_seif",1) 
end

--' Сидор дал амулет
function amulet_gg(first_speaker, second_speaker) 
	got("amulet") 
end

--' проверим ремящики и амулет для Сидора
function sidor_amulet_vzyt_have()
	return has("amulet",1) and has("remontnyi_box",2)
end

--' отдадим всё Сидору и выправим репу у Свободы (почему-то падает)
function sidor_amulet_vzyt_done()
	lost("amulet",1)
	lost("remontnyi_box",2)
	kostya_dialog.stealth_fail_task()
	relation_registry.set_community_goodwill("freedom", db.actor:id(), relation_registry.community_goodwill("freedom", db.actor:id())+1000)
end

--' сделаем ГГ нейтралом
function join_stalker(actor, npc)
	db.actor:set_character_community("stalker", 0, 0)
end

--' проверим арты для Тени Монолита
function ten_monolita_talk_have()
	return has("af_arhara_globus",1) and has("af_caterpillar",1)
end

--' отдадим арты Тени Монолита
function ten_monolita_talk_done()
	lost("af_arhara_globus",1)
	lost("af_caterpillar",1)
end

--' заспавним арты сейф и ремящики
function spawn_seif_and_art()
	create("af_spirit_1",xyz(-313.808,57.639,200.901),38726,2987)
	create("af_kol_2",xyz(-320.767,64.973,205.055),34603,2987)
	create("af_fireball",xyz(-320.830,64.987,205.564),34603,2987)
	create("af_cristall",xyz(-319.758,62.230,203.374),34599,2987)
	create("af_armor_2",xyz(-313.692,57.639,200.900),38726,2987)
	create("af_cry_2",xyz(-313.579,57.638,200.666),38726,2987)
	create("arhara_seif",xyz(-312.919,57.637,201.125),39214,2987)
	create("remontnyi_box",xyz(-319.05535888672,52.750720977783,202.59901428223),35488,2987)
	create("remontnyi_box",xyz(-318.34164428711,52.752319335938,202.6096496582),35488,2987)
	create("ammo_igl",xyz(-320.875,64.959,203.579),34599,2987)
	create("ammo_gauss",xyz(-320.896,64.963,202.912),34595,2987)
	create("wpn_awm",xyz(-313.680,57.636,201.100),38726,2987)
	create("ammo_5.56x45_ap",xyz(-320.936,64.972,201.861),34588,2987)
	create("medkit_scientic",xyz(-320.814,64.967,204.396),34601,2987)
	create("medkit",xyz(-320.916,64.968,202.351),34592,2987)
	create("medkit",xyz(-320.916,64.968,202.351),34592,2987)
	create("ammo_9x39_pab9",xyz(-320.949,64.977,201.543),34588,2987)
	create("ammo_5.45x39_ap",xyz(-320.960,64.996,201.007),34583,2987)
	create("ammo_og-7b",xyz(-320.963,65.005,200.770),34583,2987)
end

--' спавним ключ для удал телепорта на входе базы
function spawn_kluch_dell_tele()
	create("kluch_dell_teleport",xyz(326.871,-6.876,-18.849),1450179,2902)
end

--' спавним телепорт на входе в базу
function spawn_teleport_aver_baza_vxod()
	local se_obj = create("m_teleport_aver_baza_vxod",xyz(49.718948364258,-12.917119979858,-192.61256408691),954225,2908)
	netpacket:modify(se_obj, "story_id", 17000)
end

--' спавним телепорт на выходе с базы
function spawn_teleport_land_baza_vuxod()
	local se_obj = create("m_teleport_land_baza_vuxod",xyz(-29.902000427246,-26.615087509155,-159.37490844727),816025,2897)
	netpacket:modify(se_obj, "story_id", 17001)
end

--' спавним телепорт на входе в 3 пещеру НЗ
function spawn_teleport_aver_taynik()
	local se_obj = create("m_teleport_aver_taynik",xyz(-371.09735107422,43.853530883789,386.16714477539),231029,2887)
	netpacket:modify(se_obj, "story_id", 17002)
end

--' спавним телепорт в Старой деревне
function spawn_teleport_village_plen()
	local se_obj = create("m_teleport_village_plen",xyz(50.373229980469,4.1041889190674,76.716133117676),28807,3331)
	netpacket:modify(se_obj, "story_id", 17004)
end

--' спавним 1телепорт на ЧАЭС2
function spawn_teleport_1_chaes2()
	local se_obj = create("m_teleport_1_chaes2",xyz(257.06002807617,11.381983757019,193.40171813965),91155,2577)
	netpacket:modify(se_obj, "story_id", 17008)
end

--' спавним 2телепорт на ЧАЭС2
function spawn_teleport_2_chaes2()
	local se_obj = create("m_teleport_2_chaes2",xyz(550.289672851563,80.1041946411133,204.157897949219),171515,2628)
	netpacket:modify(se_obj, "story_id", 17012)
end

--' спавним 3телепорт на ЧАЭС2
function spawn_teleport_3_chaes2()
	local se_obj = create("m_teleport_3_chaes2",xyz(555.68634033203,112.81456756592,197.65130615234),171515,2628)
	netpacket:modify(se_obj, "story_id", 17009)
end

--' спавним 1телепорт на генераторах
function spawn_teleport_1_generators()
	local se_obj = create("m_teleport_1_generators",xyz(208.74868774414,28.487440109253,-568.76654052734),576778,3143)
	netpacket:modify(se_obj, "story_id", 17010)
end

--' спавним 2телепорт на генераторах
function spawn_teleport_2_generators()
	local se_obj = create("m_teleport_2_generators",xyz(198.31147766113,35.846240997314,-561.59136962891),564783,3152)
	netpacket:modify(se_obj, "story_id", 17011)
end

--' спавним телепорт в госпитале наверх слева
function spawn_tele_1_hosp_verh1()
	local se_obj = create("m_teleport_1_hosp_verh1",xyz(-78.431533813477,25.064765930176,608.98791503906),6000,3049)
	netpacket:modify(se_obj, "story_id", 17013)
end

--' спавним телепорт вход в 3 отсек 
function spawn_teleport_vhod_otsek()
	local se_obj = create("m_teleport_vhod_otsek",xyz(-94.129028320313,25.804735183716,609.15380859375),1168,3039)
	netpacket:modify(se_obj, "story_id", 17014)
end

--' спавним телепорт блока выхода из 3 отсека у входа 
function spawn_tele_blok_vhod_otsek()
	local se_obj = create("m_teleport_blok_vhod_otsek",xyz(-102.48352813721,25.163656234741,616.11047363281),232,3029)
	netpacket:modify(se_obj, "story_id", 17015)
end

--' спавним телепорт входа дока на Припяти 
function spawn_tele_dok_prip_vxod()
	local se_obj = create("m_teleport_prip_dok_vxod",xyz(-45.148349761963,1.8893185853958,262.46716308594),54164,2164)
	netpacket:modify(se_obj, "story_id", 17016)
end

--' спавним телепорт на крыше в Лиманске
function spawn_teleport_limansk_krusha()
	local se_obj = create("m_teleport_limansk_krusha",xyz(64.565872192383,21.843370437622,253.25939941406),58482,3021)
	netpacket:modify(se_obj, "story_id", 17020)
end

--' спавним телепорт-фото в Саркофаге
function spawn_teleport_sarcof_foto()
	local se_obj = create("m_teleport_sarcofag_foto",xyz(23.805717468262,-3.8649611473083,2.8239929676056),4684,2424)
	netpacket:modify(se_obj, "story_id", 17021)
end

--' спавним телепорт над мозгом
function spawn_teleport_nad_mozgom()
	local se_obj = create("m_teleport_nad_mozgom",xyz(-32.13062286377,22.806690216064,-12.40500831604),3079,1530)
	netpacket:modify(se_obj, "story_id", 17022)
end

--' телепорт блокир. рычаг в лиме
function spawn_teleport_blok_ruchag()
	local se_obj = create("m_teleport_blok_ruchag",xyz(-48.450138092041,-10.869502067566,-176.26718139648),2894,2993)
	netpacket:modify(se_obj, "story_id", 17023)
end

--' телепорт входа в секретку подвала в лиме
function spawn_teleport_podval_ok()
	local se_obj = create("m_teleport_podval_ok",xyz(-48.472511291504,-11.196914672852,-177.02395629883),2894,2993)
	netpacket:modify(se_obj, "story_id", 17024)
end

--' телепорт выхода из секретки подвала в лиме
function spawn_teleport_podv_vuxod()
	local se_obj = create("m_teleport_podv_vuxod",xyz(-49.113014221191,-10.754431724548,-178.7958984375),3051,2993)
	netpacket:modify(se_obj, "story_id", 17025)
end

--' удаляем телепорты
function delete_teleport_baza_vxod(story_id)
	release(story_object(17000))
	sms("Телепорт на входе базы отключён.", nil, nil, 30000)
end

function checking_taken_item45(obj)
    if obj:section() == "kluch_dell_teleport" then
		delete_teleport_baza_vxod(obj)
	end
end

function delete_teleport_baza_vuxod(story_id)
	release(story_object(17001))
	sms("Телепорт на выходе с базы отключён.", nil, nil, 30000)
end

function checking_taken_item46(obj)
    if obj:section() == "kluch_dell_teleport1" then
		delete_teleport_baza_vuxod(obj)
	end
end

function delete_teleport_taynik(story_id)
	release(story_object(17002))
	sms("Телепорт на входе в секретную пещеру отключён.", nil, nil, 20000)
end

function checking_taken_item47(obj)
    if obj:section()=="kluch_dell_teleport2" then
		sms_otkl_teleport(obj)
	end
end

function sms_otkl_teleport()
	sms("%c[255,160,160,160]".."ЛОКАЛЬНАЯ СЕТЬ:".."\\n".."%c[255,255,128,128]Телепорт на входе в секретную пещеру на Неразведанной Земле через несколько часов будет отключён.", nil, nil, 25000, nil, [[sms\net\sms_otkl_teleport]])
end

function delete_teleport_plen(story_id)
	release(story_object(17004))
	sms("Телепорт ловушки отключён.", nil, nil, 30000)
end

function delete_teleport_vhod_otsek(story_id)
	release(story_object(17014))
	sms("Телепорт на входе в 3 отсек Госпиталя отключён.", nil, nil, 30000)
end

function delete_tele_blok_vhod_otsek(story_id)
	release(story_object(17015))
	sms("Телепорт, блокирующий выход из отсека, отключён.", nil, nil, 30000)
end

--' получим сейф обратно от Шахтёра
function snova_seif(first_speaker, second_speaker)
	got("arhara_seif") 
end

--' заспавним немного артов на НЗ
function spawn_aver_art1()
	create("af_spirit_1",xyz(-311.500,0.390,-338.304),335058,2890)
	create("af_fireball",xyz(52.464,-13.941,-186.119),959429,2908)
	create("af_cristall",xyz(-338.465,-26.910,176.832),287481,2891)
	create("af_armor_2",xyz(125.058,38.844,397.450),1088689,2899)
	create("af_fireball",xyz(-126.538,-53.295,-185.044),652148,2897)
	create("art_acumm",xyz(-276.414,-23.379,250.316),396447,2891)
end

--' заспавним ящик с оружием
function box_with_weapon_spawn()
	create("box_with_weapon",xyz(74.500,-43.783,241.980),998932,2899)
end

--' получим сумку для Гинеколога
function take_parcel(first_speaker, second_speaker) 
	got("parcel") 
end

--' проверим наличие ящика с оружием для Отшельника
function otshelnik_yzik_nayti_have() 
	return has("box_with_weapon",1)
end

--' отдадим ящик Отшельнику и получим УЗИ с патронами и глушаком
function otshelnik_yzik_nayti_done(first_speaker, second_speaker)
	lost("box_with_weapon",1)
	got("wpn_uzi")
	got("ammo_9x19_pbp")
	got("wpn_9mm_nato_silencer") 
end

--' удаляем Звездочёта с НЗ
function delete_land_zvezdochet()
	release("land_arhara_zvezdochet")
end

--' заспавним ещё немного артов на НЗ
function spawn_aver_art2()
	create("af_vyvert",xyz(-252.372,-1.190,-325.960),436604,2892)
	create("af_gravi",xyz(-163.165,51.365,-415.454),588454,2890)
	create("af_drops",xyz(-119.568,22.321,64.620),664582,2894)
	create("af_vyvert",xyz(-391.785,58.160,361.651),194833,2887)
	create("af_blood",xyz(345.540,4.877,-87.297),1485407,2902)
	create("af_mincer_meat",xyz(306.971,-38.273,386.180),1415062,2904)
	create("af_electra_sparkler",xyz(134.876,14.633,66.266),1105003,2902)
end

--' отдадим сумку и сейф медику
function aut_parcel(first_speaker, second_speaker)
	lost("parcel",1)
	lost("arhara_seif",1) 
end

--' заспавним лекарства на Кордоне для Гинеколога
function spawn_medik_lekarstvo()
	create("tabletki_1",xyz(-166.571,-25.436,-355.526),83083,31)
	create("tabletki_1",xyz(-166.505,-25.436,-355.355),83083,31)
	create("tabletki_1",xyz(-166.422,-25.436,-355.300),83083,31)
	create("tabletki_1",xyz(-166.341,-25.436,-355.283),83083,31)
	create("tabletki_2",xyz(-166.244,-25.436,-355.316),83749,31)
	create("tabletki_2",xyz(-166.231,-25.436,-355.447),83749,31)
	create("tabletki_2",xyz(-166.292,-25.436,-355.622),83083,31)
	create("tabletki_2",xyz(-166.387,-25.436,-355.658),83083,31)
	create("tabletki_3",xyz(-166.623,-25.436,-355.636),83083,31)
	create("tabletki_3",xyz(-166.528,-25.436,-355.599),83083,31)
	create("tabletki_3",xyz(-165.907,-25.442,-355.554),83749,31)
	create("tabletki_3",xyz(-166.406,-24.904,-356.780),83083,31)
	create("shpriz",xyz(-166.603,-24.897,-356.939),83083,31)
	create("shpriz",xyz(-166.925,-24.904,-356.899),83083,31)
	create("shpriz",xyz(-166.966,-24.899,-356.982),83083,31)
	create("shpriz",xyz(-166.797,-24.901,-356.916),83083,31)
	create("shpriz",xyz(-166.639,-24.900,-356.907),83083,31)
	create("shpriz",xyz(-166.480,-24.899,-356.897),83083,31)
end

--' проверим наличие медикаментов
function ginekolog_lekarstvo_nayti_have()
	return has("shpriz",5) and
		has("tabletki_1",3) and
		has("tabletki_2",3) and
		has("tabletki_3",3)
end

--' отдадим медхлам Гинекологу
function ginekolog_lekarstvo_nayti_done()
	lost("shpriz",6)
	lost("tabletki_1",4)
	lost("tabletki_2",4)
	lost("tabletki_3",4)
end

--' проверим наличие медикаментов для Циклопа если Гинеколог обиделся
function ziklop_proval()
	return has("shpriz",5) and
		has("tabletki_1",3) and
		has("tabletki_2",3) and
		has("tabletki_3",3)
end

--' отдадим медхлам Циклопу при провале стелса
function ziklop_otdat_vse()
	lost("shpriz",6)
	lost("tabletki_1",4)
	lost("tabletki_2",4)
	lost("tabletki_3",4)
end

--' проверим наличие 2 аккумул для Жоры
function jora_accumul_have() 
	return has("akkumulytor",2)
end

--' отдадим аккум Жорке
function jora_accumul_done()
	lost("akkumulytor",2)
end

--' а это рюкзачок тайника Пилигрима
function new_inventory17()
	create("m_inventory_box17",xyz(144.712,-3.956,-313.140),1121536,2900)
end

--' проверим наличие вещей для Пилигрима
function piligrim_britva_nayti_have()
	return has("akkumulytor",1) and
		has("af_dik_1",1) and
		has("af_vyvert_green",1) and
		has("britva",1)
end

--' отдадим причитающиеся Пилигриму и получим часы для Старика и новый ствол с патронами
function piligrim_britva_nayti_done(first_speaker, second_speaker)
	lost("britva",1)
	lost("af_vyvert_green",1)
	lost("af_dik_1",1)
	lost("akkumulytor",1)
	got("starik_chasy")
	got("wpn_akm203_pso")
	got("wpn_scope_lepoid")
	got("ammo_7.62x39_ap")
end

--' проверим наличие вещей для Пилигрима при неудаче стелса
function piligrim_proval_stels()
	return has("akkumulytor",1) and
		has("af_dik_1",1) and
		has("af_vyvert_green",1) and
		has("britva",1)
end

--' проверим наличие финансов при неудаче стелса
function piligrim_have_money_70000(actor,npc)
    return actor:money() > 70000
end

--' отдадим деньги Пилигриму
function piligrim_give_money_70000(t1,t2)
	lost_money(70000)
end

--' проверим наличие часов для Старика
function starik_zadanie_vzyt_have() 
	return has("starik_chasy",1)
end

--' отдадим часы
function starik_zadanie_vzyt_done()
	lost("starik_chasy",1)
end

--' удаляем бородатого Пилигрима
function delete_land_piligrim()
	release("piligrim")
end

--' получим аккумул от Пилигрима
function take_pil_akkum(first_speaker, second_speaker) 
	got("akkumulytor",3)
end

--' заспавним ещё немного артов на НЗ
function spawn_aver_art3()
	create("af_rusty_thorn",xyz(420.649,43.074,321.392),1631337,2906)
	create("af_rusty_kristall",xyz(18.712,48.116,-415.46),898878,2898)
	create("af_drops",xyz(-50.587,-39.939,-99.154),782762,2897)
	create("art_acumm",xyz(-129.216,38.372,403.420),648050,2896)
	create("art_acumm",xyz(93.864,-4.432,-105.082),1033389,2902)
	create("af_mincer_meat",xyz(-276.414,-23.379,250.316),396447,2891)
	create("af_mincer_meat",xyz(76.217,-8.158,-208.145),1002137,2897)
end

--' проверим ультрадетектор для Адреналина
function otsh_pda_nayti_have()
	return has("detector_elite_john",1)
end

--' отдадим детектор Адреналину
function otsh_pda_nayti_done(first_speaker, second_speaker)
	lost("detector_elite_john",1)
	got("wpn_ak47_md")
end

--' проверим 2 эл детектора и арт для Голограмы
function golo_detektor_nayti_have()
	return has("detector_elite",2) and has("af_caterpillar",1)
end

--' отдадим причитающиеся Голограме
function golo_detektor_nayti_done()
	lost("detector_elite",2)
	lost("af_caterpillar",1)
end

--' рюкзачок тайника вора
function new_inventory18()
	create("m_inventory_box18",xyz(195.210,-1.436,53.253),339324,384)
end

function otshelnik_sms1()
	sms("%c[255,160,160,160]".."ОТШЕЛЬНИК:".."\\n".."%c[255,255,128,128]Стрелок, есть новости. Будет время - загляни.", nil, nil, 40000, nil, [[sms\otshelnik\otshelnik_sms1]])
end

function adrenalin_sms1()
	sms("%c[255,160,160,160]".."АДРЕНАЛИН:".."\\n".."%c[255,255,128,128]Стрелок, есть новости. Будет время - загляни, приходили люди за шкатулкой. Да, детектор не забудь.", nil, nil, 40000, nil, [[sms\adrenalin\adrenalin_sms1]])
end

function medik_sms1()
	sms("%c[255,160,160,160]".."ШУРА ГИНЕКОЛОГ:".."\\n".."%c[255,255,128,128]Стрелок, Циклоп открыл сейф. Короче, жду.", nil, nil, 40000, nil, [[sms\ginekolog\medik_sms1]])
end

--' проверим наличие дискетки
function medik_pribor_1_nayti_have()
	return has("land_disketka",1)
end

--' отдадим дискету Гинекологу
function medik_pribor_1_nayti_done()
	lost("land_disketka",1)
end

--' спавним карту Клыка
function spawn_karta()
	create("kluk_karta",xyz(-407.265,0.946,58.977),167526,2889)
end

--' дискету и арты в Лабиринте
function spawn_trup()
	create("land_disketka",xyz(-77.331,42.754,469.492),153869,2987)
	create("af_medusa",xyz(-311.981,16.300,219.735),39736,2920)
	create("af_gold_fish",xyz(-218.433,20.138,54.736),105379,2958)
	create("af_fireball",xyz(-128.102,15.460,351.711),147973,2974)
	create("af_mincer_meat",xyz(-245.448,7.128,444.855),86899,2947)
	create("af_electra_sparkler",xyz(-134.238,18.732,459.057),146621,2973)
	create("af_medusa",xyz(-135.452,17.093,421.498),146315,2973)
	create("art_acumm",xyz(-229.414,14.210,424.312),98933,2954)
	create("art_acumm",xyz(-229.414,14.210,424.312),98933,2954)
	create("art_acumm",xyz(-229.414,14.210,424.312),98933,2954)
	create("af_armor_1",xyz(-229.414,14.210,424.312),98933,2954)
	create("af_electra_flash",xyz(-196.013,19.972,316.334),120678,2963)
	create("af_spirit_1",xyz(-196.013,19.972,316.334),120678,2963)
	create("art_acumm",xyz(-196.013,19.972,316.334),120678,2963)
	create("af_ameba_slug",xyz(-177.985,21.049,389.713),133385,2968)
	create("af_dummy_pellicle",xyz(-78.366,42.766,469.674),153706,2987)
end

function medik_sms2()
	sms("%c[255,160,160,160]".."ШУРА ГИНЕКОЛОГ:".."\\n".."%c[255,255,128,128]Стрелок, есть изменения по перфузору. Как найдёшь дискету - загляни.", nil, nil, 60000, nil, [[sms\ginekolog\medik_sms2]])
end

function nekto_sms()
	sms("%c[255,160,160,160]".."НЕИЗВЕСТНЫЙ СТАЛКЕР:".."\\n".."%c[255,255,128,128]Стрелок, я знаю, старая карта у тебя. Сделай её копию, но без моих пометок переходов. Копию отдашь Звездочёту.", nil, nil, 60000)
end

--' удаляем раненого монолитовца
function delete_dead_mono()
	release("dead_mono_labirint")
end

--' тайник наёмника
function spawn_kolba_pust()
	create("kolba_pustay",xyz(-367.82,0.595,439.103),68300,1851)
	create("kolba_pustay",xyz(-367.82,0.595,439.103),68300,1851)
	create("kolba_pustay",xyz(-367.82,0.595,439.103),68300,1851)
end

--' удаляем бритого Пилигрима
function delete_piligrim_1()
	release("piligrim_1")
end

--' проверим наличие пустых колб
function kolba_pust_est()
	return has("kolba_pustay",3)
end

--' отдадим карту Клыка и пустые колбы Гинекологу
function karta_otdat()
	lost("kluk_karta",1)
	lost("kolba_pustay",3)
end

--' Проверим наличие блоков питания и микросхем для перфузора
function akkum_and_mikposx_nayti_have()
	return has("elek_plata",2) and has("ekza_akkumul",2)
end

--' получим карту и её копию и отдадим блоки
function akkum_and_mikposx_nayti_done(first_speaker, second_speaker)
	lost("elek_plata",2)
	lost("ekza_akkumul",2)
	got("kluk_karta")
	got("kluk_karta_kopiy")
end

--' спавним аккум для экзы, платы и ключ на выход 
function spawn_plata_and_akkum()
	create("ekza_akkumul", xyz(28.803,-22.934,-178.421),917014,2897)
	create("ekza_akkumul", xyz(28.845,-22.935,-178.511),917014,2897)
	create("elek_plata", xyz(47.349,-20.324,-157.622),950498,2897)
	create("elek_plata", xyz(47.852,-20.341,-157.487),950498,2897)
	create("kluch_dell_teleport1",xyz(29.081,-22.875,-178.589),918277,2897)
end

function piligrim_2_sms()
	sms("%c[255,160,160,160]".."БЛАТНОЙ:".."\\n".."%c[255,255,128,128]Химера, отправил к тебе новиса - пусть на тебя пошестерит за бесплатно, в наёмники он решил вступить. Посмотри, что умеет...", nil, nil, 40000, nil, [[sms\blatnoy\piligrim_2_sms]])
end

--' ГГ друг снайперов
function friend_community(actor, npc)
	db.actor:set_character_community("stranger", 0, 0)
end

--' заберём ключи от телепортов
function kluch_tele_otdat()
	lost("kluch_dell_teleport",1)
	lost("kluch_dell_teleport1",1)
end

--' проверим голову
function chimaera_zadan_nayti_have()
	return has("sidor_head",1)
end

--' отдадим голову и получим арт
function chimaera_zadan_nayti_done(first_speaker, second_speaker)
	lost("sidor_head",1)
	got("af_gold_mincer_meat")
end

--' Гинеколог дал запчастей денег и спавн перфузора
function shura_otdal(first_speaker, second_speaker)
	got("part_chimera_kogot",5)
	got_money(30000)
	create("perfuzor_pust",xyz(-411.602,0.698,62.837),160046,2889)
end

function medik_sms3()
	sms("%c[255,160,160,160]".."ШУРА ГИНЕКОЛОГ:".."\\n".."%c[255,255,128,128]Сидорыч, тебя заказали. Если хочешь жить - пришли Стрелку свои фото в фас и в профиль.", nil, nil, 40000, nil, [[sms\ginekolog\medik_sms3]])
end

--' проверим наличие полных колб для Гинеколога
function ginek_vlip_have()
	return has("kolba_orand_poln",1) and has("kolba_siniy_poln",1)
end

--' отдадим колбы Гинекологу и получим нож хирурга и Сайгу "Снайперскую"
function ginek_vlip_done(first_speaker, second_speaker)
	lost("kolba_orand_poln",1)
	lost("kolba_siniy_poln",1)
	got("wpn_knife_n")
	got("wpn_sayga12_sk1")
	got("ammo_12x70_kart")
	second_speaker:set_relation(game_object.friend, first_speaker)
end

function ziklop_sms1()
	sms("%c[255,160,160,160]".."ЦИКЛОП:".."\\n".."%c[255,255,128,128]Стрелок, есть наводка на тайничок, заходи...", nil, nil, 40000, nil, [[sms\ziklop\ziklop_sms1]])
end

--' спавним особого контролёра и свиту
function spawn_trupak()
	create("controller_filin",xyz(71.566024780273,0.9872225522995,338.92221069336),183216,2157)
	create("girl_zombied1",xyz(77.326461791992,0.80606210231781,328.80935668945),188759,2157)
	create("voen_zombied2",xyz(50.622013092041,0.19790950417519,349.37219238281),162789,2260)
	create("zombie_blow",xyz(24.627826690674,0.53881990909576,337.68389892578),132632,2260)
	create("zombie_beee",xyz(6.4521131515503,0.97632801532745,339.99188232422),109936,2260)
	create("zombie_hell",xyz(12.806783676147,0.14677858352661,376.99716186523),117411,2260)
	create("voen_zombied1",xyz(47.212017059326,1.162348151207,374.2412109375),158950,2260)
	create("zombie_plague_komar",xyz(100.13232421875,0.86667048931122,357.22863769531),211251,2157)
	create("girl_zombied2",xyz(113.23184967041,0.82060730457306,320.94140625),224103,2264)
	create("esc_arhara_stalker_zombied",xyz(-32.653274536133,1.0320378541946,308.14407348633),66570,2262)
	create("esc_arhara_stalker_zombied1",xyz(-31.808841705322,1.1013149023056,339.19082641602),68171,2156)
	create("zombie_plague",xyz(55.633369445801,1.032900929451,392.32992553711),167717,2270)
end

--' спавним труп контролёра
function controller_filin_dead()
	local obj,pos,lv,gv
	for a=1,65535,1 do
	obj=server_object(a)
	if obj and obj:section_name() == "controller_filin" then
		pos = obj.position
		lv = obj.m_level_vertex_id
		gv = obj.m_game_vertex_id
		release(obj,true)
		create("trupak",pos,lv,gv)
	return
	end
	end
end

--' проверим наличие трупа для Филина
function land_oxot_nayti_have()
	return has("trupak",1)
end

--' отдадим труп контролёра Филину
function land_oxot_nayti_done()
	lost("trupak",1)
	got("wpn_g35",1)
end

--' проверим наличие вещей для Филина
function filin_skarb()
	return has("part_chimera_kogot",10)
end

--' проверим наличие финансов за чучело
function filin_have_money_100000(actor,npc)
    return actor:money() > 100000
end

--' отдадим когти Филину и заспавним голову Сидора
function filin_kogot(first_speaker, second_speaker)
	lost("part_chimera_kogot",10)
	create("sidor_head", xyz(-106.790,20.220,-49.719),685943,2894)
end

--' отдадим деньги Филину за чучело
function filin_give_money_100000(t1,t2)
	lost_money(100000)
end

--' Удалим труп контролёра
function delete_trups() 
	release("trupak")
end

--' рюкзачок Химеры на Радаре
function new_inventory19()
	create("m_inventory_box19", xyz(-17.792,0.198,-56.856),5019,1960)
	create("kolba_orand_poln", xyz(-17.436,0.198,-56.755),5019,1960)
	create("kolba_orand_poln", xyz(-17.310,0.198,-56.975),5019,1960)
	create("kolba_siniy_poln", xyz(-17.374,0.198,-57.115),5018,1960)
	create("kolba_siniy_poln", xyz(-17.354,0.198,-57.376),5018,1960)
--	create("kukla_1", xyz(-15.599,0.195,-58.093),5605,1960)
end

--' удалим пустой перфузор
function delete_perfuz() 
	release("perfuzor_pust")
end

--' последний тайник Циклопа и спавн полного перфузора в виде рюкзака
function new_inventory20()
	create("m_inventory_box20", xyz(-261.508,-22.589,211.521),74263,1789)
	create("m_inventory_box38", xyz(-411.602,0.698,62.837),160046,2889)
--	create("perfuzor_poln", xyz(-411.602,0.698,62.837),160046,2889)
end

function kluk_sms1()
	sms("%c[255,160,160,160]".."КЛЫК:".."\\n".."%c[255,255,128,128]Стрелок, это не развод. Не удивляйся... Надо встретится, прятаться далее не имеет смысла. Жду тебя у Пилигрима на нашей новой базе, поторопись.", nil, nil, 60000, nil, [[sms\kluk\kluk_sms1]])
end

--' отдадим карту Клыку
function karta_otdat1(first_speaker, second_speaker)
	lost("kluk_karta",1)
end

--' проверим наличие блокнота наёмника
function kluk_vstrecha_have()
	return has("naem_bloknot",1)
end

--' отдадим блокнот наёмника Клыку
function kluk_vstrecha_done(first_speaker, second_speaker)
	lost("naem_bloknot",1)
	got("wpn_colt_coonan",1)
	got("ammo_357_hp_mag",1)
end

--' убираем ненужные труп Костолома с Военной Лаборатории
function delete_warlab_trups()
	release("warlab_kostolom_dead")
end

--' Вступаем в Монолит
function join_monolith(actor, npc)
	db.actor:set_character_community("monolith", 0, 0)
end

function checking_taken_item44(obj)
	if obj:section()=="amulet" then
		join_monolith(obj)
	end
end

--' Вступаем в Наёмники
function join_killer(actor, npc)
	db.actor:set_character_community("killer", 0, 0)
	local chkgoodwill = relation_registry.community_goodwill("killer", db.actor:id())
	if chkgoodwill < 0 then 
		chkgoodwill = chkgoodwill+300
		relation_registry.set_community_goodwill("killer", db.actor:id(), chkgoodwill)
	else
		relation_registry.set_community_goodwill("killer", db.actor:id(), 300)
	end
end

function checking_taken_item48(obj)
	if obj:section()=="amul_naemn" then
		join_killer(obj)
	end
end

--' Вступаем в Свободу
function join_freedom(actor, npc)
	db.actor:set_character_community("freedom", 0, 0)
end

function checking_taken_item50(obj)
	if obj:section()=="bullion_gild" and has_info("snp_rings_have") then
		join_freedom(obj)
	end
end

--' заспавним фанатиков и наёмников в Военной Лаборатории
function spawn_nepis_to_warlab()
	create("pri_monolith_respawn_1",xyz(5.648,0.741,2.091),5363,3210)
	create("pri_monolith_respawn_2",xyz(6.743,1.004,-1.577),5654,3210)
	create("rad_monolith_respawn_1",xyz(2.688,1.059,-5.867),4873,3187)
	create("pri_monolith_respawn_2",xyz(-2.972,0.379,-3.270),3960,3168)
	create("tank_spawn_zasada3",xyz(-13.204,-3.150,1.400),1830,3168)
	create("rad_monolith_respawn_1",xyz(-5.634,1.073,9.869),3224,3171)
	create("rad_monolith_respawn_3",xyz(-16.708,-3.083,-16.421),1196,3158)
	create("pri_monolith_respawn_1",xyz(14.347,-11.473,-8.145),6669,3212)
	create("tank_spawn_zasada",xyz(-3.450,-11.413,-6.176),3782,3181)
	create("pri_monolith_respawn_2",xyz(2.568,-11.470,2.541),4895,3188)
	create("tank_spawn_zasada1",xyz(15.654,-11.415,-0.020),6905,3209)
	create("rad_monolith_respawn_1",xyz(0.708,-7.310,-6.948),4524,3182)
	create("rad_monolith_respawn_2",xyz(-0.106,-3.150,4.517),4452,3196)
	create("mil_killer_respawn_2",xyz(16.459,1.199,-2.748),7009,3216)
	create("mil_killer_respawn_2",xyz(-1.101,1.010,0.302),4184,3187)
	create("mil_killer_respawn_3",xyz(-12.934,1.001,3.860),1956,3162)
	create("ros_killer_respawn_1",xyz(-10.352,-7.043,-32.332),2224,3170)
	create("ros_killer_respawn_1",xyz(-37.230,-11.944,-36.897),143,3155)
	create("mil_killer_respawn_1",xyz(-15.675,-1.421,-33.730),1393,3164)
	create("mil_killer_respawn_2",xyz(-13.429,-15.390,6.870),1852,3160)
	create("ros_killer_respawn_2",xyz(9.509,-19.704,10.085),6118,3204)
	create("ros_killer_respawn_2",xyz(-3.896,-7.313,0.398),3598,3172)
	create("ros_killer_respawn_3",xyz(2.706,-3.150,6.640),4903,3178)
end

--' спавним телепорт на входе в секретку Военной Лаборатории
function spawn_teleport_warlab_taynik()
	local se_obj = create("m_teleport_warlab_sekret",xyz(18.836868286133,-3.1513543128967,0.90203523635864),7161,3217)
	netpacket:modify(se_obj, "story_id", 17003)
end

--' удаляем телепорт на входе в секретку Военной Лаборатории
function delete_teleport_warlab(story_id)
	release(story_object(17003))
	sms("Телепорт на входе в секретную часть Военной Лаборатории отключён.", nil, nil, 40000)
end

function checking_taken_item49(obj)
    if obj:section() == "kluch_dell_teleport_warlab" then
		delete_teleport_warlab(obj)
 		amk.remove_item_from_inventory_by_name("kluch_dell_teleport_warlab",db.actor)
	end
end

--' проверим наличие псевдопечатки
function proverim_pseudo()
	return has("pseudopechatka",1)
end

--' проверим наличие печатки наёмника
function lukash_pechatka_nayti_have()
	return has("amul_naemn",1)
end

--' отдадим псевдопечатку Лукашу
function lukash_pechatka_nayti_done(first_speaker, second_speaker)
	lost("pseudopechatka",1)
	got("wpn_glock_18col")
end

--' заспавним собачек в Военной Лаборатории
function spawn_dog_to_warlab()
	create("dog_habaruch",xyz(3.371,1.008,-3.150),4988,3187)
	create("dog_weak",xyz(3.371,1.008,-3.150),4988,3187)
	create("dog_weak",xyz(-12.583,-2.960,0.312),1942,3168)
	create("dog_normal",xyz(-12.583,-2.960,0.312),1942,3168)
	create("pseudodog_normal",xyz(-4.049,0.998,3.772),3607,3174)
	create("dog_strong",xyz(-4.049,0.998,3.772),3607,3174)
	create("dog_strong",xyz(-4.049,0.998,3.772),3607,3174)
	create("dog_weak",xyz(-6.291,-7.085,2.363),3064,3172)
	create("dog_weak",xyz(-6.291,-7.085,2.363),3064,3172)
	create("pseudodog_weak",xyz(-6.291,-7.085,2.363),3064,3172)
	create("pseudodog_big",xyz(-6.291,-7.085,2.363),3064,3172)
	create("dog_weak",xyz(-1.689,-3.150,7.975),4209,3178)
	create("pseudodog_normal",xyz(-1.689,-3.150,7.975),4209,3178)
	create("dog_normal",xyz(-1.689,-3.150,7.975),4209,3178)
	create("dog_habaruch",xyz(3.961,-11.417,-1.361),5107,3191)
	create("dog_habaruch",xyz(3.961,-11.417,-1.361),5107,3191)
	create("dog_weak",xyz(3.961,-11.417,-1.361),5107,3191)
	create("dog_weak",xyz(3.961,-11.417,-1.361),5107,3191)
	create("dog_weak",xyz(3.961,-11.417,-1.361),5107,3191)
	create("dog_weak",xyz(3.961,-11.417,-1.361),5107,3191)
	create("dog_weak",xyz(3.961,-11.417,-1.361),5107,3191)
	create("pseudodog_weak",xyz(-23.483,-15.388,-0.544),581,3157)
	create("dog_normal",xyz(-23.483,-15.388,-0.544),581,3157)
	create("dog_normal",xyz(-23.483,-15.388,-0.544),581,3157)
	create("dog_weak",xyz(-23.483,-15.388,-0.544),581,3157)
end

--' заспавним болотных тварей рестриктором
function spawn_bolot_tv()
	create("bloodsucker_effector",xyz(4.587,-19.703,6.885),5252,3195)
	create("bloodsucker_effector",xyz(-0.755,-19.646,16.467),4380,3180)
	sms("%c[255,160,160,160]".."ИСТОЧНИК НЕИЗВЕСТЕН:".."\\n".."%c[255,255,128,128]Ты влип, солдат, по самое не хочу. Ха-ха-ха....", nil, nil, 40000, nil, [[sms\net\spawn_bolot_tv]])
end

--' Удаляем Клыка и Пилигрима с АС
function delete_stalky_as()
	release("kluk_sklad")
	release("piligrim_sklad")
end

--' проверим наличие рации
function pantera_fone_nayti_have()
	return has("telefon",1)
end

--' отдадим рацию Пантере и получим бабки
function pantera_fone_nayti_done(first_speaker, second_speaker)
	lost("telefon",1)
	got_money(5000)
end

--' отдадим рацию Пантере при провале квеста
function pantera_fone_nenashel(first_speaker, second_speaker)
	lost("telefon",1)
end

--' проверим наличие диска для Пантеры
function pantera_zadanie2_have()
	return has("disk_pantera",1)
end

--' отдадим диск Пантере и получим бабки
function pantera_zadanie2_done(first_speaker, second_speaker)
	lost("disk_pantera",1)
	got_money(60000)
end

--' проверим наличие финансов для Пантеры при провале квеста
function pantera_have_money_50000(actor,npc)
    return actor:money() > 250000
end

--' отдадим диск Пантере 
function pantera_disk_proval(first_speaker, second_speaker)
	lost("disk_pantera",1)
end

--' отдадим деньги Пантере при провале квеста
function pantera_give_money_50000(t1,t2)
	lost_money(250000)
end

--' проверим наличие чучела
function body_pantera_talk_have()
	return has("chuchelo_body",1)
end

--' отдадим чучело
function body_pantera_talk_done(first_speaker, second_speaker)
	lost("chuchelo_body",1)
end

--' спавним рюкзачок для задания Пантеры на АС и чучело и возьмём маскхалат
function new_inventory21(first_speaker, second_speaker)
	got("meceniy_outfit_new")
	create("m_inventory_box21",xyz(-26.052833557129,-6.3251914978027,-20.990715026855),285446,1593)
	create("chuchelo_body",xyz(-24.04415512085,-4.1141719818115,-26.763397216797),283374,1593)
end

--' проверим наличие маскхалата и суперската
function pantera_zadanie3_have()
	return meceniy_work.have_meceniy_outfit() and has("exo_mil_exoskeleton",1)
end

--' отдадим броники Пантере и получим бабки
function pantera_zadanie3_done(first_speaker, second_speaker)
	meceniy_work.give_meceniy_outfit()
	lost("exo_mil_exoskeleton",1)
	got_money(10000)
end

--' Удаляем Пантеру и телохранителей
function delete_pant_warl()
	release("pantera")
	release("bodi_pantera1")
	release("bodi_pantera2")
end

--' босс забрал печатку и спавн новой и спавн наёмников босса
function zabral_gad_pechatku(first_speaker, second_speaker)
	lost("amul_naemn",1)
	got("pseudopechatka")
end

--' телохран Пантеры дал арт на прощание и свой ствол
function body_dal_art(first_speaker, second_speaker)
	got("af_kol_3")
	got("wpn_sg550_sr")
end

--' получим Булыжники от Голограмы
function gologr_tehnik_done(first_speaker, second_speaker)
	got("af_buliz",2) 
end

--' тайник Циклопа после Военной Лаборатории
function new_inventory22()
	create("m_inventory_box22",xyz(-39.015,10.378,31.830),148276,295)
end

function kanal_sms()
	sms("%c[255,160,160,160]".."АРХАРА:".."\\n".."%c[255,255,128,128]Внимание, сталкеры! Мы только что обнаружили, что некоторые артефакты стали быстро вырождаться. По нашим данным, сразу у нескольких сталкеров после недавнего Выброса некоторые артефакты самопроизвольно превратились в \"Булыжники\". Мы ещё не выяснили причины этого явления, так что будьте начеку, парни. У меня всё, конец связи.", nil, nil, 30000, nil, [[sms\arhara\kanal_sms]])
end

function kanal_sms1()
	sms("%c[255,160,160,160]".."ПЕТЯ ГЛЮК:".."\\n".."%c[255,255,128,128]Половина артов в кирпичи превратилась... Мужики, с чем теперь из Зоны-то на Большую Землю пойду? Вот жеш...", nil, nil, 30000, nil, [[sms\gluk\kanal_sms1]])
end

--' Удаляем Пантеру-нейтралку телохранителей Голограму и босса
function del_pant_neytral_warl()
	release("pantera_new")
	release("body1_pantera_new")
	release("body2_pantera_new")
	release("warlab_boss")
end

--' Удаляем старого Голограму с НЗ
function del_gol_old()
	release("land_lazaret_stalker2")
end

--' Удаляем нового Голограму с НЗ
function del_tehnik_gol()
	release("tehnik_golograma")
end

--' проверим наличие булыжников и Сердца полтерг
function klenov_vse_ok_have()
	return has("af_buliz",10) and has("af_part_monolit",1)
end

--' отдадим их Клёнову
function klenov_vse_ok_done(first_speaker, second_speaker)
	lost("af_part_monolit",1)
	lost("af_buliz",10)
end

function pant_zveri_sms()
    sms("%c[255,160,160,160]".."ПАНТЕРА:".."\\n".."%c[255,255,128,128]Стрелок, мы уходим с Военной Лаборатории. Тут объявилась большая стая псевдопсов. Если чего - отправлю весточку.", nil, nil, 20000)
end

--' убираем Витамина со складов
function delete_vitaminsklad()
    release("military_vitamin")
end

--' Удаляем Клыка и Пилигрима с НЗ рестриктором
function delete_stalky_nz()
    release("stalk_kluk")
    release("piligrim_2")
end

--' получим золото и ключ от телепорта у Витамина
function vitamin_reyd_zadan_done(first_speaker, second_speaker)
	got("bullion_gild")
	got("kluch_dell_teleport_warlab")
	got("wpn_svdk")
	got("ammo_93x64_sp")
	second_speaker:set_relation(game_object.friend, first_speaker)
	sms("%c[255,160,160,160]".."ЦИКЛОП:".."\\n".."%c[255,255,128,128]Стрелок, привет. Есть новости, будешь поблизости, зайди.", nil, nil, 40000, nil, [[sms\ziklop\vitamin_reyd_zadan_done]])
	amk.start_timer("run", 20, "arhara_dialog.vitamin_reyd_zadan_done2()")
end
function vitamin_reyd_zadan_done2()
	sms("%c[255,160,160,160]".."ИНФОРМАЦИЯ".."\\n".."%c[255,255,128,128]Телепорт на входе в секретную часть Военной Лаборатории отключён.", nil, nil, 15000, nil, [[sms\net\vitamin_reyd_zadan_done2]]) 
end

--' убираем свободовцев с Радара
function delete_svoboda_radars()
	release("radar_vitamin")
	release("radar_svoboda_reyd1")
	release("radar_svoboda_reyd2")
	release("radar_svoboda_reyd3")
	release("radar_svoboda_reyd4")
	release("radar_svoboda_reyd5")
	release("radar_svoboda_reyd6")
	release("radar_svoboda_reyd7")
	release("radar_svoboda_reyd8")
	release("radar_svoboda_reyd9")
	release("radar_svoboda_reyd10")
end

--' проверим наличие фальшивой карты Клыка
function zv_kopiy()
	return has("kluk_karta_kopiy",1)
end

--' отдадим фальшифку Звездочёту
function falshivka_otdat(first_speaker, second_speaker)
	lost("kluk_karta_kopiy",1)
end

--' тайник с телефоном Пантеры
function new_inventory23()
local se_obj = create("m_inventory_box23", xyz(7.256,-6.525,-12.801),5624,3202)
end

--' получим танто и именной АК-74 от Клыка
function tanto_dal(first_speaker, second_speaker)
	got("wpn_knif2")
	got("wpn_ak74_m3")
	got("ammo_5.45x39_izomorf")
end

--' проверим наличие финансов для кидалы
function bablo_razvod(actor,npc)
    return actor:money() > 70000
end

--' отдадим деньги кидале
function kidalovo(t1,t2)
lost_money(70000)
end

--' Сидор дал преобразователь артов и дробовик
function apteka_otdal(first_speaker, second_speaker)
	got("det_artefact_indy")
	got("wpn_usas12")
	got("ammo_12x70_kart")
	got("medkit")
end

--' убираем кидалу
function delete_kidalo()
	release("esc_kidalo")
end

--' Рестрикторные СМС
function band_yantar_sms()
    sms("%c[255,160,160,160]".."ЛИКВИДАТОР:".."\\n".."%c[255,255,128,128]Получил сигнал с Янтаря - вроде там мародёры сталка завалили какого-то... Вот сволочи...", nil, nil, 25000, nil, [[sms\likvidator\band_yantar_sms]])
end
function razvod_sms()
    sms("%c[255,160,160,160]".."СИДОРОВИЧ:".."\\n".."%c[255,255,128,128]Меченый, ты вроде как раз в том районе находишься. Напротив фермы у развалин есть домик, в нём сталкер. Он за Периметр собрался, а я ему денег должен. Выручи - отдай ему 70000. Потом зайдёшь ко мне - верну с процентами.", nil, nil, 45000)
end
function gar_naemn_grup1_sms()
    sms("%c[255,160,160,160]".."МИХА:".."\\n".."%c[255,255,128,128]Внимание! Видел группу наёмников на Свалке - вероятно, разведка или с задания идут. Будьте внимательны.", nil, nil, 20000, nil, [[sms\random\gar_naemn_grup1_sms]])
end
function dark_btr1_sms()
    sms("%c[255,160,160,160]".."ВИТАЛИЙ ЗВЕРЬ:".."\\n".."%c[255,255,128,128]Засёк моторизованную группу спецназа. Похоже, двигается с Кордона.", nil, nil, 20000, nil, [[sms\zver\dark_btr1_sms]])
end
function dark_sidor_sms()
    sms("%c[255,160,160,160]".."МЕЧЕНЫЙ:".."\\n".."%c[255,255,128,128]Сидор, лысая голова, безопасная дорога, говоришь? Смерти моей хочешь?", nil, nil, 20000)
end
function garbage_adren_sms()
    sms("%c[255,160,160,160]".."АДРЕНАЛИН:".."\\n".."%c[255,255,128,128]Могу предложить навесное для разных стволов и работёнку для желающих. Скоро буду на Агропроме.", nil, nil, 25000, nil, [[sms\adrenalin\garbage_adren_sms]])
end
function lysyi_sms()
    sms("%c[255,160,160,160]".."ЛЫСЫЙ:".."\\n".."%c[255,255,128,128]Я в Баре. Нужен человечек для поиска клада. Щедро расплачусь за работу.", nil, nil, 25000)
end
function art_negoden_sms()
    sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Ну вот и меня постигла неудача - срок действия некоторых артов закончился и они превратились в булыжники...", nil, nil, 20000)
end
function art_negoden_sms1()
    sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Действительно, что-то с артами не так. Вероятно, срок действия некоторых закончился. Надо проверить пояс и рюкзак.", nil, nil, 25000)
end
function pant_kord_sms1()
    sms("%c[255,160,160,160]".."ПАНТЕРА:".."\\n".."%c[255,255,128,128]Боец, ты на месте. Смотри внимательно, в сторону блокпоста должен двинуть военный. Он твой. Смотри, не убей его...", nil, nil, 20000)
end
function dolbannn_sms()
    sms("%c[255,160,160,160]".."СЕРЖАНТ КОСТЫЛЬНОГА:".."\\n".."%c[255,255,128,128]Товарищ майор! Выдвигаюсь от майора Кузнецова на блокпост. Диск при мне. Встречайте.", nil, nil, 20000)
end
function sidor_piyn_sms()
    sms("%c[255,160,160,160]".."СИДОРОВИЧ:".."\\n".."%c[255,255,128,128]Ну? Кто там ломится? Если не прошёл осмотр у Доктора, который в лагере, не хрен тебе тут делать, может ты больной. А если с Доктором поговорил, лекарство выпил - тогда заходи, поболтаем.", nil, nil, 20000, nil, [[sms\sidor\sidor_piyn_sms]])
end
function kluk_sms3()
    sms("%c[255,160,160,160]".."КЛЫК:".."\\n".."%c[255,255,128,128]Понял тебя, Стрелок. Разузнай, что за лаборатория. Встретимся в Баре, найдёшь нас у одного из костров.", nil, nil, 60000, nil, [[sms\kluk\kluk_sms3]])
end
function gg_sms1()
    sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Клык, телепорт в секретную часть лаборатории я отключил.", nil, nil, 20000)
end
function kluk_sms2()
    sms("%c[255,160,160,160]".."КЛЫК:".."\\n".."%c[255,255,128,128]Стрелок, как там дела? Давай встретимся на Армейских Складах, на хуторе по дороге в Бар.", nil, nil, 60000, nil, [[sms\kluk\kluk_sms2]])
end
function yan_sms_barmen()
    sms("%c[255,160,160,160]".."МЕЧЕНЫЙ:".."\\n".."%c[255,255,128,128]Бармен, привет. Я на Янтаре. Тут два подонка сталкера замочили... Не успел я немного. Ты отправь его родне похоронку, да деньжат... Буду жив - рассчитаюсь с тобой... Вот номерок: 89115683244.", nil, nil, 40000)
end
function yan_barmen_otvet()
    sms("%c[255,160,160,160]".."БАРМЕН:".."\\n".."%c[255,255,128,128]Меченый, родне того сталка похоронку отправил и деньжат 50000. Можешь мне деньги не возвращать - сам знаю, как в семье без кормильца...", nil, nil, 40000)
end
function plen_sms()
    sms("%c[255,160,160,160]".."ЛЕЙТЕНАНТ ВЕТРОПЛЮЕВ:".."\\n".."%c[255,255,128,128]Тов. капитан! Пока Вы с группой на задании, наша ловушка поймала ещё одного чудака. Вроде хабара у него прилично. Спецом оставлю для Вас, их уже там трое насобиралось, а мы пока грохнем в бывшем магазине предыдущую и уже ненужную партию сталкеров.", nil, nil, 40000, nil, [[sms\net\plen_sms]])
end
function village_sms_kapitan()
    sms("%c[255,160,160,160]".."КОЛМОГОР:".."\\n".."%c[255,255,128,128]Товарищ капитан! С Вами говорит труп Вашего лейтенанта. Мечтаю Вас увидеть в деревне, возвращайтесь из рейда поскорее. Для Вас уже готова клизма с перцем.", nil, nil, 30000)
end
function village_sms_pantera()
    sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Пантера, ты где? Есть новости, надо увидеться.", nil, nil, 30000)
end
function village_sms_obsledovanie()
    sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Колмогор, деревню обследовали. Возвращаемся.", nil, nil, 30000)
end
function village_pantera_otvet()
    sms("%c[255,160,160,160]".."ПАНТЕРА:".."\\n".."%c[255,255,128,128]Привет, красавчег. У меня проблемы, пришлось срочно делать ноги. Я на Болотах, на каком-то мысе. Где именно - не знаю, но отсюда видна какая-то смотровая вышка. Скидываю примерные координаты места в твой ПДА - смотри карту Болот.", nil, nil, 30000)
end
function kolm_stroy_sms()
    sms("%c[255,160,160,160]".."КОЛМОГОР:".."\\n".."%c[255,255,128,128]Ну что, орлы, готовы? Знаю, для многих это будет последний бой. Надо наказать этих ..... Жизнь многих людей в Ваших руках. Занимаем позиции, вертушки на подлёте. Всем удачи - она Вам потребуется.", nil, nil, 30000)
end
function sms_pobeda()
    sms("%c[255,160,160,160]".."КОЛМОГОР:".."\\n".."%c[255,255,128,128]Эй, мужики... Если кто жив остался... Это победа!!! Надрали мы им задницу! Стрелок, отличная работа. Жду тебя в штабе.", nil, nil, 25000)
end
function strelok_kluk_vopros1()
    sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Клык, тут такое дело... Посмотри по карте, или так может знаешь - нужна тропка с Болот в сторону Старой Деревни. Пойду не один. Боюсь, спутник мой не доберётся через всю Зону... Пилигриму помог - он пока останется в Деревне.", nil, nil, 30000)
end
function kluk_perexod_derevny()
    sms("%c[255,160,160,160]".."КЛЫК:".."\\n".."%c[255,255,128,128]Стрелок, слушай внимательно. Карта Болот изменилась. Раньше был переход в сторону Деревни за разрушенным ж/д мостом, там где пещера. Но сейчас туда не пройти. Не уверен, но тропка должна теперь начаться где-то перед мостом... Примерные координаты я скидываю. Далее - ищи в том квадрате.", nil, nil, 30000, nil, [[sms\kluk\kluk_perexod_derevny]])
end
function kluk_sms_pili_lovushka()
	sms("%c[255,160,160,160]".."КЛЫК:".."\\n".."%c[255,255,128,128]Стрелок, есть неотложное дело. Пилигрим попал в ловушку где-то в местечке под названием Старая Деревня. Подробностей я не знаю. Скидываю координаты перехода туда - он в Припяти, так что топать тебе прилично. Поторопись.", nil, nil, 40000, nil, [[sms\kluk\kluk_sms_pili_lovushka]])
end
function vill_klenov_sms()
	sms("%c[255,160,160,160]".."КЛЁНОВ:".."\\n".."%c[255,255,128,128]Стрелок, есть проблемка по вашему делу. Без помощи не обойтись. Если будете вблизи Военной Лаборатории - загляните.", nil, nil, 30000, nil, [[sms\klenov\vill_klenov_sms]])
end
function warl_kolmogor_sms()
	sms("%c[255,160,160,160]".."КОЛМОГОР:".."\\n".."%c[255,255,128,128]Стрелок, у нас проблемы - вернее у меня. Пропала Пантера, а вместе с ней и Пилигрим. Хрен знает, куда они подевались - в Деревне пока вроде всё спокойно. Ты не в курсе?", nil, nil, 30000)
end
function warl_gg_pili_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Пилигрим, что там у вас происходит? Ты где и где Пантера?", nil, nil, 10000)
end
function warl_pili_gg_otvet_sms()
	sms("%c[255,160,160,160]".."ПИЛИГРИМ:".."\\n".."%c[255,255,128,128]Убежала девчонка, короче. Я на неё заранее жучок повесил, но радиус его действия - всего пару км. Сигнал был, пошёл я следом - но, видно, не пешком она идёт - на машине или на вертухе - я даже бегом да по коротким тропкам догнать не смог... По всему судя - не одна она - встретилась с кем-то. Последний сигнал поймал из Красного Леса. Сам сейчас в Деревню возвращаюсь, Колмогору надо сообщить.", nil, nil, 30000, nil, [[sms\piligrim\warl_pili_gg_otvet_sms]])
end
function agro_torgash_sms()
	sms("%c[255,160,160,160]".."СЕДОЙ:".."\\n".."%c[255,255,128,128]Просьба ко всем - не открывать огонь по моему вертолёту. Это мобильная торговля в Зоне. У кого есть что продать - прошу поторопиться, захожу на посадку в районе железнодорожного туннеля.", nil, nil, 25000, nil, [[sms\sedoy\agro_torgash_sms]])
end
function gg_black_doc_sms1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Я знаю, что Пантера у Вас. Она нужна мне живой и здоровой. Не надо пытаться меня шантажировать, я во многом похож на Вас, только у меня ещё совесть есть и понятие о дружбе - а это значит, что я вдвойне опасен.", nil, nil, 25000)
end
function otsroch_sms()
	sms("%c[255,160,160,160]".."ОТСРОЧЕННОЕ СМС:".."\\n".."%c[255,255,128,128]Привет, это Пантера. Надеюсь, сообщение придёт уже после моего побега, так как я знаю, что ты меня остановишь, если бы я сказала тебе об этом раньше. Мне прислали СМС с угрозой в отношении старшего брата... Не хочу его терять, поэтому иду на эту встречу. С кем, и что им от меня нужно, и что будет потом - неизвестно. Прости... Колмогору ничего говорить не надо...", nil, nil, 30000)
end
function gg_black_doc_sms2()
	sms("%c[255,160,160,160]".."ТЕЛОХРАНИТЕЛЬ ЧЁРНОГО ДОКТОРА:".."\\n".."%c[255,255,128,128]Шеф сказал, что Вы ошиблись. У нас нет девчонки - ни одной, ни второй. Примерное местонахождение одной из них - Генераторы. Шеф также сказал Вам спасибо - ту антенну, что Вы принесли Клёнову - её украли два дня назад как раз с Генераторов. Конец связи.", nil, nil, 25000, nil, [[sms\chel_black_doktora\gg_black_doc_sms2]])
end
function gg_black_doc_sms3()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Клык, привет. Нужна тропка в сторону Генераторов. Выручай.", nil, nil, 20000)
end
function gg_black_doc_sms4()
	sms("%c[255,160,160,160]".."КЛЫК:".."\\n".."%c[255,255,128,128]Привет. Была тропка со станции. Призрак спец по тому району, сейчас с ним свяжусь.", nil, nil, 20000, nil, [[sms\kluk\gg_black_doc_sms4]])
end
function gg_black_doc_sms5()
	sms("%c[255,160,160,160]".."ПРИЗРАК:".."\\n".."%c[255,255,128,128]Стрелок, привет, старче. Есть тропа с ЧАЭС-1, правда я там давненько не хаживал. Пойдём вместе. Буду ждать тебя на ЧАЭС-1 в районе выхода тропки с ЧАЭС-2 - этот переход ты должен знать. До встречи.", nil, nil, 30000, nil, [[sms\prizrak\gg_black_doc_sms5]])
end
function gg_black_doc_sms6()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Да, я знаю это место. Ге... Неужели ты решил со мной прогуляться? Скоро увидимся.", nil, nil, 30000)
end
function sms_ubit_glavar()
	sms("%c[255,160,160,160]".."КОЛМОГОР:".."\\n".."%c[255,255,128,128]Стрелок, дело плохо. Я не вижу главаря карателей. Малая вертуха пошла на повторную посадку на другой стороне деревни, и он, очевидно, там. Пока мы тут держим оборону - твоя задача с ним разобраться. По-мужски. Твоя пушка тебе в этом поможет.", nil, nil, 35000)
end
function pili_zayti_after_antenna_sms()
	sms("%c[255,160,160,160]".."ПИЛИГРИМ:".."\\n".."%c[255,255,128,128]Стрелок, я пока остаюсь в Деревне. Будешь неподалёку - зайди - обсудим план действий.", nil, nil, 35000, nil, [[sms\piligrim\pili_zayti_after_antenna_sms]])
end
function actor_trup_sms()
	sms("%c[255,160,160,160]".."ПРИЗРАК:".."\\n".."%c[255,255,128,128]Стрелок, линяй оттуда, живо!!! Ещё несколько секунд и ты труп!!!", nil, nil, 35000, nil, [[sms\prizrak\actor_trup_sms]])
end
function sms_uchenuy_pobeg()
	sms("%c[255,160,160,160]".."ЗЕМЛЯК:".."\\n".."%c[255,255,128,128]Кит, привет, это Земляк. Сегодня ночью с базы на Генераторах учёный сбежал. У тебя голова светлая, будешь поблизости - зайди - подумаем, что делать. Как бы за ним монолитовцы в гости не пожаловали.", nil, nil, 35000)
end
function pipets_vert_zadanie_sms()
	sms("%c[255,160,160,160]".."ЗЕМЛЯК:".."\\n".."%c[255,255,128,128]Похоже, сталкер, ты провалил моё задание. Время вышло. Возвращайся.", nil, nil, 30000)
end
function hit_heli_hit_sms1()
	sms("%c[255,160,160,160]".."ОБРЫВОК ДИАЛОГА ПИЛОТОВ:".."\\n".."%c[255,255,128,128]Пипец. Какой идиот в нас стреляет? Где этот самоубийца?", nil, nil, 25000, nil, [[sms\pilot_verta\hit_heli_hit_sms1]])
end
function hit_heli_hit_sms2()
	sms("%c[255,160,160,160]".."ОБРЫВОК ДИАЛОГА ПИЛОТОВ:".."\\n".."%c[255,255,128,128]Вижу неверного, который по нам шмалял. Надерём ему задницу!", nil, nil, 25000, nil, [[sms\pilot_verta\hit_heli_hit_sms2]])
end
function hit_heli_hit_sms3()
	sms("%c[255,160,160,160]".."ОБРЫВОК ДИАЛОГА ПИЛОТОВ:".."\\n".."%c[255,255,128,128]Всё, передачу данных закончили. Хрен с этим уродом. Сваливаем, пока этот Шварценеггер внизу базуку не достал.", nil, nil, 30000, nil, [[sms\pilot_verta\hit_heli_hit_sms3]])
end
function hit_heli_hit_sms4()
	sms("%c[255,160,160,160]".."ОБРЫВОК ДИАЛОГА ПИЛОТОВ:".."\\n".."%c[255,255,128,128]Вот блин, этот мудак пробил турбину... Горим!!!", nil, nil, 25000, nil, [[sms\pilot_verta\hit_heli_hit_sms4]])
end
function hit_heli_hit_sms5()
	sms("%c[255,160,160,160]".."ОБРЫВОК ДИАЛОГА ПИЛОТОВ:".."\\n".."%c[255,255,128,128]Ща я этому андроиду кусок Монолита в ж... запихаю!!", nil, nil, 25000, nil, [[sms\pilot_verta\hit_heli_hit_sms5]])
end
function sms_frits1()
	sms("%c[255,160,160,160]".."ФРИЦ:".."\\n".."%c[255,255,128,128]Стой, сталкер. Без разрешения нашего старшего не могу тебя пропустить. Сходи к Земляку - он тут главный.", nil, nil, 25000, nil, [[sms\fric\sms_frits1]])
end
function sms_frits2()
	sms("%c[255,160,160,160]".."ФРИЦ:".."\\n".."%c[255,255,128,128]Ты думаешь, я глухой? Нее, слух у меня отличный. Я слышал ваш диалог. Можешь проходить.", nil, nil, 25000, nil, [[sms\fric\sms_frits2]])
end
function sms_frits3()
	sms("%c[255,160,160,160]".."ФРИЦ:".."\\n".."%c[255,255,128,128]Земляк, тут к нам гости пожаловали. Отправил одного к тебе. Жди.", nil, nil, 25000, nil, [[sms\fric\sms_frits3]])
end
function sms_frits4()
	sms("%c[255,160,160,160]".."ФРИЦ:".."\\n".."%c[255,255,128,128]Что-то ты зачастил к учёному. Скорифанились, что-ли? Ладно-ладно, шучу. Проходи.", nil, nil, 25000, nil, [[sms\fric\sms_frits4]])
end
function sms_frits5()
	sms("%c[255,160,160,160]".."ФРИЦ:".."\\n".."%c[255,255,128,128]Ну ты даёшь! У тебя там что, мёдом намазано? Ходишь через 5 минут! Ладно, проходи.", nil, nil, 25000, nil, [[sms\fric\sms_frits5]])
end
function sms_doc_letit()
	sms("%c[255,160,160,160]".."ЗЕМЛЯК:".."\\n".."%c[255,255,128,128]Просьба не волноваться и всем оставаться на местах. Сейчас совершит посадку вертуха с гостями. Сообщили, что летят с мирными целями.", nil, nil, 30000)
end
function dok_ot_andersena_letit()
	sms("%c[255,160,160,160]".."ЧЁРНЫЙ ДОКТОР:".."\\n".."%c[255,255,128,128]Стрелок, я закончил разговор с Андерсеном. Скажите этому истинному арийцу, который его охраняет, чтобы меня выпустил.", nil, "doctor_black", 25000)
end
function sekretnuy_vuhod_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Мужики, кто жив - давайте в подземку - главарь уходит!!!", nil, nil, 25000)
end
function sekretnuy_vuhod_sms1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Похоже, есть ещё одна вертуха. Вот блин...", nil, nil, 20000)
end
function boloto_sms_k_doku()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Доктор, у меня тут заминка. Человека нашёл, но он пьян и не дойдёт до Генераторов. Разорись, ругайся, но вертуху за нами на Болота отправь.", nil, nil, 25000)
end
function sms_ot_doka_o_verte()
	sms("%c[255,160,160,160]".."ЧЕЛОВЕК ЧЁРНОГО ДОКТОРА:".."\\n".."%c[255,255,128,128]Вертолёт отправили. Выдвигайтесь в сторону кладбища на пригорке у старой церкви.", nil, nil, 30000, nil, [[sms\chel_black_doktora\sms_ot_doka_o_verte]])
end
function sms_boloto_k_prizraku()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Призрак, это Стрелок. Скоро буду. Этот Боцман пьян как удав. Есть новости?", nil, nil, 30000)
end
function sms_boloto_ot_prizraka()
	sms("%c[255,160,160,160]".."ПРИЗРАК:".."\\n".."%c[255,255,128,128]Да, Стрелок, новости есть, и притом занятные. Жду.", nil, nil, 30000, nil, [[sms\prizrak\sms_boloto_ot_prizraka]])
end
function sms_70m_vert()
	sms("%c[255,160,160,160]".."ПИЛОТ ВЕРТОЛЁТА:".."\\n".."%c[255,255,128,128]Я на подлёте. Поднимайтесь на холм, там, где кладбище.", nil, nil, 30000, nil, [[sms\pilot_verta\sms_70m_vert]])
end
function letchik_sms1()
	sms("%c[255,160,160,160]".."ПИЛОТ ВЕРТОЛЁТА:".."\\n".."%c[255,255,128,128]Заметил группу бандитов прямо под вертушкой. Вам придётся с ними разобраться - посадка в их присутствии слишком опасна. Вертолёт не вооружён. До связи.", nil, nil, 30000, nil, [[sms\pilot_verta\letchik_sms1]])
end
function rugan_gg_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Вот блин. Всё что-нибудь не так. Боцман, схоронись поблизости, твой пьяный организм нужен мне живым. А я пойду с бандосами разбираться.", nil, nil, 30000)
end
function letchik_sms2()
	sms("%c[255,160,160,160]".."ПИЛОТ ВЕРТОЛЁТА:".."\\n".."%c[255,255,128,128]Вроде всё чисто. Была - не была, захожу на повторную посадку. Проверьте на всякий случай.", nil, nil, 25000, nil, [[sms\pilot_verta\letchik_sms2]])
end
function udav_v_vert_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Боцман, вертушка приземлилась. Дуй быстро в вертолёт!", nil, nil, 25000)
end
function sms_udav_sel()
	sms("%c[255,160,160,160]".."БОЦМАН:".."\\n".."%c[255,255,128,128]Всё, я в вертолёте. Ну и теснотища тут. А, чёрт, отлить забыл. Надеюсь, лететь не слишком долго, а то не дотерплю.", nil, nil, 25000)
end
function marsh_udav_pogib()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Док, погиб Боцман... Знаю, что альтернативы пока нет... Не отключить нам без него пси-антенны.", nil, nil, 25000)
end
function udav_antenna_sms1()
	sms("%c[255,160,160,160]".."БОЦМАН:".."\\n".."%c[255,255,128,128]Первую хреновину отключил. Она перед воротами базы установлена. Иду дальше.", nil, nil, 25000)
end
function udav_antenna_sms2()
	sms("%c[255,160,160,160]".."БОЦМАН:".."\\n".."%c[255,255,128,128]Вторая антенна тоже отключена - она у бункера. Тут на меня смотрят, как на идиота - видно не могут понять, как я прошёл. Народу человек 20 - хорошо вооружены, часть - на вышках в белых научных костюмах. Иду к учёному - он антенну ремонтирует.", nil, nil, 25000)
end
function udav_antenna_sms3()
	sms("%c[255,160,160,160]".."БОЦМАН:".."\\n".."%c[255,255,128,128]Третья антенна не рабочая. Девушки нигде не видно. С учёным не поговорить - охраняют его. Вижу вертуху - готовится к взлёту, очевидно. Сейчас минутку у костра посижу и возвращаюсь.", nil, nil, 25000)
end
function udav_antenna_sms4()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Призрак, пока пси-поле ещё активно. Я дождусь возвращения Боцмана у границы поля, есть к нему пара вопросов. После - надо будет договориться, как будем действовать дальше.", nil, nil, 30000)
end
function priz_bomz_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Призрак, привёз бомжа тебе на воспитание. Через пару часов он должен быть трезв и адекватен.", nil, nil, 25000)
end
function fritz_shturm_mat()
	sms("%c[255,160,160,160]".."ФРИЦ:".."\\n".."%c[255,255,128,128]Банзай!!! Мочи уродов!!! Ёпть... Какой х... тут мин наставил, п...к!!! Эй, мужики, кто поблизости! Успокойте эту обезьяну на вышке! Это с... мне головы не даёт поднять! Вот говнюк, я ему сейчас его скафандр на жопу натяну, козлу. Космонавт хренов!!!", nil, nil, 30000, nil, [[sms\fric\fritz_shturm_mat]])
end
function fritz_shturm_mat1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Призрак, ты слышал? Вот это мат... Разве роботы могут ругаться как сапожники?", nil, nil, 20000)
end
function black_heli_sms()
	sms("%c[255,160,160,160]".."ПИЛОТ ВЕРТОЛЁТА:".."\\n".."%c[255,255,128,128]Эй, орлы! Я вижу вы там устроили штурм Рейхстага? Поаккуратнее - иду на посадку, не зацепите - Чёрный Доктор подмогу прислал.", nil, nil, 30000, nil, [[sms\pilot_verta\black_heli_sms]])
end
function solvador_sms1()
	sms("%c[255,160,160,160]".."СОЛЬВАДОР:".."\\n".."%c[255,255,128,128]Они ушли по подземному туннелю, и девушку увели. Вход в туннель находится между костром и вышкой.", nil, nil, 25000, nil, [[sms\solvador\solvador_sms1]])
end
function ne_strelyt()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Мужики, по второй вертухе не стрелять! Пантера, вероятно, там.", nil, nil, 20000)
end
function mu_opozdaly()
	sms("%c[255,160,160,160]".."САПСАН:".."\\n".."%c[255,255,128,128]Шеф, похоже мы опоздали. Девка мертва. Сделали всё, что смогли.", nil, nil, 25000, nil, [[sms\sapsan\mu_opozdaly]])
end
function mu_opozdaly1()
	sms("%c[255,160,160,160]".."ЧЁРНЫЙ ДОКТОР:".."\\n".."%c[255,255,128,128]Сапсан, отправьте за мной вертолёт. Я прилечу лично. Может, ещё что-то можно сделать.", nil, "doctor_black", 25000)
end
function mu_opozdaly2()
	sms("%c[255,160,160,160]".."ЧЁРНЫЙ ДОКТОР:".."\\n".."%c[255,255,128,128]Стрелок, оставайтесь на месте, я скоро прибуду к месту событий.", nil, "doctor_black", 25000)
end
function boy_sms1()
	sms("%c[255,160,160,160]".."ФРИЦ:".."\\n".."%c[255,255,128,128]Мужики, держитесь - вертуха взлетела, сейчас утюжить будет.", nil, nil, 20000, nil, [[sms\fric\boy_sms1]])
end
function boy_sms2()
	sms("%c[255,160,160,160]".."ПРИЗРАК:".."\\n".."%c[255,255,128,128]Похоже, что она не одна - вижу второй вертолёт - идёт со стороны деревни. Решили в клещи зажать. Надо рассредоточиться. Я зайду с правого фланга.", nil, nil, 20000, nil, [[sms\prizrak\boy_sms2]])
end
function boy_sms2_1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Да, понял тебя. Заходи справа, а я через ворота ломану.", nil, nil, 20000)
end
function boy_sms3()
	sms("%c[255,160,160,160]".."ФРИЦ:".."\\n".."%c[255,255,128,128]Э... Вы только гляньте, чего они творят - похоже второй пропеллер на нашей стороне.", nil, nil, 20000, nil, [[sms\fric\boy_sms3]])
end
function plan_zahvata_sms1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Призрак. Всё ок, мы возвращаемся. Нужен план захвата. Вдвоём нам не осилить. Планирую Фрица подключить с его способностями.", nil, nil, 20000)
end
function plan_zahvata_sms2()
	sms("%c[255,160,160,160]".."ПРИЗРАК:".."\\n".."%c[255,255,128,128]Ну ты выдал. Он же не... Ну, я тебе говорил. Сильно рискуем. Ладно, подходи, потолкуем.", nil, nil, 25000, nil, [[sms\prizrak\plan_zahvata_sms2]])
end
function podgotovka_zahvata_sms1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Доктор, это опять Стрелок. Без вашей поддержки вдвоём нам базу не взять. Я надеюсь, вы поняли намёк. Мы не герои Матрицы, и времени в обрез.", nil, nil, 20000)
end
function podgotovka_zahvata_sms2()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Фриц, есть деловое предложение - есть возможность отполировать твою каску. Намечается прогулка на базу монолита, ты в числе приглашённых. Идём? У Андерсена сейчас есть серьёзная охрана, а у тебя есть возможность сдуть пыль с твоего раритетного пулемёта.", nil, nil, 25000)
end
function podgotovka_zahvata_sms3()
	sms("%c[255,160,160,160]".."ЧЕЛОВЕК ЧЁРНОГО ДОКТОРА:".."\\n".."%c[255,255,128,128]Это Сапсан. Шеф сообщил, что поможет вам.", nil, nil, 20000, nil, [[sms\chel_black_doktora\podgotovka_zahvata_sms3]])
end
function podgotovka_zahvata_sms4()
	sms("%c[255,160,160,160]".."ФРИЦ:".."\\n".."%c[255,255,128,128]Хорошо, я прогуляюсь вместе с вами. Что конкретно надо? Я бывал на этой базе.", nil, nil, 20000, nil, [[sms\fric\podgotovka_zahvata_sms4]])
end
function podgotovka_zahvata_sms5()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Вот и отлично. Раз бывал, то знаешь, что с другой стороны базы нет забора. Топай туда и жди сигнала. Только не запались раньше времени. Как начнётся шум - проверяй на убойность свой пулемёт по всему, что движется, кроме меня, Призрака и девушки. Надеюсь, ты знаешь, как выглядят девушки?", nil, nil, 25000)
end
function podgotovka_zahvata_sms6()
	sms("%c[255,160,160,160]".."ФРИЦ:".."\\n".."%c[255,255,128,128]Понял, сделаю. Как выглядят девушки - я забыл, но перед тем, как кого-то убить - буду спрашивать об этом, хорошо?", nil, nil, 20000, nil, [[sms\fric\podgotovka_zahvata_sms6]])
end
function mat_sms1()
	sms("%c[255,160,160,160]".."ПИЛОТ ВЕРТОЛЁТА:".."\\n".."%c[255,255,128,128]Э, парень, не шути, а то превращу тебя в кучку молекул.", nil, nil, 15000, nil, [[sms\pilot_verta\mat_sms1]])
end
function sms_ponyl()
	sms("%c[255,160,160,160]".."ФРИЦ:".."\\n".."%c[255,255,128,128]Понял тебя, Стрелок.", nil, nil, 15000, nil, [[sms\fric\sms_ponyl]])
end
function sms_spasibo_frits1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Фриц, спасибо за помощь. Пока не знаю, чем тебя отблагодарить, но я обязательно это сделаю. Ты можешь остаться на базе, если хочешь.", nil, nil, 20000)
end
function sms_spasibo_frits2()
	sms("%c[255,160,160,160]".."ФРИЦ:".."\\n".."%c[255,255,128,128]Да не за что. Мне вполне достаточно спасибо. Да, я пока останусь на базе. Буду нужен - найдёте.", nil, nil, 20000, nil, [[sms\fric\sms_spasibo_frits2]])
end
function sapsan_ulet_sms()
	sms("%c[255,160,160,160]".."САПСАН:".."\\n".."%c[255,255,128,128]Всё, шеф улетел. Я дождусь вертолёта с группой для охраны базы.", nil, nil, 20000, nil, [[sms\sapsan\sapsan_ulet_sms]])
end
function dok_podvox_sms1()
	sms("%c[255,160,160,160]".."ЧЁРНЫЙ ДОКТОР:".."\\n".."%c[255,255,128,128]Пишу вам сам, хотя и крайне не люблю это занятие. Похоже, кто-то провёл нас обоих. Труп девушки оказался трупом, но совсем не девушки. Хотя для Вас - это, вероятно, крайне радостная весть. А для меня - не очень.", nil, "doctor_black", 30000)
end
function dok_podvox_sms2()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Док, база ваша, что вас не устраивает? Это у меня куча проблем и вопросов. Да, я рад, что Пантера жива, и рад, что вы сказали мне правду.", nil, nil, 25000)
end
function dok_podvox_sms3()
	sms("%c[255,160,160,160]".."ЧЁРНЫЙ ДОКТОР:".."\\n".."%c[255,255,128,128]Мне нужен украденный у меня артефакт. Та девчонка, которая его утащила, до сих пор не найдена. Вторая проблема - мне нужна энергия, и двух рабочих генераторов для этого недостаточно. К тому же, пульты управления находятся на территории Военной Лаборатории. Дверь туда закодирована и кто сейчас в лаборатории - неизвестно.", nil, "doctor_black", 25000)
end
function dok_podvox_sms4()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Код я знаю, и дверь открою. Я даже знаю, кто сейчас в Военной Лаборатории. А ещё я знаю, что ваших людей туда навряд ли пустят без посредничества. Я могу посодействовать, но мне нужна кой-какая информация, а именно - всё что у вас есть по Звездочёту - как я понимаю, до недавнего времени это был ваш человек.", nil, nil, 25000)
end
function dok_podvox_sms5()
	sms("%c[255,160,160,160]".."ЧЁРНЫЙ ДОКТОР:".."\\n".."%c[255,255,128,128]Хорошо. Попробуйте открыть двери в Военную Лабораторию. После - не торопитесь уходить - я отправлю к вам своего человека. Встречайте его у перехода в Госпиталь. Вы знаете, где он расположен - у шлагбаума, к которому ведёт старая военная бетонная дорога на территории Генераторов. Я дам ему краткое досье на Звездочёта. Остальное - при встрече.", nil, "doctor_black", 30000)
end
function dok_podvox_sms6()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Призрак, я связался с Доктором, вернее, он со мной. Он оказался честен в вопросе с Пантерой. Короче, я проверяю код, обследую переход и иду в сторону перехода в Госпиталь - там стрелка забита - Док обещал досье на Звездочёта прислать.", nil, nil, 30000)
end
function dok_trupak_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Док, я сожалею, но ваш человек позарился на хороший арт и влез в аномальную зону. Он труп. Документы рядом, но достать их теперь проблема.", nil, nil, 25000)
end
function idu_na_nz_sms1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Призрак, я на Неразведанную Землю. Оставайся пока тут. Увидишь Звездочёта, не трогай его - я сам его придушу. Не волнуйся, Клык мне поможет.", nil, nil, 25000)
end
function idu_na_nz_sms2()
	sms("%c[255,160,160,160]".."ПРИЗРАК:".."\\n".."%c[255,255,128,128]Понял тебя. По поводу Чёрного Доктора подумай, я уже почти уверен: не странно ли, что именитый учёный отличил чучело от трупа только прилетев в Госпиталь? Я ещё могу поверить, что Сапсан в своём противогазе не разглядел или Фриц - тот вообще женщин не видел... Но Доктор? Это тебе пища к раздумью, пока идёшь. Клыку привет.", nil, nil, 30000, nil, [[sms\prizrak\idu_na_nz_sms2]])
end
function idu_na_nz_sms3()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Клык, привет. Дело есть. Пахнет жареным по поводу Звездочёта. Надо найти секретную пещеру на Неразведанной Земле. Постараюсь это сделать. Бери снарягу, встречаемся в нашем новом штабе. Да, от Призрачного тебе тоже привет.", nil, nil, 25000)
end
function idu_na_nz_sms4()
	sms("%c[255,160,160,160]".."КЛЫК:".."\\n".."%c[255,255,128,128]Привет. Давненько от вас вестей не было, я уж подумал, что на Мальдивах отдыхаете наверное, хе-хе. Понял тебя, буду в штабе на Неразведанной Земле. Постарайся выяснить, где расположена эта пещера.", nil, nil, 25000, nil, [[sms\kluk\idu_na_nz_sms4]])
end
function peshera_naydena_sms1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Клык, я нашёл пещеру. В ней кто-то есть, похоже - нейтрал. Наверно, Звездочёт. Проверить не могу - телепорт ещё активен.", nil, nil, 25000)
end
function peshera_naydena_sms2()
	sms("%c[255,160,160,160]".."КЛЫК:".."\\n".."%c[255,255,128,128]Понял тебя - я в штабе, подходи, обмозгуем. Один в пещеру не суйся - нейтрал-нейтралом, а хрен его знает, что там у него на уме.", nil, nil, 25000, nil, [[sms\kluk\peshera_naydena_sms2]])
end
function kluk_na_meste_sms1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Мы пришли. Займи позицию где-нибудь у камней - на случай незваных гостей.", nil, nil, 25000)
end
function kluk_shuher_sms1()
	sms("%c[255,160,160,160]".."КЛЫК:".."\\n".."%c[255,255,128,128]Стрелок, что у тебя там? Что это за вопли? Ты какого мутанта там раскопал? Что-то я не припомню такого рёва.", nil, nil, 15000, nil, [[sms\kluk\kluk_shuher_sms1]])
end
function kluk_shuher_sms2()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Да лучше бы мутант... Не поверишь - нашли мы девчонку, которая арт стащила. Только истерика у неё - в Зоне такое бывает.", nil, nil, 15000)
end
function kluk_shuher_sms3()
	sms("%c[255,160,160,160]".."КЛЫК:".."\\n".."%c[255,255,128,128]Оставь её пока и дуй наверх - похоже, у нас гости. Я знал, что так будет...", nil, nil, 25000, nil, [[sms\kluk\kluk_shuher_sms3]])
end
function na_predesant_sms()
	sms("%c[255,160,160,160]".."КЛЫК:".."\\n".."%c[255,255,128,128]Сейчас на посадку пойдёт. Приготовься, но не стреляй раньше времени - посмотрим на гостей сначала.", nil, nil, 20000, nil, [[sms\kluk\na_predesant_sms]])
end
function posadka_pant_sms1()
	sms("%c[255,160,160,160]".."КЛЫК:".."\\n".."%c[255,255,128,128]А вот и компания... Смотри-ка, Стрелок, похоже твоя девушка по доброй воле идёт, по крайней мере оружие у неё при себе. Сейчас я их сниму обоих. На раз, два.", nil, nil, 25000, nil, [[sms\kluk\posadka_pant_sms1]])
end
function posadka_pant_sms2()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Она не моя, и шанс ей стать упустила. Но провели меня классно, мастера розыгрыша. Стрелять погоди. Посмотрим, что будет дальше, по крайней мере пока их только двое.", nil, nil, 25000)
end
function posadka_pant_sms3()
	sms("%c[255,160,160,160]".."КЛЫК:".."\\n".."%c[255,255,128,128]Похоже, они хотят потолковать и, очевидно, с тобой. Сходи, узнай их последнее желание, а я тебя прикрою. Один намёк на агрессию с их стороны - и они оба покойники.", nil, nil, 25000, nil, [[sms\kluk\posadka_pant_sms3]])
end
function pant_proschay_sms1()
	sms("%c[255,160,160,160]".."ПАНТЕРА:".."\\n".."%c[255,255,128,128]Прости, что снова тебя беспокою. Я запуталась. Не тревожься, я не прошу у тебя помощи, мне надо самой разобраться во всём. Многое из происходящего мне самой не совсем понятно. А пока слушай, что мне точно известно: нет никакого проекта О-Сознание, так же как и нет и самого Чёрного Доктора.", nil, nil, 30000)
end
function pant_proschay_sms2()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Не прошло и 5 минут и тебя замучила совесть? Или это очередной трюк? Что за небылицы ты пишешь? Как это нет Чёрного Доктора? Мои глаза ещё кое-что видят, правда многого они видеть не хотят - и это относится к тебе.", nil, nil, 25000)
end
function pant_proschay_sms3()
	sms("%c[255,160,160,160]".."ПАНТЕРА:".."\\n".."%c[255,255,128,128]Ты настроен решительно против меня, и моя задача раздобыть нужный мне артефакт неосуществима. С этим мне придётся смирится. Поэтому я и сказала тебе то, что знаю. Может быть, это поможет тебе найти настоящую разгадку тайны Зоны. А верить или нет - дело твоё. Прощай. Ты отличный сталкер и я рада, что ты был моим другом. И даже больше, чем другом...", nil, nil, 30000)
end
function pant_proschay_sms4()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Клык, всё, я отчаливаю в Военную Лабораторию - к Клёнову. Тут интересные сведения поступили насчёт Чёрного Доктора - надо будет потом проверить.", nil, nil, 25000)
end
function muha_bazar_sms()
	sms("%c[255,160,160,160]".."КЛЫК:".."\\n".."%c[255,255,128,128]Стрелок, ты ещё не ушёл далеко? Вернись-ка, девчонка вроде поговорить хочет. Лови момент. Кстати, Муха её зовут.", nil, nil, 30000, nil, [[sms\kluk\muha_bazar_sms]])
end
function muha_bazar_sms1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Вот, не в дорогу... Ладно, возвращаюсь.", nil, nil, 20000)
end
function voronin_voen_sms1()
	sms("%c[255,160,160,160]".."ВОРОНИН:".."\\n".."%c[255,255,128,128]Стрелок, я связался с военными. Это было что-то... Зашевелились граждане в погонах. Сейчас пришлют точные сведения, жди. Да, и энергетиком не усугубляй.", nil, nil, 25000, nil, [[sms\voronin\voronin_voen_sms1]])
end
function voronin_voen_sms2()
	sms("%c[255,160,160,160]".."ВОРОНИН:".."\\n".."%c[255,255,128,128]Вот теперь - слушай внимательно. По имеющимся у военных данным борт за номером 124 был сбит или попал под сильный Выброс над территорией ЧАЭС-2. Одновременно с ним пропали ещё два вертолёта - по имеющимся сведениям - в том же районе. Точные координаты можно установить, раздобыв чёрный ящик с этого 124-го. Однако это крайне проблемно - сигнал от бортового самописца исходит с крыши взорвавшегося 4 блока...", nil, nil, 30000, nil, [[sms\voronin\voronin_voen_sms2]])
end
function voronin_voen_sms3()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Ну, генерал, озадачил. Хрень знает, что теперь и делать. В том районе от радиации лампочки горят без электричества...", nil, nil, 20000)
end
function voronin_voen_sms4()
	sms("%c[255,160,160,160]".."ВОРОНИН:".."\\n".."%c[255,255,128,128]Решай сам. Если пойдёшь, никто героем считать тебя не будет - скорее сумасшедшим назовут. Ты хоть намекни, где девчонка, если всё же решишься на это безумство. На всякий случай скидываю в твой ПДА фото этого вертолёта.", nil, nil, 25000, nil, [[sms\voronin\voronin_voen_sms4]])
end
function voronin_voen_sms5()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Клык, борода с самописцем. Верт 124 на крыше ЧАЭС. Топаю туда - иначе никак. Ты о девчонке позаботься, да Пантере сообщи - пусть поплачут, если не вернусь.", nil, nil, 25000)
end
function voronin_voen_sms6()
	sms("%c[255,160,160,160]".."КЛЫК:".."\\n".."%c[255,255,128,128]Стрелок, у тебя крышу сорвало? Нынче народ за правдой и до ближнего ларька не пойдёт, а ты собрался на крышу реактора. Оно того стоит? Ну, если уверен - то иди. Дашь знать.", nil, nil, 25000, nil, [[sms\kluk\voronin_voen_sms6]])
end
function chaes2_kluk_sms1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Клык, я нашёл этот чёртов самописец. Возвращаюсь к Воронину - пусть расшифровывают.", nil, nil, 25000)
end
function chaes2_kluk_sms2()
	sms("%c[255,160,160,160]".."КЛЫК:".."\\n".."%c[255,255,128,128]Стрелок, раз уж ты там - этого делать нельзя. Ты что, военных не знаешь? Пока ты повторно тащишься после расшифровки обратно на станцию - они проверят все координаты. Выход один - ищи сам сбитые вертухи - их должно быть не так много. Обращай внимание на те, где есть трупы в чёрных брониках - это должны быть именно те вертушки.", nil, nil, 25000, nil, [[sms\kluk\chaes2_kluk_sms2]])
end
function chaes2_kluk_sms3()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Да, ты прав. Сначала сам обследую все подбитые вертолёты.", nil, nil, 20000)
end
function iz_moskvy_sms1()
	sms("%c[255,160,160,160]".."СМС ИЗ МОСКВЫ:".."\\n".."%c[255,255,128,128]Эй, как там тебя... А... Стрелок. Где моя внучка? Отвечай, мммать!", nil, nil, 20000)
end
function iz_moskvy_sms2()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Эй, как там тебя... А... Генерал. У меня твоя внучка, не беспокойся. Мммать...", nil, nil, 20000)
end
function iz_moskvy_sms3()
	sms("%c[255,160,160,160]".."СМС ИЗ МОСКВЫ:".."\\n".."%c[255,255,128,128]Ладно, не пыли. Извиняюсь. Спасибо, что нашёл её, если это правда. Где её можно забрать?", nil, nil, 20000)
end
function iz_moskvy_sms4()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Правда. Вот координаты для посадки вертолёта. Стрекоза должна быть одна - в противном случае остальным мы крылья поотрываем - дело для Зоны привычное. Да, Воронина не забудьте отблагодарить.", nil, nil, 20000)
end
function iz_moskvy_sms5()
	sms("%c[255,160,160,160]".."СМС ИЗ МОСКВЫ:".."\\n".."%c[255,255,128,128]Понял. Не беспокойся, отблагодарим, и про тебя не забудем. Вертолёт вылетает с базы через 5 минут.", nil, nil, 20000)
end
function dosvidanie_devchonka()
	sms("%c[255,160,160,160]".."МУХА:".."\\n".."%c[255,255,128,128]Мальчики, до свидания! Я вас люблю и жду в гости в Москву!", nil, nil, 20000, nil, [[sms\muha\dosvidanie_devchonka]])
end
function pilot_muhi_sms()
	sms("%c[255,160,160,160]".."ПИЛОТ ВЕРТОЛЁТА:".."\\n".."%c[255,255,128,128]Товарищ генерал, операция прошла успешно. Девочку забрали, ящик с презентом оставили. Возвращаемся на базу.", nil, nil, 23000, nil, [[sms\pilot_verta\pilot_muhi_sms]])
end
function vzruv_aver_vert_sms1()
	sms("%c[255,160,160,160]".."ПЕРВЫЙ ПИЛОТ ВЕРТОЛЁТА:".."\\n".."%c[255,255,128,128]Блин, горим!!! Какой-то хрен из базуки выстрелил. А, я их вижу!!! В леске на холме - группа сталкеров. Вот суки! Двигаются по направлению к Зимовью.", nil, nil, 20000, nil, [[sms\pilot_verta\vzruv_aver_vert_sms1]])
end
function vzruv_aver_vert_sms2()
	sms("%c[255,160,160,160]".."ВТОРОЙ ПИЛОТ ВЕРТОЛЁТА:".."\\n".."%c[255,255,128,128]Машина не слушается штурвала. Тянем к болоту, девчонку надо в воду столкнуть, может выживет...", nil, nil, 20000, nil, [[sms\pilot_verta\vzruv_aver_vert_sms2]])
end
function vzruv_aver_vert_sms3()
	sms("%c[255,160,160,160]".."ПЕРВЫЙ ПИЛОТ ВЕРТОЛЁТА:".."\\n".."%c[255,255,128,128]А, ммать, сейчас рванём!!! Всем прыгать за борт, живо!!!", nil, nil, 20000, nil, [[sms\pilot_verta\vzruv_aver_vert_sms3]])
end
function vzruv_aver_vert_sms4()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Клык, пипец. О последствиях лучше не думать. Я к болоту, может кто выжил. А ты пока оставайся здесь - похоже, гости тут скоро будут.", nil, nil, 20000)
end
function after_die_muha_sms1()
	sms("%c[255,160,160,160]".."СМС ИЗ МОСКВЫ:".."\\n".."%c[255,255,128,128]Какого хрена у вас там происходит, солдат?!", nil, nil, 20000)
end
function after_die_muha_sms2()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Плохо дело, генерал. Борт сбит. Ваша внучка... она... В общем, ранена она тяжело. Отправляю её и ещё одного выжившего солдата к доктору. Это не моя вина. Сделаю всё, что в моих силах. Понимаю ваши чувства, но если будут новости - я сам с вами свяжусь. Конец связи.", nil, nil, 20000)
end
function after_die_muha_sms3()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Доктор, вот координаты. Нужна ваша помощь. Погиб человек. Простой человек, далёкий от Зоны и от грязи жизни. Попытайтесь что-нибудь сделать. Возражения не принимаются. У меня есть интересующие вас предметы. Но думаю, что жизнь дороже этих фантиков.", nil, nil, 25000)
end
function after_die_muha_sms4()
	sms("%c[255,160,160,160]".."ЧЁРНЫЙ ДОКТОР:".."\\n".."%c[255,255,128,128]Хорошо. Вертолёт вылетает. Но хочу сразу предупредить вас - чтобы адекватно обеспечить работу камеры по воскрешению мне нужна энергия. Сейчас её недостаточно. Вам надо связаться с учёными на Генераторах и помочь им запустить третий генератор. После, если всё пройдёт успешно, будет ещё одна просьба.", nil, "doctor_black", 25000)
end
function after_die_muha_sms5()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Клык, Муха погибла. Отправляю тело к Чёрному Доктору. Выжил один солдат - дал мне пару фоток группы, которая сбила вертолёт. Это монолитовцы. А командовал ими... Наш общий знакомый - Звездочёт... Стреляли от пещеры, где была Муха. Выдвигаюсь туда - может удастся этому чмырю чайник сразу открутить. Как на Зимовье? Вроде монолитовцы к тебе направлялись.", nil, nil, 25000)
end
function after_die_muha_sms6()
	sms("%c[255,160,160,160]".."КЛЫК:".."\\n".."%c[255,255,128,128]Погибла? Я к ней уже привязался - хорошая девчонка была... У нас всё тихо пока. Ты вот что... не трогай этого говнюка, если увидишь. Я тебя прошу. С этой сукой я сам поквитаюсь. Давно надо было этому лосю рога пообломать. Неужели Пантера с ним заодно??? Если это так - порешу обоих. Слово зека, хоть я давно и завязал. Такие люди не имеют права на жизнь, и наш гуманный суд, что посадит на 10 лет за украденный рубль, а за убийство даст условно пару лет тут не поможет. В Зоне - свои законы.", nil, nil, 30000)
end
function mono_netu_sms1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Клык, я на месте. Похоже, ушли ребятишки. Повезло им. Ты пока оставайся на Зимовье, вдруг ребятки затихарились где, а я на Генераторы к учёным - надо помочь запустить третий генератор. Да, увидишь Пантеру - не трогай её, пожалуйста.", nil, nil, 20000)
end
function mono_netu_sms2()
	sms("%c[255,160,160,160]".."КЛЫК:".."\\n".."%c[255,255,128,128]Понял. Будут новости - сообщу. Призрачному привет передавай.", nil, nil, 20000, nil, [[sms\kluk\mono_netu_sms2]])
end
function mono_netu_sms3()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Лукаш, привет. Попроси свою разведку - если засекут Звездочёта, пускай свистнут.", nil, nil, 10000)
end
function mono_netu_sms4()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Воронин, привет, генерал. У нас тут облом - ты уже, наверно, в курсе. Скажи своим людям - увидят Звездочёта - пускай сообщат мне.", nil, nil, 10000)
end
function mono_netu_sms5()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Пантера, ответь.", nil, nil, 10000)
end
function mono_netu_sms6()
	sms("%c[255,160,160,160]".."ОПЕРАТОР СВЯЗИ:".."\\n".."%c[255,255,128,128]ПДА абонента выключен или находится вне зоны действия сети...", nil, nil, 10000)
end
function vitamin_posrednik_sms1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Витамин, привет. Тут такое дело, важное для меня. Надо пропустить пару учёных с поверхности к пультам управления генераторами в Военной Лаборатории. Они нейтралы, и люди, на которых они работают - тоже.", nil, nil, 25000)
end
function vitamin_posrednik_sms2()
	sms("%c[255,160,160,160]".."ВИТАМИН:".."\\n".."%c[255,255,128,128]Привет, Стрелок. Помня твою помощь - скажу одно - вариант для нас приемлем, но к этим людям будет ряд условий. Выход на поверхность из Военной Лаборатории функционирует - могу отправить человека для переговоров. Жду от тебя сигнала.", nil, nil, 25000)
end
function vitamin_posrednik_sms3()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Доктор, отправьте на Генераторы вашего человека - свободовцы, те, что в Военной Лаборатории, выставляют ряд условий для прохода ваших учёных. Надо обсудить эти условия.", nil, nil, 25000)
end
function vitamin_posrednik_sms4()
	sms("%c[255,160,160,160]".."САПСАН:".."\\n".."%c[255,255,128,128]Без проблем. Сообщи Свободе, что мы согласны обсудить условия. Пусть отправляют представителя. Чёрного Доктора буду представлять я. Встреча будет у входа в Военную Лабораторию с территории Генераторов, так что далеко ходить не придётся.", nil, nil, 25000, nil, [[sms\sapsan\vitamin_posrednik_sms4]])
end
function vitamin_posrednik_sms5()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Витамин, отправляй своего представителя. Жду.", nil, nil, 10000)
end
function sv_chern_peregovor_sms1()
	sms("%c[255,160,160,160]".."САПСАН:".."\\n".."%c[255,255,128,128]Привет мастерам Свободы. Суть переговоров Вам известна. Ваши условия?", nil, nil, 15000, nil, [[sms\sapsan\sv_chern_peregovor_sms1]])
end
function sv_chern_peregovor_sms2()
	sms("%c[255,160,160,160]".."СВОБОДОВЕЦ:".."\\n".."%c[255,255,128,128]Взаимный привет. Мне поручено предложить следующее: Мы пропускаем Ваших учёных и обеспечиваем им беспрепятственный доступ практически во все нужные помещения. Об их охране тоже позаботятся наши люди. Взамен от Вас требуется полмиллиона наличными и доступ наших бойцов на поверхность - предпочтительно в зону шлагбаума на старой бетонке - хотим организовать небольшой лагерь для отдыха людей и контроля доступа к близ расположенному переходу. Естественно, у Ваших людей будет свободный доступ.", nil, "freedom", 25000, nil, [[sms\svoboda\sv_chern_peregovor_sms2]])
end
function sv_chern_peregovor_sms3()
	sms("%c[255,160,160,160]".."САПСАН:".."\\n".."%c[255,255,128,128]Мне поручено принять любые Ваши условия. С финансами - без всяких проблем. По поводу лагеря: эта территория пока не под нашим контролем, по моим данным тут тусят остатки фанатиков. Но у меня есть вариант решения - мы отправим Стрелка на зачистку территории, после чего вы можете беспрепятственно туда пройти.", nil, nil, 25000, nil, [[sms\sapsan\sv_chern_peregovor_sms3]])
end
function sv_chern_peregovor_sms4()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Э... Молодые люди... Извините, что прервал ваш милый базар, но с какого хрена это должен делать я? Или у вас, как у профессионалов не хватает мужества самим зачистить территорию?", nil, nil, 25000)
end
function sv_chern_peregovor_sms5()
	sms("%c[255,160,160,160]".."САПСАН:".."\\n".."%c[255,255,128,128]Ну, видишь ли, Стрелок... Пока ты как бы в должниках у Чёрного Доктора. Ты много для всех нас сделал, но работу нужно довести до конца, тем более, что ты в этом сам заинтересован. Впрочем, ты можешь отказаться, на данном этапе мы уже сможем договориться и без тебя.", nil, nil, 25000, nil, [[sms\sapsan\sv_chern_peregovor_sms5]])
end
function sv_chern_peregovor_sms6()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Сапсан, если ты не в курсе, то мне уже давно плевать на количество и качество моих врагов. Надеюсь, ты не хочешь пополнить список моих жертв, так что не надо ставить мне условия. Без проблем, я разведаю обстановку у шлагбаума, но в твоей заднице добавится заноза, если ты и впредь будешь решать за меня, что мне делать, а что нет. Надеюсь вы, господа, договорились. Можно расходиться. Я СКАЖУ УЧЁНЫМ, пусть идут в Военную Лабораторию, а после займусь НУЖНЫМ для вас делом.", nil, nil, 25000)
end
function u_shlagbauma_sms1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Сапсан, проблемы у шлагбаума решил. Можешь с гордостью сообщить свободовцам - пусть отправляют людей.", nil, nil, 20000)
end
function u_shlagbauma_sms2()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Сольвадор, как там у вас дела?", nil, nil, 20000)
end
function u_shlagbauma_sms3()
	sms("%c[255,160,160,160]".."СОЛЬВАДОР:".."\\n".."%c[255,255,128,128]У нас всё готово. Надо проконтролировать запуск. Иди на поле с генераторами, ищи третий, полурабочий - у него должны стоять ремонтные ящики. Как придёшь - дай знать, будем пробовать запустить.", nil, nil, 20000, nil, [[solvador\u_shlagbauma_sms3]])
end
function u_tretego_generatora_sms1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Сольвадор, я на месте. Что дальше?", nil, nil, 15000)
end
function u_tretego_generatora_sms2()
	sms("%c[255,160,160,160]".."СОЛЬВАДОР:".."\\n".."%c[255,255,128,128]А ничего. Просто стой и смотри. Генератор заглушен, сейчас попробуем активировать - по проводам должен пойти ток, и над генератором появится электрическое поле. Включили. Ну как?", nil, nil, 15000, nil, [[sms\solvador\u_tretego_generatora_sms2]])
end
function u_tretego_generatora_sms3()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]А никак.", nil, nil, 15000)
end
function u_tretego_generatora_sms4()
	sms("%c[255,160,160,160]".."СОЛЬВАДОР:".."\\n".."%c[255,255,128,128]Как никак??? Вот ёпть... Андерсен, едрить твою за ногу, ты ничего не напутал???", nil, nil, 15000, nil, [[sms\solvador\u_tretego_generatora_sms4]])
end
function u_tretego_generatora_sms41()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Ого, учёные мужи освоили блатную лексику. Ну дык что там?", nil, nil, 15000)
end
function u_tretego_generatora_sms5()
	sms("%c[255,160,160,160]".."СОЛЬВАДОР:".."\\n".."%c[255,255,128,128]Да он тут плюс с минусом перепутал, технарь-новичок... А так?", nil, nil, 15000, nil, [[sms\solvador\u_tretego_generatora_sms5]])
end
function u_tretego_generatora_sms6()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Всё, порядок мужики, заработало!!!", nil, nil, 15000)
end
function u_tretego_generatora_sms7()
	sms("%c[255,160,160,160]".."КЛЫК:".."\\n".."%c[255,255,128,128]Стрелок, привет. Звездочёт объявился. Надо наказать урода, пока ноги не сделал. Если хочешь поучаствовать в заварушке, жду тебя на ЧАЭС-2, у работающих генераторов - место ты должен знать. Посмотри на карту ЧАЭС-2 - попытаюсь скинуть метку, где я сейчас. Но предупреждаю сразу - если я увижу с ним Пантеру - замочу обоих.", nil, nil, 35000, nil, [[sms\kluk\u_tretego_generatora_sms7]])
end
function mesto_gg_na_chaes2_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Клык, я на позиции. Вижу ворота, через которые должен пройти этот чмырь всех времён и народов.", nil, nil, 20000)
end
function kluk_pogib_sms1()
	sms("%c[255,160,160,160]".."КЛЫК:".."\\n".."%c[255,255,128,128]Стрелок, похоже мы ошиблись. Основная часть группы сменила маршрут. Вижу вертуху - идёт на посадку за группой. Уходят они, уходят!!! Тебе уже не успеть, а вертуху мне не сбить. ВОЗВРАЩАЙСЯ К МЕСТУ НАШЕЙ ВСТРЕЧИ, МОЖЕТ ЕЩЁ УСПЕЕШЬ! Хотя... есть ещё идея: вижу БТР, вроде рабочий. Эх, тряхну стариной напоследок, да прокачусь с ветерком! Прощай, брат Стрелок, не поминай лихом!", nil, nil, 35000, nil, [[sms\kluk\kluk_pogib_sms1]])
end
function kluk_pogib_sms2()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Клык, ты что это задумал??? Э, это ты брось - хрен с этим Звездочётом!!! Клык? Клык??? Вот блин...", nil, nil, 30000)
end
function kluk_pogib_sms3()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Клык, вылазь из БТР!! Я не успеваю за ним... Клык!!!", nil, nil, 30000)
end
function kluk_pogib_sms4()
	sms("%c[255,160,160,160]".."ЗВЕЗДОЧЁТ:".."\\n".."%c[255,255,128,128]Быстро взлетаем!! Скидывай горючее, иначе не вытянем!!!", nil, nil, 35000, nil, [[sms\zvezdochet\kluk_pogib_sms4]])
end
function kluk_pogib_sms5()
	sms("%c[255,160,160,160]".."КЛЫК:".."\\n".."%c[255,255,128,128]Чёрт, пушку заклинило... Эй, ты, астроном хренов, зря радуешься, сука! Катафалк уже едет. Меняй памперсы, если успеешь! На, получай!", nil, nil, 35000, nil, [[sms\kluk\kluk_pogib_sms5]])
end
function after_kluk_pogib_sms1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Призрак, привет... Я на ЧАЭС-2. Клык погиб... Нет его больше, и похоронить нечего...", nil, nil, 25000)
end
function after_kluk_pogib_sms2()
	sms("%c[255,160,160,160]".."ПРИЗРАК:".."\\n".."%c[255,255,128,128]Стрелок, ты серьёзно??? Вот блин, как же так? Уходи оттуда, а то ты сейчас с дури ерунды понаделаешь да и сам сгинешь... У меня тоже не всё хорошо - Пантера твоя в Госпиталь отправилась - к Чёрному Доктору. Пошёл с ней - она как кошка - нет, мол, одна пойду... Ты бы узнал, как там дела.", nil, nil, 30000, nil, [[sms\prizrak\after_kluk_pogib_sms2]])
end
function after_kluk_pogib_sms3()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Эх, ещё не легче... Призрачный - отстучи Пилигриму... Я в Госпиталь, надо закончить начатое дело.", nil, nil, 20000)
end
function after_kluk_pogib_sms4()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Доктор, что у вас новенького?", nil, nil, 20000)
end
function after_kluk_pogib_sms5()
	sms("%c[255,160,160,160]".."ЧЁРНЫЙ ДОКТОР:".."\\n".."%c[255,255,128,128]А, Стрелок! Вы очень кстати. Тут ваша девушка устроила маленький дебош. Договориться с ней нереально, более настырных монст... простите, людей я в Зоне ещё не видел. Поторопитесь в Госпиталь, иначе будет поздно. Да, и не забудьте прихватить нужные мне артефакты.", nil, "doctor_black", 30000)
end
function nachalo_bazara_otsek_sms()
	sms("%c[255,160,160,160]".."ЧЁРНЫЙ ДОКТОР:".."\\n".."%c[255,255,128,128]А, вот и Вы! Прежде всего попрошу унять вашу девушку, она выдвигает безумные требования и опасно обращается с оружием.", nil, "doctor_black", 15000)
end
function poshel_bazar_otsek_sms1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Да, это я. Зрение вас не подвело на этот раз. Пусть ваши люди тоже опустят пушки. Пантера, это относится и к тебе. Успокойся, силой тут проблему не решить, да с какой целью это геройство?", nil, nil, 25000)
end
function poshel_bazar_otsek_sms2()
	sms("%c[255,160,160,160]".."ПАНТЕРА:".."\\n".."%c[255,255,128,128]Нет, я уж лучше потом пушку уберу. Ты посмотри, посмотри на него - стоит себе спокойно на балкончике. Я его выследила - это не Чёрный Доктор, а всего лишь умело управляемая голограмма, но сам он где-то поблизости. Есть и ещё повод - у него находится второй кусок Монолита...", nil, nil, 25000)
end
function poshel_bazar_otsek_sms3()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Если это даже и правда, то тебе просто повезло, что ты ещё жива. И почему он должен отдать второе Сердце Полтергейста, если оно у него? Это всё равно, что пытаться забрать его у меня.", nil, nil, 25000)
end
function poshel_bazar_otsek_sms4()
	sms("%c[255,160,160,160]".."ПАНТЕРА:".."\\n".."%c[255,255,128,128]Он отлично знает почему. Этот артефакт когда-то давно нашёл мой отец. С него-то и началась эта история с О-Сознанием, освоением Зоны и прочим. Но был и второй артефакт, который, как потом выяснилось, оказался у тебя... Этот Чёрный Доктор забрал первый артефакт у моего отца, воспользовавшись его тяжёлой болезнью. Пришла пора возвращать долги, тем более, что он ничем ему не помог... Я заберу арт и отдам тебе - а ты сам решишь, что делать дальше.", nil, nil, 25000)
end
function poshel_bazar_otsek_sms5()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Доктор, это правда?", nil, nil, 20000)
end
function poshel_bazar_otsek_sms6()
	sms("%c[255,160,160,160]".."ЧЁРНЫЙ ДОКТОР:".."\\n".."%c[255,255,128,128]Частично - да, это правда. Но - только насчёт голограммы. Оставьте девушку внизу и поднимайтесь сюда - телепорт справа.", nil, "doctor_black", 20000)
end
function poshel_bazar_otsek_sms7()
	sms("%c[255,160,160,160]".."ПАНТЕРА:".."\\n".."%c[255,255,128,128]Отец???!!! Это ты?? Как же так, а я-то... А ты... Значит, не болел ты совсем...", nil, nil, 20000)
end
function poshel_bazar_otsek_sms8()
	sms("%c[255,160,160,160]".."ОТЕЦ ПАНТЕРЫ:".."\\n".."%c[255,255,128,128]Дочка... Я до последнего момента не знал, что ты в Зоне и ищешь для меня этот артефакт... иначе, всё было бы по-другому. Сейчас я к тебе спущусь, только скажу пару слов твоему другу - начатое дело обязательно надо закончить.", nil, nil, 25000)
end
function sidor_mina_sms()
	sms("%c[255,160,160,160]".."СИДОРОВИЧ:".."\\n".."%c[255,255,128,128]Вот мина просвистела и товарищ мой упал... Эх... Что-то меня на грустную романтику потянуло, хе-хе-хе...", nil, nil, 20000, nil, [[sms\sidor\sidor_mina_sms]])
end
function sms_k_generalu()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Генерал, привет. Это Стрелок. С внучкой всё ок. Скоро увидитесь.", nil, nil, 10000)
end
function sms_k_prizraku()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Призрак, привет. У меня, вроде, всё получилось. Иду с Мухой на Агропром. Тропка открывается где-то у высоковольтки. Подходи.", nil, nil, 25000)
end
function sms_k_prizraku1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Призрак, привет. Я на Агропром. Тропка открывается где-то у высоковольтки.", nil, nil, 15000)
end
function sms_k_muhe()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Муха, пойдём. Идти придётся далеко - на Агропром.", nil, nil, 15000)
end
function atp_torgovetz_sms()
	sms("%c[255,160,160,160]".."СЕДОЙ:".."\\n".."%c[255,255,128,128]Меченый, это Седой, если помнишь такого. Я тут заметил, что ты там редисок не хило нашинковал... Крепкий ты орешек, танк прямо. Короче, Рэмбо, заканчивай там геноцид, сделай паузу, скушай, так сказать Твикс. Не... Твёкс... Я хрен его знает, напридумывали, блин, херни заграничной, фиг выговоришь. Лучше сделай паузу и рубай русский гематоген. У тебя есть пару минут, чтобы собрать барахлишко - мой верт идёт на посадку у автобусной остановки, что у тебя под боком. Стоянка как обычно - 6-8 минут.", nil, nil, 35000, nil, [[sms\sedoy\atp_torgovetz_sms]])
end
function sedoy_sms_poka()
	sms("%c[255,160,160,160]".."СЕДОЙ:".."\\n".."%c[255,255,128,128]Меченый, гуд бай, ещё свидимся. Уф, еле вертуха с твоими батонами взлетела...", nil, nil, 15000, nil, [[sms\sedoy\sedoy_sms_poka]])
end
function tu_sdurel_sms()
	sms("%c[255,160,160,160]".."СЕДОЙ:".."\\n".."%c[255,255,128,128]Э, братан, ты что, сдурел??? Завязывай. Это вертолёт мобильного торговца.", nil, nil, 15000, nil, [[sms\sedoy\tu_sdurel_sms]])
end
function agro_muxa_sms1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]О, наши собрались. Муха, пойдём, это свои.", nil, nil, 15000)
end
function agro_replika1()
	sms("%c[255,160,160,160]".."ЛУКАШ:".."\\n".."%c[255,255,128,128]Ну, чего, давай, высаживай, не дрова везёшь...", nil, nil, 25000, nil, [[sms\lucash\agro_replika1]])
end

local final_sms = {
	{
		text = "%c[255,160,160,160]".."БОРОВ:".."\\n".."%c[255,255,128,128]Хера се... Сколько ботвы-то собралось... Все шишки Зоны, мля. Вот щас накроют нас тут всех сразу, и концы в воду.",
		snd = [[sms\borov\agro_boltobny_sms1]]
	}, {
		text = "%c[255,160,160,160]".."ВОРОНИН:".."\\n".."%c[255,255,128,128]Боров, моя бы воля... Глаза бы мои тебя не видели. Но тут ты прав. Зачем нас всех тут собрали?",
		snd = [[sms\voronin\agro_boltobny_sms2]]
	}, {
		text = "%c[255,160,160,160]".."АРА:".."\\n".."%c[255,255,128,128]Неправильно ставишь вопрос. Не зачем, а КТО нас тут собрал?",
		snd = [[sms\ara\agro_boltobny_sms3]]
	}, {
		text = "%c[255,160,160,160]".."ЛУКАШ:".."\\n".."%c[255,255,128,128]О, и этот туда же. Ты-то чего из норы своей вылез? Думаешь, тут сейчас большая делёжка начнётся? И тебе твой кусок урвать не дадут?",
		snd = [[sms\lucash\agro_boltobny_sms4]]
	}, {
		text = "%c[255,160,160,160]".."КУЗНЕЦОВ:".."\\n".."%c[255,255,128,128]Короче, гражданские, давайте-ка в темпе. Каждая минута этого балагана сжирает тонну керосина моих вертушек."
	--	snd = 
	}, {
		text = "%c[255,160,160,160]".."ТЕНЬ МОНОЛИТА:".."\\n".."%c[255,255,128,128]О, да, майор... Мои парни докладывают, что у тебя целых два эшелона прикрытия из вертолётов! Мне вот интересно, это всё на казённые деньги, майор? Откуда у тебя столько вертолётов?"
	--	snd = 
	}, {
		text = "%c[255,160,160,160]".."КУЗНЕЦОВ:".."\\n".."%c[255,255,128,128]Это чья бы корова да мычала! Твои тоже, я знаю, где-то рядом пасутся. Слушай, а тебе потолок, случайно, не жмёт в моём небе, а?"
	--	snd =
	}, {
		text = "%c[255,160,160,160]".."ТЕНЬ МОНОЛИТА:".."\\n".."%c[255,255,128,128]В твоём ли небе, майор?"
	--	snd = 
	}, {
		text = "%c[255,160,160,160]".."САХАРОВ:".."\\n".."%c[255,255,128,128]Господа! Может не будем пикироваться? Моя аппаратура фиксирует присутствие большого количества сталкеров в стелс-режиме... Очень большого количества. Идентифицирую штурмовые команды и снайперов Долга, Свободы, Чистого Неба, группировок Борова и наёмников. Я вижу, все приняли просто беспрецедентные меры предосторожности. Но все ли там свои? Все ли проверенные? Нам только провокаций тут не хватало. Ведь одно неосторожное движение и...",
		snd = [[sms\saharov\agro_boltobny_sms9]]
	}, {
		text = "%c[255,160,160,160]".."АРА:".."\\n".."%c[255,255,128,128]... и эта пороховая бочка взорвётся. А теперь внимательно посмотрите на самих себя. Кто из нас сможет пережить такое месилово? Я вижу здесь только одного такого. Это Стрелок. Вы только посмотрите на его пояс. Я и половины не знаю из того, что на нём висит. Стрелок, это твоя идея собрать нас всех в одном месте? Ты кто такой вообще? Кто над тобой?",
		snd = [[sms\ara\agro_boltobny_sms10]]
	}, {
		text = "%c[255,160,160,160]".."БАРМЕН:".."\\n".."%c[255,255,128,128]Успокойтесь, народ. Это я вас всех собрал. Но Стрелок имеет к этому самое непосредственное отношение... С чего бы начать-то... Вы знаете, что многие из нас оказались здесь не по своей воле, а кто-то пришёл сюда сам. Но, так или иначе, Зона для всех нас стала домом. Она... скажем так, приняла нас. А мы – её. Да чего уж там, некоторые из нас устроились тут очень даже неплохо. И у каждого есть свои влиятельные покровители – там, за Периметром. Без которых никто из нас не протянул бы тут и года. И если бы кому-то там не было выгодно существование Зоны, её бы уже давно сровняли с землёй и закрыли на замок. Понимаете, о чём я? И вот, совсем недавно произошли события, которые поставили под сомнение саму возможность дальнейшего существования Зоны. И непосредственным участником этих событий был именно Стрелок. И мне – также как и многим из вас – было настоятельно рекомендовано узнать информацию лично, из первых уст. Стрелок... От твоих слов сейчас зависит очень многое. Если вдруг нашим покровителям хоть на какой-то миг покажется, что Зона стала им не нужна, или хуже того, опасна, ты думаешь, нас выпустят из этого карантина перед её стерилизацией? Мы же все для них как прокажённые. Мы нужны им только тогда, когда срок жизни их артефакта закончится, и им снова понадобится кто-то, кто вытащит им каштан из огня. Если этого не будет - нас всех спишут в утиль. Оптом..."
	--	snd =
	}, {
		text = "%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]... Чего притихли все? Страшно стало? Не боись... Из всего, что мне известно на данный момент, могу сделать лишь один вывод: с Зоной ничего не случится. Как была – так и останется. По крайней мере, в ближайшем будущем. Те, кто думает, что она уже не способна на сюрпризы – жестоко ошибаются. Сюрпризы как раз будут. А вот какие - это мне уже неведомо. Пока это всё, что я вам могу сказать."
	--	snd =
	}, {
		text = "%c[255,160,160,160]".."АРА:".."\\n".."%c[255,255,128,128]Пока?! Ты чего-то не договариваешь, тебе не кажется? А ну давай, выкладывай все карты!",
		snd = [[sms\ara\agro_boltobny_sms13]]
	}, {
		text = "%c[255,160,160,160]".."САХАРОВ:".."\\n".."%c[255,255,128,128]Прекратите, молодой человек. Стрелок сказал самое главное, а остальное нас не касается. Стрелок... я думаю тебе можно верить. Не такой ты человек, чтобы нас обманывать, я знаю тебя. Ты кто угодно, но не лжец. Я прав, господа? Мы можем верить Стрелку на слово?",
		snd = [[sms\saharov\agro_boltobny_sms14]]
	}, {
		text = "%c[255,160,160,160]".."ЛУКАШ:".."\\n".."%c[255,255,128,128]Молчание – знак согласия. Всё! Хорош на сегодня. Все по домам. И давайте-ка аккуратно, без эксцессов. Расходимся потихоньку, на ноги друг другу не наступаем. А если вдруг наступим – случайно – за стволы не хватаемся, идёт?"
	--	snd = [[sms\lukash\agro_boltobny_sms15]]	-- absent
	}, {
		text = "%c[255,160,160,160]".."МУХА:".."\\n".."%c[255,255,128,128]Дядя Стрелок, а мне что делать? Лететь с этими барыгами? И где дядя Клык?",
		snd = [[sms\muha\agro_boltobny_sms16]]
	}, {
		text = "%c[255,160,160,160]".."АРА:".."\\n".."%c[255,255,128,128]О! Девочка... Да ещё какая невежливая... А ну-ка, постой, постой... Это, случаем, не та ли девочка?..",
		snd = [[sms\ara\agro_boltobny_sms17]]
	}, {
		text = "%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Всё, Ара, проехали. Муха, полетишь с моими друзьями. А Клык... я передам ему привет от тебя. Призрак, Док, Пилигрим – не прощаемся. Я найду вас. Вы, главное, смотрите, чтобы с Мухой ничего не случилось, я Клыку обещал... Да, кстати, народ, раз уж вы все здесь собрались... Кто-нибудь знает, кто такой Фриц? Он ещё в каске немецкой ходит."
	--	snd =
	}, {
		text = "%c[255,160,160,160]".."АРА:".."\\n".."%c[255,255,128,128]Не, наши в касках не ходят."
	--	snd =
	}, {
		text = "%c[255,160,160,160]".."САХАРОВ:".."\\n".."%c[255,255,128,128]Никогда не встречал никого в немецких касках, извини, Стрелок.",
		snd = [[sms\saharov\agro_boltobny_sms20]],
		info = "komanda_na_posadku1"
	}, {
		text = "%c[255,160,160,160]".."ЛУКАШ:".."\\n".."%c[255,255,128,128]Мои парни, конечно, анархисты по самое не балуйся, но немецкими касками никто не грешит. Где ты вообще видел такого?",
	--	snd =
		info = "komanda_gg_posadka"
	}, {
		text = "%c[255,160,160,160]".."БОРОВ:".."\\n".."%c[255,255,128,128]Точно не мои. Увидел бы – оторвал бы эту каску вместе с башкой.",
		snd = [[sms\borov\agro_boltobny_sms22]],
		info = "agro_muxa_way2"
	}, {
		text = "%c[255,160,160,160]".."АКИМ:".."\\n".."%c[255,255,128,128]Стрелок, либо кто-то что-то не договаривает, либо никто из собравшихся действительно не знает. А может он вообще из какой-то новой группировки? Никто же не знает, насколько далеко тянется Зона за ЧАЭС, и кто там обитает. Видимо, придётся тебе самому это выяснять.",
	--	snd =
		info = "komanda_na_posadku2",
		timer = 15000
	}, {
		text = "%c[255,160,160,160]".."ДОКТОР:".."\\n".."%c[255,255,128,128]Стрелок, ещё увидимся за рюмкой чая. Я на Припять пока, а там видно будет. Муха, давай не отставай, ждать нас не будут.",
	--	snd =
		info = "final_muzon",
		timer = 20000
	}, {
		text = "%c[255,160,160,160]".."МУХА:".."\\n".."%c[255,255,128,128]Да, да, иду! Дядя Стрелок, пока! И спасибо. Жду вас с дядей Клыком в гости!",
		snd = [[sms\muha\agro_boltobny_sms25]],
		info = "spawn_final_arhara"
	}
}
function next_sms_skhodka( n )
	local t = final_sms[n]

	local snd = t.snd
	if snd then
		snd = sound_object(snd)
		snd:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
	end

	local timer = math.max(
		t.timer or 7000,
		snd and snd:length() or 0
	)

	local news_text = t.text
	local x,y = news_manager.get_sender_icon(news_text, nil)
	db.actor:give_game_news(news_text, "ui\\ui_iconsTotal", Frect():set(x,y,83,47), 0, timer)

	if t.info then
		give_info(t.info)
	end

	if next(final_sms, n) then
		timer = timer/1000 + math.random(10,20)/10
		amk.start_timer("run", timer, "arhara_dialog.next_sms_skhodka("..tostring(n+1)..")")
	else
		arhara_dialog.sp_imit_tele_final1()
	end
end

function agro_boltobny_sms1()
	this.next_sms_skhodka(1)
end


function arh_finish_sms1()
	sms("%c[255,160,160,160]".."АРХАРА:".."\\n".."%c[255,255,128,128]До встречи, Стрелок. Мы ещё обязательно встретимся. Обернись. Твой телепорт и тот, кого ты потерял - у ворот.", nil, nil, 15000, nil, [[sms\arhara\arh_finish_sms1]])
end
function proschalnoe_sms1()
	sms("%c[255,160,160,160]".."ПРИЗРАК:".."\\n".."%c[255,255,128,128]До встречи, Стрелок. Возможно, мы ещё увидимся.", nil, nil, 15000)
end
function proschalnoe_sms2()
	sms("%c[255,160,160,160]".."ДОКТОР:".."\\n".."%c[255,255,128,128]Прощай, Стрелок. Истина Зоны пока осталась для тебя секретом.", nil, nil, 15000)
end
function proschalnoe_sms3()
	sms("%c[255,160,160,160]".."ПИЛИГРИМ:".."\\n".."%c[255,255,128,128]Будь здоров, не забывай. Передай от нас привет тёплому океану.", nil, nil, 15000, nil, [[sms\piligrim\proschalnoe_sms3]])
end
function proschalnoe_sms4()
	sms("%c[255,160,160,160]".."АРХАРА:".."\\n".."%c[255,255,128,128]Прощай, Стрелок. Вспоминай Зону...", nil, nil, 15000, nil, [[sms\arhara\proschalnoe_sms4]])
end
function td_preduprezhdenie1_sms1()
	sms("%c[255,160,160,160]".."СИСТЕМА ЗАЩИТЫ:".."\\n".."%c[255,255,128,128]Система защиты лаборатории активирована и просит вас оставить артефакты 1, 2, 3 ступени развития, а также абсолюты до входа в лабораторию. Активирована защита от негативного воздействия данных артефактов.", nil, nil, 30000)
end
function td_preduprezhdenie2_sms2()
	sms("%c[255,160,160,160]".."СИСТЕМА ЗАЩИТЫ:".."\\n".."%c[255,255,128,128]Система защиты лаборатории повторно предупреждает: оставьте до входа в лабораторию высшие артефакты 1, 2 и 3 ступени, а также абсолюты. В противном случае данные артефакты будут дезактивированы.", nil, nil, 30000)
end
function laba_skan_arts_sms1()
	sms("%c[255,160,160,160]".."СИСТЕМА ЗАЩИТЫ:".."\\n".."%c[255,255,128,128]Система защиты лаборатории сканирует Вас на предмет вредных и опасных для работы оборудования артефактов.", nil, nil, 20000)
end
function laba_skan_arts_sms2()
	sms("%c[255,160,160,160]".."СИСТЕМА ЗАЩИТЫ:".."\\n".."%c[255,255,128,128]Система защиты лаборатории повторно сканирует Вас на предмет вредных и опасных для работы оборудования артефактов.", nil, nil, 20000)
end
function von_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Фу... Что за вонь... Даже система фильтрации костюма не справляется. Тут обитает или сдохло что-то на редкость гадкое...", nil, nil, 25000)
end
function sark_art_negoden_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Вот фак... Как не вовремя... Опять с артами что-то не так. Надо посмотреть.", nil, nil, 25000)
end
function bomba_vzruv_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Ни хрена себе... Что это они там везли??? Ядерную бомбу что ли???", nil, nil, 25000)
end
function spezdetektor_sms()
	sms("%c[255,160,160,160]".."ПОЛУЧЕНА ИНФОРМАЦИЯ:".."\\n".."%c[255,255,128,128]Вы находитесь в зоне, содержащей специфическую пластмассу.", nil, nil, 15000, nil, [[sms\net\spezdetektor_sms]])
end
function pda_slom_sms1()
	sms("%c[255,160,160,160]".."СООБЩЕНИЕ СИСТЕМЫ:".."\\n".."%c[255,255,128,128]Навигационный модуль вашего КПК вышел из строя. Отображение на дисплее карты и индикаторов временно невозможно.", nil, "nano", 15000, nil, [[sms\net\pda_slom_sms1]])
end
function pda_slom_sms2()
	sms("%c[255,160,160,160]".."МЕЧЕНЫЙ:".."\\n".."%c[255,255,128,128]Вот че-р-т! Как  вовремя!...", nil, nil, 10000)
end
function pda_slom_sms3()
	sms("%c[255,160,160,160]".."МЕЧЕНЫЙ:".."\\n".."%c[255,255,128,128]Бармен, выручай, ПДА грохнулся, навигация не работает и карта не открывается.", nil, nil, 20000)
end
function pda_slom_sms4()
	sms("%c[255,160,160,160]".."БАРМЕН:".."\\n".."%c[255,255,128,128]Я перетёр с Доцентом. Будешь в Баре - зайди к нему - посмотрит, что с твоим ПДА. За разумную плату, конечно.", nil, nil, 20000)
end
function pda_slom_sms5()
	sms("%c[255,160,160,160]".."МЕЧЕНЫЙ:".."\\n".."%c[255,255,128,128]Вот жлобяры! Могли бы и бесплатно помочь, за такие-то риски... Эх, ладно, к Доценту, так к Доценту...", nil, nil, 25000)
end
function pda_slom_sms6()
	sms("%c[255,160,160,160]".."СООБЩЕНИЕ СИСТЕМЫ:".."\\n".."%c[255,255,128,128]Навигационный модуль вашего КПК может неадекватно отображать координаты на некоторых территориях.", nil, "nano", 20000, nil, [[sms\net\pda_slom_sms1]])
end
function pda_sdelan_sms0()
	sms("%c[255,160,160,160]".."СООБЩЕНИЕ СИСТЕМЫ:".."\\n".."%c[255,255,128,128]Навигационный модуль вашего КПК запущен. Возможно повторение фатальной ошибки. Обратитесь в сервисную службу.", nil, "nano", 15000, nil, [[sms\net\pda_sdelan_sms0]])
	amk.g_start_timer("run", 0, 0, math.random(50, 80), "arhara_dialog.pda_slom_part2()")
end
-- Повторная поломка
function pda_slom_part2()
	-- Если не починили, то ломаемся опять
	if not has_info("docent_kpk_gotov_start") then
		give_info("pda_dont_work")
		this.pda_slom_sms1()
	end
end
function pda_sdelan_sms()
	sms("%c[255,160,160,160]".."СООБЩЕНИЕ СИСТЕМЫ:".."\\n".."%c[255,255,128,128]Навигационный модуль вашего КПК готов к работе. Фатальная ошибка устранена.", nil, "nano", 15000, nil, [[sms\net\pda_sdelan_sms]])
end
function girl3_nachalo_sms()
	sms("%c[255,160,160,160]".."МОЛНИЯ:".."\\n".."%c[255,255,128,128]Привет. Не удивляйся, это не твоя Пантера. Мне известен твой последний диалог с Клыком. Думаю, наша встреча будет полезна для обоих, но прежде, чем сказать о месте - достань жучок из своего ПДА - тебя давно прослушивают, и не только я. На связь раньше, чем решишь эту проблему не выходи.", nil, nil, 30000, nil, [[sms\molniy\girl3_nachalo_sms]])
end
function girl3_nachalo_sms1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Доктор, здравствуйте. Как-то нехорошо получается... В моём ПДА ваш жучок... Мы же, вроде, решили основные вопросы...", nil, nil, 20000)
end
function girl3_nachalo_sms2()
	sms("%c[255,160,160,160]".."ЧЁРНЫЙ ДОКТОР:".."\\n".."%c[255,255,128,128]Да, жучок планировалось установить в ваш КПК ещё до знаменитой поездки на машине смерти. Но от этой идеи мы отказались - тогда вполне хватило наблюдения со стороны небезызвестного Звездочёта. Так что жучок - не мой. Вспоминайте, кому вы отдавали свой КПК - с того и спрашивайте.", nil, "doctor_black", 25000)
end
function girl3_nachalo_sms3()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Док, спасибо. Я вспомнил - один Кулибин в Баре ремонтировал мне ПДА... Сейчас я его и навещу.", nil, nil, 25000)
end
function molniy_bar_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Всё. ПДА чист. Правда, выяснить, кто за всем этим прослушиванием стоит - пока не удалось.", nil, nil, 20000)
end
function molniy_bar_sms1()
	sms("%c[255,160,160,160]".."МОЛНИЯ:".."\\n".."%c[255,255,128,128]Скидываю картинку помещения, где я сейчас, в твой КПК. У меня проблемы, поторопись. Точно не знаю, где я нахожусь. Много коридоров... Похоже, здесь когда-то было о что-то похожее на центр управления... Координат не будет, пока не будет полной уверенности в отсутствии жучков.", nil, nil, 30000, nil, [[sms\molniy\molniy_bar_sms1]])
end
function strannik_lima_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Молния, это Стрелок. Твоим товарищем, похоже, пыталась закусить группа местных каннибалов. Прибора не вижу, но, есть блокнот с наводкой на одного человечка... Попытаюсь его найти.", nil, nil, 30000)
end
function strannik_lima_sms1()
	sms("%c[255,160,160,160]".."МОЛНИЯ:".."\\n".."%c[255,255,128,128]Плохо дело. Без детектора нам не справиться. Прошу - посмотри, нет ли его в доме, на крыше которого был телепорт.", nil, nil, 30000, nil, [[sms\molniy\strannik_lima_sms1]])
end
function strannik_lima_sms2()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Да я уж был там... Хорошо, посмотрю ещё раз. Тут всё огорожено забором. И чего его сюда занесло... Где-то должен быть выход.", nil, nil, 25000)
end
function after_semetskiy_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Призрак, брат, привет. Иду в твою сторону. Ты там случаем не видел сталкера одноногого? Семецкий наводку дал. Надо с тем сталком потолковать.", nil, nil, 25000)
end
function after_semetskiy_sms1()
	sms("%c[255,160,160,160]".."ПРИЗРАК:".."\\n".."%c[255,255,128,128]Привет. Да, только что засветился в деревне этот сталкер. Ушёл в сторону холмов, что левее деревни, ближе к бетонке. Народ поговаривает - палатка там у него. Сейчас разведаю, пока ты идёшь. До встречи.", nil, nil, 20000, nil, [[sms\prizrak\after_semetskiy_sms1]])
end
function preduprezhdenie_sms()
	sms("%c[255,160,160,160]".."МАКСИМИЛИАН:".."\\n".."%c[255,255,128,128]Эй, чего надо? Не советую подходить ближе, нервный я, ещё пристрелю...", nil, nil, 20000, nil, [[sms\maksimilian\preduprezhdenie_sms]])
end
function preduprezhdenie_sms1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Что-то все нервными стали. С пушкой-то не балуй, она иногда стреляет, если ты не в курсе, дело у меня к тебе.", nil, nil, 25000)
end
function preduprezhdenie_sms2()
	sms("%c[255,160,160,160]".."МАКСИМИЛИАН:".."\\n".."%c[255,255,128,128]Хорошо. Ты это... тут подожди, а я сейчас вернусь...", nil, nil, 15000, nil, [[sms\maksimilian\preduprezhdenie_sms2]])
end
function preduprezhdenie_sms3()
	sms("%c[255,160,160,160]".."ПРИЗРАК:".."\\n".."%c[255,255,128,128]Эй, сталкер, вернись. Я не стреляю в спину, но думаю, что из гаусса с 20 метров смогу попасть в твой протез. Что потом делать будем?", nil, nil, 25000, nil, [[sms\prizrak\preduprezhdenie_sms3]])
end
function preduprezhdenie_sms4()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Призрак, спасибо, подстраховал. Что-то я стал много людям верить, а зря...", nil, nil, 20000)
end
function odnon_proval_sms()
	sms("%c[255,160,160,160]".."СООБЩЕНИЕ СИСТЕМЫ:".."\\n".."%c[255,255,128,128]Вы промахнулись или подошли слишком близко к Монолиту и плёнка засветилась.", nil, nil, 20000, nil, [[sms\net\odnon_proval_sms]])
end
function foto_ok()
	sms("%c[255,160,160,160]".."СООБЩЕНИЕ СИСТЕМЫ:".."\\n".."%c[255,255,128,128]Выстрел был удачен. Поднимите полученное фото.", nil, nil, 15000, nil, [[sms\net\foto_ok]])
end
function vopros_k_prizraku_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Призрак, судьба занесла меня в Старую Деревню. У меня есть фоторужьё и фото Монолита, но, похоже, весь кайф в том, что после фотосъёмки на фото появились странные цифры...", nil, nil, 30000)
end
function vopros_k_prizraku_sms1()
	sms("%c[255,160,160,160]".."ПРИЗРАК:".."\\n".."%c[255,255,128,128]Ты сам лучше меня знаешь, что сделать с ружьём - припрячь. По цифрам - запомни их или запиши, а после, раз уж ты в Деревне, а там Пилигрим - сходи к нему, пусть уберёт с фотки эти цифры - он, вроде, в школе двойки из дневника без проблем удалял.", nil, nil, 35000, nil, [[sms\prizrak\vopros_k_prizraku_sms1]])
end
function pili_sdelal_psevdofoto_sms()
	sms("%c[255,160,160,160]".."ПИЛИГРИМ:".."\\n".."%c[255,255,128,128]Стрелок, вроде фото готово. Забирай.", nil, nil, 20000, nil, [[sms\piligrim\pili_sdelal_psevdofoto_sms]])
end
function molniy_posle_foto_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Молния, привет. Я раздобыл детектор изоморфов. Что дальше?", nil, nil, 20000)
end
function molniy_posle_foto_sms1()
	sms("%c[255,160,160,160]".."МОЛНИЯ:".."\\n".."%c[255,255,128,128]Это уже хорошо. Но - плохо другое. Зона большая, и изоморфы могут быть где угодно и у кого угодно. Дело в том, что для баланса энергии надо разыскать всего несколько основных капсул. Как они выглядят - я не знаю, но, вероятно, они не похожи на простые предметы. Остальные изоморфы представляют меньшую ценность и не являются обязательными для возврата, но из части вполне могут сформироваться нужные нам капсулы. Твой товарищ пытался найти бомбу и тех, кто их изготовляет. Так что пока варианта два - либо свяжись с ним и узнай, как идут дела, либо разузнай правду у того, у кого был детектор.", nil, nil, 37000, nil, [[sms\molniy\molniy_posle_foto_sms1]])
end
function molniy_posle_foto_sms2()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]С человеком, у которого был детектор - работа уже ведётся. Кстати, у твоего погибшего товарища был блокнот, из которого ясно, что он разыскивал этого человека. И, похоже, что до этого в ваше измерение попал ещё один человек... Ладно, свяжусь с Клыком, спрошу, как у него дела.", nil, nil, 30000)
end
function molniy_posle_foto_sms3()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Клык, привет. Как у тебя дела? У меня куча новостей.", nil, nil, 20000)
end
function molniy_posle_foto_sms4()
	sms("%c[255,160,160,160]".."КЛЫК:".."\\n".."%c[255,255,128,128]Привет. У меня тоже есть новости и работёнка для тебя. Увидеться пока не получится, так что слушай: в Х-10 объявились какие-то странные люди. Мой детектор определяет их принадлежность к монолитовцам, но... Они невидимы. Совсем невидимы. Заметить их можно только ночью, когда они включают фонарики.", nil, nil, 35000, nil, [[sms\kluk\molniy_posle_foto_sms4]])
end
function molniy_posle_foto_sms5()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Да, я знаю таких - но они всё же видимы.", nil, nil, 20000)
end
function molniy_posle_foto_sms6()
	sms("%c[255,160,160,160]".."КЛЫК:".."\\n".."%c[255,255,128,128]Нет, это не те... Но дело не в этом. В комнате с рубильником есть дверь с кодом. Так вот, они там держат ещё одну бомбу... Я был там - но открыть дверь даже мне не удалось. Есть план. У тебя вроде есть маскхалат. Проберись в этот зал, там есть местечко - фотку пришлю - засядь там и жди. Они придут, они там каждый день бывают... Смотри в оба... Как дверь откроют - постарайся их ликвидировать до того, как они закроют эту дверь.", nil, nil, 35000, nil, [[sms\kluk\molniy_posle_foto_sms6]])
end
function molniy_posle_foto_sms7()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]А ты?", nil, nil, 10000)
end
function molniy_posle_foto_sms8()
	sms("%c[255,160,160,160]".."КЛЫК:".."\\n".."%c[255,255,128,128]У меня нет маскхалата, и я провалю затею. Идти по их следам - тоже не выйдет - мы засветимся, они оставляют часовых. Так что на этот раз - придётся поработать тебе одному. Картинку, где лучше занять место для наблюдения я тебе высылаю. Без маскхалата - даже не пытайся туда ходить - провалишь всё дело. Запомни - ни единого выстрела, пока они не откроют эту дверь. Постараюсь тебе помочь, если смогу.", nil, nil, 35000, nil, [[sms\kluk\molniy_posle_foto_sms8]])
end
function pozisiy_bunker_gg_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Клык, я на позиции. Пока всё тихо.", nil, nil, 10000)
end
function pozisiy_bunker_gg_sms1()
	sms("%c[255,160,160,160]".."КЛЫК:".."\\n".."%c[255,255,128,128]Отлично. Надеюсь, ты в маскхалате... Жди гостей, они уже в бункере, следи за входом в зал. Иду следом. Это не монолитовцы... Там есть нейтрал с рацией - его надо взять живьём, иначе мы не узнаем ничего, кроме того, что есть в тайнике. Запомни - его убивать нельзя, даже после открытия двери тайника.", nil, nil, 30000, nil, [[sms\kluk\pozisiy_bunker_gg_sms1]])
end
function bunker_fotik_artu_sms()
	sms("%c[255,160,160,160]".."СООБЩЕНИЕ СИСТЕМЫ:".."\\n".."%c[255,255,128,128]Под действием неизвестного компонента часть артефактов в рюкзаке может подвергнуться трансмутации в артефакт Спираль.", nil, nil, 25000, nil, [[sms\net\bunker_fotik_artu_sms]])
end
function bunker_fotik_artu_sms1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Ну дела... Только бы не абсолюты, только не абсолюты... а Клёнов говорил, что Спираль - единственная ошибка эксперимента...", nil, nil, 20000)
end
function ozhivil_radista_sms()
	sms("%c[255,160,160,160]".."КЛЫК:".."\\n".."%c[255,255,128,128]Стрелок, тут такие дела... Была у меня заначка - Живое сердце - слышал о таком, наверно. Взял грех на душу - оживил радиста... Пусть живёт, может поразговорчивей будет...", nil, nil, 25000, nil, [[sms\kluk\ozhivil_radista_sms]])
end
function ozhivil_radista_sms1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Ну дела... Ладно, если разговорится - отстучи. Я уже в Припяти.", nil, nil, 20000)
end
function nashel_sadik_taynik_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Клык, похоже, я нашёл этот чёртов тайник. Конечно, даже фанатики не сунутся за дверь, на которой табличка Директор.", nil, nil, 20000)
end
function seif_zakrut_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Тут есть сейф. Открыть не могу - нужен код. Потряси там радиста - пусть колется.", nil, nil, 20000)
end
function seif_zakrut_sms1()
	sms("%c[255,160,160,160]".."КЛЫК:".."\\n".."%c[255,255,128,128]Это ты скоро сам у него спросишь - мы ушли из Бункера следом за тобой и уже на Припяти, двигаем по аллее, что после захода с Радара - иди навстречу, если радист погибнет - сейф придётся вскрывать автогеном. Он быстро бегает, идёт первым, не подстрели по дороге по запарке.", nil, nil, 30000, nil, [[sms\kluk\seif_zakrut_sms1]])
end
function seif_sadik_otkrut_sms()
	sms("%c[255,160,160,160]".."РАДИСТ:".."\\n".."%c[255,255,128,128]Сейф открыт. Там были какие-то бумаги, и более ничего, но одну из них забрал Максимилиан...", nil, nil, 20000, nil, [[sms\radist\seif_sadik_otkrut_sms]])
end
function otkroem_bez_radista_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Ну вот, погиб радист... Как быть теперь с сейфом?", nil, nil, 20000)
end
function otkroem_bez_radista_sms1()
	sms("%c[255,160,160,160]".."КЛЫК:".."\\n".."%c[255,255,128,128]Не дрейфь. Постреляем в замок, может и откроется.", nil, nil, 25000, nil, [[sms\kluk\otkroem_bez_radista_sms1]])
end
function forest_pozisiy_na_dome_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Я, вроде, на месте.", nil, nil, 15000)
end
function forest_pozisiy_na_dome_sms1()
	sms("%c[255,160,160,160]".."ЛЕСНИК:".."\\n".."%c[255,255,128,128]Итак, приготовься. Он обычно появляется примерно в это время. Где он появится - неизвестно, но тебе надо засечь его первым и не дать убить кго-нибудь снова. Ну, удачной охоты, сталкер!", nil, nil, 25000, nil, [[sms\lesnik\forest_pozisiy_na_dome_sms1]])
end
function pogib_stalk_sms()
	sms("%c[255,160,160,160]".."САН САНЫЧ:".."\\n".."%c[255,255,128,128]Ммать твою за ногу!!! Опять этот грёбаный снайпер нашего пришил!", nil, nil, 15000, nil, [[sms\sansanich\pogib_stalk_sms]])
end
function pogib_stalk_sms1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Вот чёрт... И откуда он стрелял, паразит?", nil, nil, 15000)
end
function ozhivil2_radista2_sms()
	sms("%c[255,160,160,160]".."КЛЫК:".."\\n".."%c[255,255,128,128]Привет. Уже добрался? Я тут может и сглупил - короче, оживил я Радиста, пущай живёт... Последнюю заначку в виде Живого Сердца истратил...", nil, nil, 25000, nil, [[sms\kluk\ozhivil2_radista2_sms]])
end
function ozhivil2_radista2_sms1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Что-то ты добрым стал... Ты там, часом, не влюбился в него? Ге-ге-ге. Ладно, пусть живёт - может и сгодится ещё.", nil, nil, 20000)
end
function superzhekan_sms()
	sms("%c[255,160,160,160]".."СООБЩЕНИЕ СИСТЕМЫ:".."\\n".."%c[255,255,128,128]Под действием неизвестного компонента часть патронов в рюкзаке может подвергнуться изменениям.", nil, nil, 20000, nil, [[sms\net\superzhekan_sms]])
end
function superzhekan_sms1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Клык, я к Клёнову в Военную Лабораторию. Узнал интересные сведения из записочки одной... Да, для сведения - в одной из пещерок, что на склоне холма у подбитого танка - начинается тропка в Военную Лабораторию. Это очень кстати. Попробую сейчас её отыскать.", nil, nil, 30000)
end
function foto_mozg_ok_sms()
	sms("%c[255,160,160,160]".."СООБЩЕНИЕ СИСТЕМЫ:".."\\n".."%c[255,255,128,128]Фотосессия была успешной. Просмотрите полученное фото.", nil, nil, 25000, nil, [[sms\net\foto_mozg_ok_sms]])
end
function vodka_dly_kepa_sms()
	sms("%c[255,160,160,160]".."ЧАСОВОЙ:".."\\n".."%c[255,255,128,128]Эй, сталкер! Куда прёшь?! Поворачивай, иначе я из тебя решето сделаю.", nil, nil, 20000)
end
function vodka_dly_kepa_sms1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Погоди обойму разряжать. Посылка у меня к вам имеется.", nil, nil, 20000)
end
function sms_kuznets()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Эй, майор... Взял часовой водку, пошёл к костру... Что далее?", nil, nil, 20000)
end
function sms_kuznets1()
	sms("%c[255,160,160,160]".."КУЗНЕЦОВ:".."\\n".."%c[255,255,128,128]Я же тебе говорил... Займи позицию, возьми бинокль, наблюдай... И раньше, чем они по кустам шариться по нужде, к костру лучше не суйся,а то пристрелят.", nil, nil, 28000, nil, [[sms\kuznecov\sms_kuznets1]])
end
function narod_napilsy_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Всё, похоже народ нажрался... Эх, немного же военным водки для счастья надо... И зачем я 10 пузырей тащил - и одного бы хватило...", nil, nil, 25000)
end
function narod_napilsy_sms1()
	sms("%c[255,160,160,160]".."КУЗНЕЦОВ:".."\\n".."%c[255,255,128,128]Ну, если уверен - двигай к костру. Осмотрись хорошенько. И если кейса не найдёшь - спроси у капитана. Только стрелять не вздумай. А насчёт водки - они уже до тебя по любому ящик выжрали, не меньше.", nil, nil, 28000, nil, [[sms\kuznecov\narod_napilsy_sms1]])
end
function yntar_sms_k_molnii1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Молния, привет. У меня тут несколько непонятных предметов насобиралось... Похоже - это изоморфы. Я сейчас в Военную Лабораторию, потом планирую к тебе.", nil, nil, 25000)
end
function yntar_sms_k_molnii2()
	sms("%c[255,160,160,160]".."МОЛНИЯ:".."\\n".."%c[255,255,128,128]Это хорошо. Жду, ты знаешь, где меня найти.", nil, nil, 25000, nil, [[sms\molniy\yntar_sms_k_molnii2]])
end
function mina_pant_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Чёрт... Это мина... Откуда она здесь... А бомба сдетонировала...", nil, nil, 20000)
end
function mina_pant_sms1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Э-э... Отец, ты что удумал, а ну, завязывай... Пойдём к костру, там поговорим. Прежде чем умереть, надо узнать, найти и искоренить... Фиг знает, сколько ещё людей может погибнуть...", nil, nil, 28000)
end
function mina_pant_sms2()
	sms("%c[255,160,160,160]".."ОТЕЦ ПАНТЕРЫ:".."\\n".."%c[255,255,128,128]Как же так??? Да и зачем жить теперь...", nil, nil, 23000)
end
function mina_pant_sms3()
	sms("%c[255,160,160,160]".."ОТЕЦ ПАНТЕРЫ:".."\\n".."%c[255,255,128,128]Да, наверное, ты прав... Сначала найти и искоренить. Поговорим в лагере.", nil, nil, 30000)
end
function pantera_sms_stop1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Эй, Пантера, положи аккуратно рюкзак и давай к нам!", nil, nil, 20000)
end
function pantera_sms_stop2()
	sms("%c[255,160,160,160]".."ПАНТЕРА:".."\\n".."%c[255,255,128,128]Да-да, всё под контролем. Таймер сработает только через 10 часов. Ещё чуть подальше отнесу...", nil, nil, 25000)
end
function bazar_s_klenovum1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Доктор, здравствуйте. Что-нибудь удалось выяснить по фотопистолету?", nil, nil, 25000)
end
function bazar_s_klenovum2()
	sms("%c[255,160,160,160]".."КЛЁНОВ:".."\\n".."%c[255,255,128,128]Немного, но результат есть. И самое главное, что и ранее подтвердилось, моя фотоплёнка к нему подходит.", nil, nil, 20000, nil, [[sms\klenov\bazar_s_klenovum2]])
end
function bazar_s_klenovum3()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Эх, значит мне к вам сейчас тащиться... Далековато с Кордона-то...", nil, nil, 20000)
end
function bazar_s_klenovum4()
	sms("%c[255,160,160,160]".."КЛЁНОВ:".."\\n".."%c[255,255,128,128]Можно попробовать другой вариант. Я сделал пробную версию телепорта, для небольших предметов. Можно как раз и опробовать.", nil, nil, 25000, nil, [[sms\klenov\bazar_s_klenovum4]])
end
function bazar_s_klenovum5()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Не... Доктор, а может не надо? Вещь экзотическая, телепортируется куда-нибудь не туда...", nil, nil, 20000)
end
function bazar_s_klenovum6()
	sms("%c[255,160,160,160]".."КЛЁНОВ:".."\\n".."%c[255,255,128,128]Не переживайте. Где вы сейчас? На Кордоне? Сначала, для проверки - я пошлю к вам пробный вариант - краткое описание моих исследований и дешёвый артефакт. Если всё дойдёт успешно - отправите мне СМС. Идите в бункер местного торговца и посмотрите - на лестнице должен появиться блокнот и артефакт.", nil, nil, 30000, nil, [[sms\klenov\bazar_s_klenovum6]])
end
function kl_pos_est_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Всё ок. Посылка дошла. Отправляйте фотопистолет.", nil, nil, 20000)
end
function kl_pos_est_sms1()
	sms("%c[255,160,160,160]".."КЛЁНОВ:".."\\n".."%c[255,255,128,128]Отлично. Немного отойдите - вдруг из-за вас координаты собьются или предмет угодит в голову... Фотоаппарат заряжен плёнкой. Не тратьте её попусту.", nil, nil, 25000, nil, [[sms\klenov\kl_pos_est_sms1]])
end
function kl_pos_est_sms2()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Вторую посылку получил, спасибо. Доктор, вам категорически не рекомендуется выходить из Зоны на Большую Землю - вас убьют работники почты... Вы оставите их без работы, а их начальство - без доходов.", nil, nil, 31000)
end
function prizrak_ranen_sms()
	sms("%c[255,160,160,160]".."ПРИЗРАК:".."\\n".."%c[255,255,128,128]Стрелок, привет. Как там у тебя делишки? У меня тут трабла... Ночью чмошники атаковали... В невидимых костюмах. Человек 6-7. Сам понимаешь, воевать с теми, кто невидим - проблема. Если бы не свободовцы с бетонки - кранты бы мне. Эх, зря я с одноногим на базу не ушёл... Двоих из напавших уложили, с трудом потом нашли тела - это люди из клана Вчерашний день. Экипированы классно. Значит, группировка вновь сколотилась, несмотря на то, что я когда-то их прошлого лидера загасил... гадкий был человечишко...", nil, nil, 35000, nil, [[sms\prizrak\prizrak_ranen_sms]])
end
function prizrak_ranen_sms1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Привет. Сам то хоть здоров? У меня тоже дела дрянь - Пантера погибла - бомбу вытаскивала из деревни новичков, да на мине подорвалась... Так-то вот... на глазах у отца...", nil, nil, 25000)
end
function prizrak_ranen_sms2()
	sms("%c[255,160,160,160]".."ПРИЗРАК:".."\\n".."%c[255,255,128,128]Да... Вот ведь жизнь штука дерьмовая... Ты смотри, как бы её отец самосуд в деревне не учинил, да сам себя с горя не порешил... У меня - да так, царапнули пару раз - дня через 2-3 буду в форме. Дело осложнилось тем, что одноногий исчез. Пока заваруха была - не до него было... А после глянул - ни его самого, ни его трупа нет... Кто-то на наше место на Генераторах наводку дал - чую... Стучит кто-то...", nil, nil, 35000, nil, [[sms\prizrak\prizrak_ranen_sms2]])
end
function prizrak_ranen_sms3()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Да хрен с ним, с одноногим - главное - сам жив... Поправляйся - чую, придётся нам этим мазохистам из Последнего дня устроить последний день, судный день... Отца Пантеры я успокоил, как мог - хотя мне никогда не понять чувства отца, потерявшего дочь. Он будет ждать от меня вестей, чтобы отомстить тому, кто подложил и бомбу, и мины, так что суицид и самосуд, надеюсь, не устроит. Я на Янтарь - повидать человечка одного надо - бывшего боевика из Последнего дня... Да, Клыка предупреди - возможно, и к нему люди наведаться захотят. Он сейчас где-то в Припяти...", nil, nil, 35000)
end
function perehov_na_yantar_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Я на позиции. Жду открытия телепорта. Эх, не разлететься бы только по всей Зоне по молекулам...", nil, nil, 20000)
end
function perehov_na_yantar_sms1()
	sms("%c[255,160,160,160]".."МОЛНИЯ:".."\\n".."%c[255,255,128,128]Не разлетишься. Хех... Как это на вашем сленге - что-то типа - твоя задница ещё мне пригодится? Так?", nil, nil, 25000, nil, [[sms\molniy\perehov_na_yantar_sms1]])
end
function perehov_na_yantar_sms2()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Молния, завязывай, а то я на нашем сленге отвечу тебе по полной - пару дней будешь думать, что я сказал...", nil, nil, 20000)
end
function pantera_na_kordone_sms()
	sms("%c[255,160,160,160]".."ПАНТЕРА:".."\\n".."%c[255,255,128,128]Стрелок, привет. Мы с отцом решили взять отпуск от Зоны - месяца на два. Мы сейчас на Кордоне, в лагере новичков. Немного отдохнём - и на Большую Землю. Подосвиданькаться не хочешь?", nil, nil, 25000)
end
function pantera_na_kordone_sms1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Надеюсь, что вы вернётесь. Я сейчас недалеко - на Свалке - скоро буду - подождите. Без меня не уходите за периметр. Есть о чём переговорить.", nil, nil, 25000)
end
function poslednie_sms_pantera()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Пантера, слушай внимательно. Похоже, что пару часов назад на Кордон приволокли бомбу... Я видел один такой экземпляр в работе - жуткое дело. Предупреди старшего в лагере новисов, бери отца и уходите... Я скоро буду.", nil, nil, 30000)
end
function poslednie_sms_pantera1()
	sms("%c[255,160,160,160]".."ПАНТЕРА:".."\\n".."%c[255,255,128,128]Я уже нашла её. Она в рюкзаке, в одном из подвалов в деревне новичков. Тяжёлая. Сейчас я её вытащу. Кто положил - не видела, тут много народу ходит... Не расстраивайся - у бомбы есть таймер - он сработает через 10,5 часа, так что времени у меня полно.", nil, nil, 30000)
end
function moroz_sms()
	sms("%c[255,160,160,160]".."САН САНЫЧ:".."\\n".."%c[255,255,128,128]Сталкеры! Последнее китайское предупреждение! Не носите вы с собой тяжести сверх лимита - я уже задолбался ремонтировать ваши рюкзаки, как будто у меня другой работы нет. Все, больше принимать их не буду. Порвёте рюкзак, потеряете хабар - пеняйте на себя!", nil, nil, 25000, nil, [[sms\sansanich\moroz_sms]])
end
function pomosch_ot_chernomora_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Черномор, привет. Я в тупике, и больше спросить не у кого. Мне нужны сведения о работе фотопистолета. Ты, случайно, не слышал о таком?", nil, nil, 25000)
end
function pomosch_ot_chernomora_sms1()
	sms("%c[255,160,160,160]".."ЧЕРНОМОР:".."\\n".."%c[255,255,128,128]Подходи, пообщаемся.", nil, nil, 25000, nil, [[sms\chernomor\pomosch_ot_chernomora_sms1]])
end
function nashel_gada_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Отец, нашёл я подлеца. Сейчас фотку тебе занесу.", nil, nil, 25000)
end
function sms_otez_poreshil()
	sms("%c[255,160,160,160]".."ЛОКАЛЬНАЯ СЕТЬ:".."\\n".."%c[255,255,128,128]Погиб сталкер Шухер. Кордон. Задушен.", nil, nil, 25000, nil, [[sms\net\sms_otez_poreshil]])
end
function sms_otez_poreshil1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Отец, ну ты выдал... Достиг точки кипения?", nil, nil, 25000)
end
function sms_otez_poreshil2()
	sms("%c[255,160,160,160]".."ОТЕЦ ПАНТЕРЫ:".."\\n".."%c[255,255,128,128]Есть люди, которые мотают срок, своровав мешок картошки. Есть ничтожества, которые воруют миллионы и живут припеваючи на свободе. Есть люди, которые гниют в тюрьмах за обычную драку, а есть маньяки, которых наше гуманное государство не может посадить на электрический стул, зато пожизненно кормит. Этот отморозок относился к последней категории. В Зоне - свои правила. Если бы он покаялся - я бы простил. Мою девочку уже никто не вернёт. У каждого - своя точка кипения.", nil, nil, 37000)
end
function sms_otez_poreshil3()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Согласен, отец, туда падали и дорога. Только ведь он - простая пешка...", nil, nil, 25000)
end
function sms_otez_poreshil4()
	sms("%c[255,160,160,160]".."ОТЕЦ ПАНТЕРЫ:".."\\n".."%c[255,255,128,128]Пешки тоже становятся ферзями. Я займусь пешками - а ты разбирайся с остальными. Жду известий.", nil, nil, 25000)
end
function na_kamne_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Ну, похоже это именно тот камень... Придётся ждать. Главное - не выходить из радиуса слышимости - иначе я ничего не услышу.", nil, nil, 20000)
end
function sms_razgovor_sxod_nz()
	sms("%c[255,160,160,160]".."ЗЛОБНЫЙ:".."\\n".."%c[255,255,128,128]Я надеюсь, хвоста за тобой не было. Ты куда это ноги, вернее ногу нарисовал с Генераторов? Мы же за тобой пришли. И что там за профи тебя пас?", nil, nil, 25000, nil, [[sms\zlobny\sms_razgovor_sxod_nz]])
end
function sms_razgovor_sxod_nz1()
	sms("%c[255,160,160,160]".."МАКСИМИЛИАН:".."\\n".."%c[255,255,128,128]Куда? Да там такой аврал начался, что только бегом можно было спастись. А раз за мной пришли - на кой ляд гранаты к палатке стали бросать??? Если тот ветеран, что меня охранял погиб - вам всем крантец - можешь мне поверить. А если жив - то и тем более. Могли и предупредить меня, что придёте. И чего это на тебе бронька не невидимая?", nil, nil, 25000, nil, [[sms\maksimilian\sms_razgovor_sxod_nz1]])
end
function sms_razgovor_sxod_nz2()
	sms("%c[255,160,160,160]".."ЗЛОБНЫЙ:".."\\n".."%c[255,255,128,128]Ну, насчёт крантец - ты погорячился... Броня повредилась, но здесь безопасно и без неё. Ладно, к делу. Ты узнал, где нужный изоморф?", nil, nil, 25000, nil, [[sms\zlobny\sms_razgovor_sxod_nz2]])
end
function sms_razgovor_sxod_nz3()
	sms("%c[255,160,160,160]".."МАКСИМИЛИАН:".."\\n".."%c[255,255,128,128]Да. Но туда не добраться просто так. Кстати - где деньги за предыдущую работу?", nil, nil, 25000, nil, [[sms\maksimilian\sms_razgovor_sxod_nz3]])
end
function sms_razgovor_sxod_nz4()
	sms("%c[255,160,160,160]".."ЗЛОБНЫЙ:".."\\n".."%c[255,255,128,128]Будут деньги, будут. Вот достанешь ещё один изоморф - и будут. Если нет - то ничего не получишь.", nil, nil, 25000, nil, [[sms\zlobny\sms_razgovor_sxod_nz4]])
end
function sms_razgovor_sxod_nz5()
	sms("%c[255,160,160,160]".."МАКСИМИЛИАН:".."\\n".."%c[255,255,128,128]Изоморф в Х-16. Но к нему не добраться. Есть телепорт, его знает профессор местный - Сахаров. Но он, гад, ничего не скажет ни за какие деньги и арты - проверено. Даже если его убить.", nil, nil, 25000, nil, [[sms\maksimilian\sms_razgovor_sxod_nz5]])
end
function sms_razgovor_sxod_nz6()
	sms("%c[255,160,160,160]".."ЗЛОБНЫЙ:".."\\n".."%c[255,255,128,128]Сахаров? Вот удача... Он всё тебе скажет, будь уверен. Короче, делаем так. Я сейчас двигаю в сторону Складов. Как буду в безопасном месте - скину тебе координаты тайничка, заберёшь оттуда предмет и отдашь Сахарову. Скажешь - что если он не скажет, где телепорт - крантец. Он всё поймёт, он умный... Изоморф оставишь у себя пока - мы придём за ним или просто откроем телепорт - ты отправишь его к нам, а мы тебе - деньги за работу.", nil, nil, 25000, nil, [[sms\zlobny\sms_razgovor_sxod_nz6]])
end
function sms_taynik_zlobnuy()
	sms("%c[255,160,160,160]".."ЗЛОБНЫЙ:".."\\n".."%c[255,255,128,128]Так, я в безопасности. Мы уходим. Тайничок найдёшь на дереве у одного из строений внутри периметра базы военных на Агропроме. Как ты туда залезешь и пройдёшь - дело уже твоё - деньги-то ты хочешь получить? Значит найдёшь. Рюкзак там уже неделю лежит - просто у нас среди военных свой человечек, а на их базе - самое то место для тайников.", nil, nil, 32000, nil, [[sms\zlobny\sms_taynik_zlobnuy]])
end
function sms_taynik_zlobnuy1()
	sms("%c[255,160,160,160]".."МАКСИМИЛИАН:".."\\n".."%c[255,255,128,128]Ну что, Стрелок, ты знаешь где тайник. Слава Богу, что мне не придётся туда лезть. Как ты и говорил - я залягу на дно. Если что - отстучи СМС.", nil, nil, 25000, nil, [[sms\maksimilian\sms_taynik_zlobnuy1]])
end
function ynt_after_perexod_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Черномор, ты ещё на Янтаре? Сейчас навещу - посоветоваться надо.", nil, nil, 20000)
end
function ynt_after_perexod_sms1()
	sms("%c[255,160,160,160]".."МОЛНИЯ:".."\\n".."%c[255,255,128,128]Стрелок, привет. Как у тебя делишки? Нашёл ещё что-нибудь?", nil, nil, 25000, nil, [[sms\molniy\ynt_after_perexod_sms1]])
end
function ynt_after_perexod_sms2()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Молния, привет. Кое-что есть. Сейчас с товарищем пообщаюсь - и к тебе.", nil, nil, 25000)
end
function preplastilin_sms()
	sms("%c[255,160,160,160]".."СООБЩЕНИЕ СИСТЕМЫ:".."\\n".."%c[255,255,128,128]Под действием неизвестных факторов часть артефактов в рюкзаке подверглась трансмутации.", nil, nil, 25000, nil, [[sms\net\preplastilin_sms]])
end
function dialog_oborvan_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Похоже, что я отошёл слишком далеко и ничего не слышу, да и к тому же - вызвал подозрение у разговаривающих и человек из клана Последний день ушёл.", nil, nil, 30000)
end
function poluchenie_klucha_sms()
	sms("%c[255,160,160,160]".."СООБЩЕНИЕ СИСТЕМЫ:".."\\n".."%c[255,255,128,128]Код введён правильно. Поле для получения ключа активировано, оно находится перед лестницей. Подготовьте необходимый предмет для удаления телепорта.", nil, "nano", 25000, nil, [[sms\net\poluchenie_klucha_sms]])
end
function del_blok_and_restr_sms()
	sms("%c[255,160,160,160]".."СООБЩЕНИЕ СИСТЕМЫ:".."\\n".."%c[255,255,128,128]Ключ доступа получен. Попытка деактивировать блокирующий телепорт рычага активации портала.", nil, "nano", 25000, nil, [[sms\net\del_blok_and_restr_sms]])
end
function sms_zaschita_portal()
	sms("%c[255,160,160,160]".."СООБЩЕНИЕ СИСТЕМЫ:".."\\n".."%c[255,255,128,128]Защита портала активирована.", nil, "nano", 20000, nil, [[sms\net\sms_zaschita_portal]])
end
function pervoe_sms_dsity()
	sms("%c[255,160,160,160]".."ЗЛОБНЫЙ:".."\\n".."%c[255,255,128,128]Эй, мясо! Опусти оружие, оно тебе более ни к чему, и подойди сюда. И не вздумай шутить, тута тебе не деревня новичков.", nil, nil, 20000, nil, [[sms\zlobny\pervoe_sms_dsity]])
end
function sms_parfumer1()
	sms("%c[255,160,160,160]".."ПАРФЮМЕР:".."\\n".."%c[255,255,128,128]Эй, Сталкер! Не знаю, как тебя звать... Посмотри в ПДА - найдёшь меня по метке - у выхода старой ливнёвки. Жду.", nil, nil, 30000, nil, [[sms\parfumer\sms_parfumer1]])
end
function sms_zaschita_mg()
	sms("%c[255,0,255,0]".."СИСТЕМА ЗАЩИТЫ:".."\\n".."%c[255,0,255,0]Чужак в зоне действия защитного экрана. Уничтожение через 6 секунд.", nil, nil, 20000, nil, [[characters_voice\ozvuchka\system_chuzhak]])
end
function parfum_sms_kontrik1()
	sms("%c[255,160,160,160]".."ПАРФЮМЕР:".."\\n".."%c[255,255,128,128]Сталкер, как там тебя... Стрелок... Ты ещё живой там? Дело есть.", nil, nil, 15000, nil, [[sms\parfumer\parfum_sms_kontrik1]])
end
function parfum_sms_kontrik2()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Привет. Дела у прокурора - у простых людей - делишки. Отвечаю - значит жив ещё... В чём проблема?", nil, nil, 15000, nil, [[characters_voice\ozvuchka\strelok_dcity15]])
end
function parfum_sms_kontrik3()
	sms("%c[255,160,160,160]".."ПАРФЮМЕР:".."\\n".."%c[255,255,128,128]Тогда слушай внимательно. Где-то недалеко от Чёрного хутора - зомби там обитают - есть контролёр. Особенный контролёр... Только что узнал, что кое-кто из Последнего дня отправил группу для его уничтожения. Этот контролёр много знает... В твоих интересах ликвидировать группу Последнего дня и попробовать пообщаться с этим существом, если получится. Думаю, что монстры на хуторе сами расправятся с этой группой, так что и делать тебе мало что придётся. Координаты хутора - скидываю. Далее - на месте разберёшься. Помочь или нет - решать тебе...", nil, nil, 45000, nil, [[sms\parfumer\parfum_sms_kontrik3]])
end
function netu_kontrolera_sms()
	sms("%c[255,160,160,160]".."НОРМАН:".."\\n".."%c[255,255,128,128]Эй, сталкер! Я знал, что за мной придут люди из Последнего дня и ушёл за хутор поближе к периметру. Там меня и найдёшь - вижу, что ты смелый человек, если сунулся на этот хутор.", nil, nil, 35000, nil, [[characters_voice\ozvuchka\norman_vstrecha]])
end
function sms_obmorok1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Эй, Обморок, ответь. Надо стрелку забить - есть предложение, выгодное для нас обоих.", nil, nil, 15000, nil, [[characters_voice\ozvuchka\strelok_dcity14]])
end
function sms_obmorok2()
	sms("%c[255,160,160,160]".."ОБМОРОК:".."\\n".."%c[255,255,128,128]Это кто такой бурый? Проверка связи от наёмников? Ну дык я могу повторить - вы все козлы.", nil, nil, 20000, nil, [[sms\obmorok\sms_obmorok2]])
end
function sms_obmorok3()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Это не наёмники. Это нейтралы. Есть мысль, как унести отсюда ноги. Ты ведь об этом давно мечтаешь? На кону - переход с этой территории в обмен на твою помощь. Встретимся на нейтральной земле. Назначай место.", nil, nil, 25000, nil, [[characters_voice\ozvuchka\strelok_dcity13]])
end
function sms_obmorok4()
	sms("%c[255,160,160,160]".."ОБМОРОК:".."\\n".."%c[255,255,128,128]Э, нет... Нет тут нейтральной земли... Нарисуешься у нашего лагеря, что у водокачки - ближе к периметру в овраге валяется старый бензовоз. Там и увидимся. Подходи вдоль колючки - засветишься у моих орлов из лагеря - замочат сразу. И не вздумай меня развести.", nil, nil, 30000, nil, [[sms\obmorok\sms_obmorok4]])
end
function strelka_obmorok_sms1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Обморок, я на месте.", nil, nil, 15000, nil, [[characters_voice\ozvuchka\strelok_dcity12]])
end
function strelka_obmorok_sms2()
	sms("%c[255,160,160,160]".."ОБМОРОК:".."\\n".."%c[255,255,128,128]Я вижу. Стой где стоишь. Сейчас подойду.", nil, nil, 20000, nil, [[sms\obmorok\strelka_obmorok_sms2]])
end
function sms_dcity_zenter_doza()
	sms("%c[255,0,255,0]".."СИСТЕМА ЗАЩИТЫ:".."\\n".."%c[255,0,255,0]Вы входите в запретную зону А. У вас нет допуска. Немедленно отойдите за опасный периметр, иначе вы будете ликвидированы.", nil, nil, 20000, nil, [[characters_voice\ozvuchka\system_vxod_zona_a]])
end
function sms_dcity_zenter_doza_otkl()
	sms("%c[255,0,255,0]".."СИСТЕМА ЗАЩИТЫ:".."\\n".."%c[255,0,255,0]Зона А центра города отключена. Тревога!", nil, nil, 20000, nil, [[characters_voice\ozvuchka\system_trevoga]])
end
function sms_dcity_gorod2_doza2()
	sms("%c[255,0,255,0]".."СИСТЕМА ЗАЩИТЫ:".."\\n".."%c[255,0,255,0]Вы находитесь в защитной зоне Б города на правах гостя. Ваше время присутствия ограничено 10 минутами. В течении этого срока вы должны закончить свои дела и покинуть зону Б. Проход к центру города в зону А без специального пропуска категорически запрещён.", nil, nil, 30000, nil, [[characters_voice\ozvuchka\system_10min]])
end
function sms_dcity_gorod_doza()
	sms("%c[255,0,255,0]".."СИСТЕМА ЗАЩИТЫ:".."\\n".."%c[255,0,255,0]Защитный экран города активирован. Чужак в зоне Б. Уничтожение через 4 секунды.", nil, nil, 20000, nil, [[characters_voice\ozvuchka\system_4sek]])
end
function poziciy_cherdak_zanyta_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Позиция занята. Эх, времени маловато... Сейчас я вам устрою Варфоломеевскую ночь... Где этот лягушонок в зелёном комбезе?", nil, nil, 15000, nil, [[characters_voice\ozvuchka\strelok_dcity11]])
end
function hand_hoh_sms()
	sms("%c[255,160,160,160]".."БОЕЦ ПОСЛЕДНЕГО ДНЯ:".."\\n".."%c[255,255,128,128]Эй, новисы! Пришли. Поднять руки и повернуться!", nil, nil, 20000, [[sms\lastday\hand_hoh_sms]])
end
function suki_rasstrel_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Вот сцуки... Сейчас я вам налимоню одно место...", nil, nil, 10000, nil, [[characters_voice\ozvuchka\strelok_dcity10]])
end
function sms_zlobnomu_rasstrel()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Эй, Злобный, гуттен морген... Я смотрю, твои люди беспредел творят... Нехорошо. Я тут несколько твоих козявок за это наказал. Я ухожу с территории, но я ещё вернусь. А пока - гуд бай мой мальчик, гуд бай мой миленький...", nil, nil, 25000, nil, [[characters_voice\ozvuchka\strelok_dcity9]])
end
function sms_zlobnomu_rasstrel1()
	sms("%c[255,160,160,160]".."ОБМОРОК:".."\\n".."%c[255,255,128,128]Злобный, здорово. Мои люди только что видели, как какой-то нейтрал ушёл через неизвестный переход в сторону АТП.", nil, nil, 20000, nil, [[sms\obmorok\sms_zlobnomu_rasstrel1]])
end
function sms_zlobnomu_rasstrel2()
	sms("%c[255,160,160,160]".."ЗЛОБНЫЙ:".."\\n".."%c[255,255,128,128]В сторону АТП говоришь... Вот мля... Откуда он знал переход и какого хрена твои люди его не пристрелили?", nil, nil, 25000, nil, [[sms\zlobny\sms_zlobnomu_rasstrel2]])
end
function sms_zlobnomu_rasstrel3()
	sms("%c[255,160,160,160]".."ОБМОРОК:".."\\n".."%c[255,255,128,128]Ну ты сказал. У нас тут не школа снайперов. Да и винтовок таких нет... К тому же - откуда было мне знать, что это не твой человек?", nil, nil, 25000, nil, [[sms\obmorok\sms_zlobnomu_rasstrel3]])
end
function sms_zlobnomu_rasstrel4()
	sms("%c[255,160,160,160]".."ЗЛОБНЫЙ:".."\\n".."%c[255,255,128,128]Ладно, проехали. Этого чела надо уничтожить.", nil, nil, 10000, nil, [[sms\zlobny\sms_zlobnomu_rasstrel4]])
end
function sms_zlobnomu_rasstrel4_1()
	sms("%c[255,160,160,160]".."ЗЛОБНЫЙ:".."\\n".."%c[255,255,128,128]Сейчас пойдёт группа в строну АТП, смотрите стрельбу не устройте. Открываю переход.", nil, nil, 20000, nil, [[sms\zlobny\sms_zlobnomu_rasstrel4_1]])
end
function sms_zlobnomu_rasstrel5()
	sms("%c[255,160,160,160]".."НОРМАН:".."\\n".."%c[255,255,128,128]Стрелок, поторопись. Переход пока активен. Посмотри на карту и успевай, скоро он закроется. Если такое случится - ты тут навсегда застрянешь. Как перейдёшь - встречай группу этих убийц - они туда же направляются. Свяжусь с тобой позже.", nil, nil, 35000, nil, [[characters_voice\ozvuchka\norman_perexod]])
end
function sms_zlobnomu_rasstrel6()
	sms("%c[255,0,255,0]".."СИСТЕМА ЗАЩИТЫ:".."\\n".."%c[255,0,255,0]Активирован портал на АТП. Время работы - 2 минуты.", nil, nil, 20000, nil, [[characters_voice\ozvuchka\system_port_open]])
end
function sms_zlobnomu_rasstrel7()
	sms("%c[255,0,255,0]".."СИСТЕМА ЗАЩИТЫ:".."\\n".."%c[255,0,255,0]Телепорт на территорию АТП после выхода группы деактивирован.", nil, nil, 20000, nil, [[characters_voice\ozvuchka\system_port_close]])
end
function agro_tainik_norman_sms()
	sms("%c[255,160,160,160]".."НОРМАН:".."\\n".."%c[255,255,128,128]Эй, Стрелок, ты там живой??? Держи координаты телепорта в тайник. Он где-то на Агропроме... С помощью прибора, что я тебе дал и этих координат найдёшь телепорт. А далее - в тайнике найдёшь то, что нужно.", nil, nil, 35000, nil, [[characters_voice\ozvuchka\norman_taynik1]])
end
function sms_k_normany1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Норман, привет. По-моему, всё получилось с тайником и переходами. Что далее и чей это тайник??? Я в этих краях давно обитаю, но не знал...", nil, nil, 30000, nil, [[characters_voice\ozvuchka\strelok_dcity8]])
end
function sms_k_normany2()
	sms("%c[255,160,160,160]".."НОРМАН:".."\\n".."%c[255,255,128,128]Это тайник бывшего моего товарища. Он тоже выглядит как контролёр, но ему досталось тогда больше, чем мне - он частично парализован... Не знаю, жив ли он вообще... Тебе надо раздобыть оружие получше - насколько я знаю, при первой портации из подвала в Лиманске приходится оставлять оружие. Последующие портации - возможны с ним. И главное - возьми маскировочный плащ, ствол не особо приметный, типа аномальной М16, да денег побольше... Как вернёшься -  найди Парфюмера - я отметил на карте, где его искать. Готовься к неприятным сюрпризам - хорошего от группировки Последний день ждать не приходится.", nil, nil, 45000, nil, [[characters_voice\ozvuchka\norman_taynik2]])
end
function dcity_otvet_ok_obmor1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Эй, Обморок, дитя мафии... Я вернулся и переходы открыл, как обещал. Можешь линять из города...", nil, nil, 25000, nil, [[characters_voice\ozvuchka\strelok_dcity7]])
end
function dcity_otvet_ok_obmor2()
	sms("%c[255,160,160,160]".."ОБМОРОК:".."\\n".."%c[255,255,128,128]Дельная новость. Всенепременно воспользуюсь вашей услугой, месье. Но - мальца попозже.", nil, nil, 20000, nil, [[sms\obmorok\dcity_otvet_ok_obmor2]])
end
function dcity_otvet_ok_obmor3()
	sms("%c[255,160,160,160]".."САХАРОВ:".."\\n".."%c[255,255,128,128]Стрелок. Простите, что отвлекаю вас от дел, но не удалось ли вам что-либо узнать про мою жену?", nil, nil, 20000, nil, [[sms\saharov\dcity_otvet_ok_obmor3]])
end
function dcity_otvet_ok_obmor4()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Нет, профессор - пока ничего. Я видел упавший вертолёт на границе территории, но там пусто. Зацепок пока нет. В сам город пока не попасть. Будут новости - сообщу.", nil, nil, 20000, nil, [[characters_voice\ozvuchka\strelok_dcity6]])
end
function dcity_duda_zvonok_sms1()
	sms("%c[255,160,160,160]".."ПАРФЮМЕР:".."\\n".."%c[255,255,128,128]Эй, Дуда, старый крокодил, привет. Это Парфюмер, если ещё помнишь такого. Я слышал, ты в гору пошёл... Да только не в ту. Есть способ гору обойти, срубить бабла и смотаться отсюда. И задницу лизать более никому не придётся. Что скажешь?", nil, nil, 25000, nil, [[sms\parfumer\dcity_duda_zvonok_sms1]])
end
function dcity_duda_zvonok_sms2()
	sms("%c[255,160,160,160]".."ДУДА:".."\\n".."%c[255,255,128,128]А, это ты, любитель одеколона... Ну что за способ? Или это очередная проверка?", nil, nil, 20000, nil, [[sms\duda\dcity_duda_zvonok_sms2]])
end
function dcity_duda_zvonok_sms3()
	sms("%c[255,160,160,160]".."ПАРФЮМЕР:".."\\n".."%c[255,255,128,128]Дело в городе пахнет жареным. Переходы открыты. И тот парниша, что их открыл - сильно зол. Рано или поздно он найдёт способ разворошить тутошнее осиное гнездо. Без разницы, будет жив заложник, которого ты охраняешь, или нет. Дык вот, этот паренёк ласково просил у тебя спросить, сколько тебе бабла надо, чтобы Дохтера ентого отпустить. После - будет время свинтить отсюда к чертям... Но - такая льгота будет действовать недолго - он может и передумать. Только прошу - не строй из себя комсомольца... Павлики Морозовы сейчас никому не интересны, кроме некрофилов.", nil, nil, 40000, nil, [[sms\parfumer\dcity_duda_zvonok_sms3]])
end
function dcity_duda_zvonok_sms4()
	sms("%c[255,160,160,160]".."ДУДА:".."\\n".."%c[255,255,128,128]Сдаётся мне, что у тебя тоже есть в том тайная цель... Ну что же - бабок ему потребуется несколько сотен тысяч. Сколько именно - решим при личной встрече - пусть подходит - я в доме с колоннами - бывшая школа - на втором этаже. Защиту временно сниму, бойцов предупрежу... ЗАХОДИТЬ - СО ДВОРА, ЧТОБЫ С ПЛОЩАДИ НЕ УВИДЕЛИ. Только пусть к площади не суётся, стороной обойдёт. Ну, а если бабла у него не окажется - пусть веночек прихватит - на могилку ему как раз поставим.", nil, nil, 40000, nil, [[sms\duda\dcity_duda_zvonok_sms4]])
end
function dcity_iskra_zvonok_sms1()
	sms("%c[255,160,160,160]".."ПАРФЮМЕР:".."\\n".."%c[255,255,128,128]Искра, привет. Знаю, что делаю глупость, но это наш последний шанс... Выруби систему защиты центра города.", nil, nil, 25000, nil, [[sms\parfumer\dcity_iskra_zvonok_sms1]])
end
function dcity_iskra_zvonok_sms2()
	sms("%c[255,160,160,160]".."ИСКРА:".."\\n".."%c[255,255,128,128]Привет. Я же просила тебя на связь не выходить... Ты же знаешь, что если я отключу защиту, то через 5 минут будет известно, кто это сделал. Что дальше - надеюсь, тебе не надо объяснять, ты эту школу уже прошёл - на своё лицо в зеркало посмотри. Хорошо, что вообще жив...", nil, nil, 25000, nil, [[characters_voice\ozvuchka\iskra_privet]])
end
function dcity_iskra_zvonok_sms3()
	sms("%c[255,160,160,160]".."ПАРФЮМЕР:".."\\n".."%c[255,255,128,128]Надо рискнуть. Сделай это. Второго случая не будет. Я приду за тобой, девочка.", nil, nil, 20000, nil, [[sms\parfumer\dcity_iskra_zvonok_sms3]])
end
function sms_otkl_zona1()
	sms("%c[255,160,160,160]".."ИСКРА:".."\\n".."%c[255,255,128,128]Парфюмер, у меня получилось - через несколько минут зона защиты будет полностью дезактивирована. Прощай... После сигнала тревоги меня навряд ли оставят в живых... Я заранее приготовила тебе письмецо...", nil, nil, 25000, nil, [[characters_voice\ozvuchka\iskra_poluchilos]])
end
function sms_otkl_zona2()
	sms("%c[255,160,160,160]".."ПАРФЮМЕР:".."\\n".."%c[255,255,128,128]Искра, даже думать не смей... Беги оттуда!", nil, nil, 25000, nil, [[sms\parfumer\sms_otkl_zona2]])
end
function sms_otkl_zona3()
	sms("%c[255,160,160,160]".."ИСКРА:".."\\n".."%c[255,255,128,128]Да, я знала, что всё плохо закончится... Меня уводят через подземку в неизвестном направле.......", nil, nil, 25000, nil, [[characters_voice\ozvuchka\iskra_vse_ploxo]])
end
function sms_otkl_zona4()
	sms("%c[255,160,160,160]".."ПАРФЮМЕР:".."\\n".."%c[255,255,128,128]Вот черт... Стрелок, ты где там??? Прошу - дуй в штаб - похоже, дело плохо... найди её... Я скоро буду.", nil, nil, 25000, nil, [[sms\parfumer\sms_otkl_zona4]])
end
function sms_otkl_zona5()
	sms("%c[255,160,160,160]".."ВХОДЯЩЕЕ СООБЩЕНИЕ:".."\\n".."%c[255,255,128,128]Эй, красавчег! Да, это я к тебе, Стрелок... Не узнал? В штаб не спеши - ты всё равно опоздал. Жду тебя в здании напротив штаба - на втором этаже. Если сумеешь добраться. Чмоки-чмоки.", nil, nil, 35000, nil, [[sms\molniy\molniy_chmok]])
end
function vylozhit_oruzhie_sms()
	sms("%c[255,0,255,0]".."СИСТЕМА ЗАЩИТЫ:".."\\n".."%c[255,0,255,0]Вы впервые пользуетесь порталом. В целях защиты - выложите всё автоматическое, снайперское и аномальное оружие, а также полуавтоматическое оружие, пистолеты крупного калибра, оптические прицелы, ручные телепорты и другие средства телепортации в сейф, который находится за вашей спиной. В противном случае система защиты удалит безвозвратно данную амуницию.", nil, nil, 35000, nil, [[characters_voice\ozvuchka\system_vulozhit_oruzhie]])
end
function remen_dialog_sms1()
	sms("%c[255,160,160,160]".."МОЛНИЯ:".."\\n".."%c[255,255,128,128]Эй, Стрелок! Не стесняйся, опусти оружие и заходи, я не кусаюсь. Только не надо подходить близко - я тебя и так неплохо вижу", nil, nil, 25000, nil, [[characters_voice\ozvuchka\molniy_zaxodi]])
end
function remen_dialog_sms2()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Стесняться я перестал во втором классе школы... Вижу, ты при параде - ремешок красивый... Мне о нём говорили... с удовольствием его расстегну, чтобы после... задать тебе хорошую трёпку... Но думаю, этим дело не ограничится.", nil, nil, 35000, nil, [[characters_voice\ozvuchka\strelok_dcity5]])
end
function remen_dialog_sms3()
	sms("%c[255,160,160,160]".."МОЛНИЯ:".."\\n".."%c[255,255,128,128]Ха-ха. Да ты не только красавчик, плейбой, ты ещё и мазохист. Но я тебе не игрушка, ты уж прости, но я опять тебя провела - на самом деле меня здесь нет. Ты испортил наши планы, но ошибся местом - в этом городе нет ничего интересного. Это наш город и занимать его бесполезно. Мои люди вернутся и не дадут никому покоя - запомни. Не старайся что-либо найти - мы ждали и всё самое ценное уже забрали.", nil, nil, 40000, nil, [[sms\molniy\molniy_sex]])
end
function remen_dialog_sms4()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Я потомственный следопыт - поищу. А обмана, тем более терроризма не терплю. Так что готовься - приду и найду.", nil, nil, 25000, nil, [[characters_voice\ozvuchka\strelok_dcity4]])
end
function remen_dialog_sms5()
	sms("%c[255,160,160,160]".."МОЛНИЯ:".."\\n".."%c[255,255,128,128]Не старайся. Мои люди дали промашку с твоим Доктором, зато я приобрела опыт ха-ха-ха... У меня есть тот кто тебе нужен - вернее, не тебе... Но ты ведь любишь помогать людям? Искра - эта предательница, которой я верила... Она умрёт, если ты не прекратишь свои наивные попытки нас найти и помешать. На этом разговор закончен. Прощай.", nil, nil, 40000, nil, [[sms\molniy\molniy_ne_staraysy]])
end
function remen_dialog_sms6()
	sms("%c[255,160,160,160]".."ПАРФЮМЕР:".."\\n".."%c[255,255,128,128]Стрелок, надо отыскать в штабе записку от Искры... Возможно, в ней есть важная инфа.", nil, nil, 35000, nil, [[sms\parfumer\remen_dialog_sms6]])
end
function otkr_perex_zaton_sms1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Эй, Парфюмер, догоняй... похоже - здесь есть какой-то телепорт... Встретимся после портала.", nil, nil, 20000, nil, [[characters_voice\ozvuchka\strelok_dcity3]])
end
function otkr_perex_zaton_sms2()
	sms("%c[255,160,160,160]".."НОРМАН:".."\\n".."%c[255,255,128,128]Эй, мужики! Я с вами! Нечего мне тут больше делать.", nil, nil, 15000)
	amk.start_timer("run", 7, "arhara_dialog.acv_sol()")
	amk.start_timer("run2", 7, "oksana_spawn.akim_panic()")
end
function acv_sol()
	give_info("acv_sol")
end
function nashel_listok_sms1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Похоже, я нашёл записку... Владимир Ильич умеет хранить тайны...", nil, nil, 20000, nil, [[characters_voice\ozvuchka\strelok_dcity2]])
end
function nashel_listok_sms2()
	sms("%c[255,160,160,160]".."ПАРФЮМЕР:".."\\n".."%c[255,255,128,128]Стрелок, какой Владимир Ильич??? Я уже у входа в штаб, встречай.", nil, nil, 25000, nil, [[sms\parfumer\nashel_listok_sms2]])
end
function operator_babki_otdat_sms()
	sms("%c[255,160,160,160]".."ОПЕРАТОР СВЯЗИ:".."\\n".."%c[255,255,128,128]Уважаемые пользователи местной сети! Сообщаем вам, что в связи с модернизацией оборудования со счёта каждого пользователя в ближайшее время будет снято по 3000 рублей.", nil, nil, 15000, nil, [[sms\net\operator_babki_otdat_sms]])
end
function operator_babki_otdat_sms1()
	sms("%c[255,160,160,160]".."ЛУКАШ:".."\\n".."%c[255,255,128,128]Во мародёры... Я знаю, это все происки Долга!!!", nil, nil, 10000, nil, [[sms\lucash\operator_babki_otdat_sms1]])
end
function operator_babki_otdat_sms2()
	sms("%c[255,160,160,160]".."КУЗНЕЦОВ:".."\\n".."%c[255,255,128,128]Э!!! Я вообще то на бюджетном довольствии! Чё такое?!", nil, nil, 10000, nil, [[sms\kuznecov\operator_babki_otdat_sms2]])
end
function operator_babki_otdat_sms3()
	sms("%c[255,160,160,160]".."ЛЫСЫЙ:".."\\n".."%c[255,255,128,128]Не, ну козлы ли, а? Это че за беспредел то в натуре!", nil, nil, 5000, nil, [[characters_voice\ozvuchka\lusuy_operator_svyzi]])
end
function operator_babki_otdat_sms4()
	sms("%c[255,160,160,160]".."ОПЕРАТОР СВЯЗИ:".."\\n".."%c[255,255,128,128]С вашего счёта были сняты 3000 рублей. Благодарим за понимание и сотрудничество.", nil, nil, 25000, nil, [[sms\net\operator_babki_otdat_sms4]])
end
function bland_sms()
	sms("%c[255,160,160,160]".."БЛЕНД:".."\\n".."%c[255,255,128,128]Эй, нейтрал! Я смотрю, у тебя есть лапти-самоскоки? По той лестнице, что ты поднялся, обычный человек, да ещё с твоим маленьким рюкзачонком залезть не сможет. За флешкой пожаловал? И кто же настучал о ней и о сходке? Жди меня на верхнем уровне.", nil, nil, 30000, nil, [[sms\bland\bland_sms]])
end
function bland_sms1()
	sms("%c[255,160,160,160]".."БЛЕНД:".."\\n".."%c[255,255,128,128]Эй, нейтрал! Я смотрю, ты тут почудил... Наверняка ко мне пришёл... Жди на верхнем уровне, сейчас поднимусь.", nil, nil, 25000, nil, [[sms\bland\bland_sms1]])
end
function sborr_sms()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Эй, мужики! Кто остался в живых... Пора сматываться. Собираемся у водокачки.", nil, nil, 25000, nil, [[characters_voice\ozvuchka\strelok_dcity1]])
end
function nachalnik_zvonok_sms1()
	sms("%c[255,160,160,160]".."ДУДА:".."\\n".."%c[255,255,128,128]Эй, часовой! Сейчас к тебе нейтрал подойдёт - пропусти его, как договаривались. Он внёс пожертвования в фонд голодающих. А после - можешь покинуть свой пост.", nil, nil, 30000, nil, [[sms\duda\nachalnik_zvonok_sms1]])
end
function nachalnik_zvonok_sms2()
	sms("%c[255,160,160,160]".."ЧАСОВОЙ:".."\\n".."%c[255,255,128,128]Хоккей, шеф...", nil, nil, 20000, nil, [[characters_voice\ozvuchka\chasovoy_xokkey]])
end

--' заспавним изломов в деревне рестриктором
function spawn_village_izlom()
	create("fracture_strong",xyz(77.537,10.171,26.215),37126,3333)
	create("fracture_strong",xyz(75.063,10.069,26.122),36278,3333)
end

function set_pantera()
local obj
for a=1,65534 do
   obj = server_object(a) 
       if obj then
          if obj and obj:name() == "marsh_pantera" then 
            amk.add_spot_on_map(obj.id,"crlc_big","Пантера") 
			break
		  end
       end
   end
end

function remove_pantera_metka()
local obj
for a=1,65534 do
  obj = server_object(a)
      if obj then
        if obj and obj:name() == "marsh_pantera" then 
           level.map_remove_object_spot(obj.id,"crlc_big")
		   break
        end
      end
   end
end

--' спавним пару кабанов у Пантеры на болотах
function spawn_boar1_marsh()
	create("boar_strong",xyz(-297.283,-0.292,113.592),1496,3378)
	create("boar_strong",xyz(-297.283,-0.292,113.592),1496,3378)
	create("boar_strong",xyz(-297.282,-0.292,113.592),1496,3378)
end

--' убираем людишек из Деревни
function delete_chel_village()
	release("village_kapatel3")
	release("village_stalk_dead1")
	release("village_stalk_dead2")
	release("village_stalk_dead3")
	release("village_brat_dead")
	release("village_kapatel1")
	release("village_kapatel2")
	release("village_magazin_kapatel1")
	release("village_magazin_kapatel2")
	release("village_magazin_kapatel3")
	release("village_xolm_kapatel1")
	release("village_xolm_kapatel2")
	release("village_xolm_kapatel3")
	release("village_xolm_kapatel4")
end

function metka_marsh_provodnik()
local obj
for a=1,65534 do
   obj = server_object(a) 
       if obj then
          if obj and obj:name() == "boloto_provodnik" then 
            amk.add_spot_on_map(obj.id,"crlc_big","Ориентировка на переход в Деревню") 
			break
		  end
       end
   end
end

function remove_metka_marsh_provodnik()
local obj
for a=1,65534 do
  obj = server_object(a)
      if obj then
        if obj and obj:name() == "boloto_provodnik" then 
           level.map_remove_object_spot(obj.id,"crlc_big")
           break
        end
      end
   end
end

--' монстры на болотах
function marsh_many_monster()
	create("fracture_karlik",xyz(-220.359,0.839,232.703),32366,3378)
	create("fracture_karlik",xyz(-220.359,0.839,232.703),32366,3378)
--local obj = create("fracture_strong",xyz(-220.359,0.839,232.703),32366,3378)
level.add_pp_effector ("blink.ppe", 234, false) 
--level.add_pp_effector("teleport.ppe", 2006, false)
end

--' Удаляем трупы сталков с Болот
function delete_stalky_marsh()
	release("marsh_stalker_burer1")
	release("marsh_stalker_burer2")
	release("marsh_stalker_burer3")
end

--' проверим наличие финансов для проводника
function sorok_shtuk(actor,npc)
    return actor:money() > 40000
end

--' отдадим деньги проводнику за переход
function bolloto_prov_take_money(t1,t2)
lost_money(40000)
end

--' убираем проводника, Пантеру с болот 
function delete_bol_provodnik()
	release("boloto_provodnik")
	release("marsh_pantera")
end

--' убираем Пилигрима с бара
function delete_pili_bar()
	release("piligrim_bar")
end

--' убираем Пантеру из Деревни
function delete_vill_pantera()
	release("village_pantera")
end

--' убираем мобильного торгаша с Агры
function delete_agro_mobil_torgash()
	local se_obj = server_object("agro_mobil_torgash")
	if se_obj then
		-- сначала прерываем диалог
		local obj = level_object(se_obj.id)
		if obj and obj:is_talking() then
			obj:stop_talk()
			db.actor:stop_talk()
		end
		-- затем удаляем
		amk.start_timer("run", 0.2, "arhara_dialog.delete_agro_mobil_torgash2()")
	end
end
function delete_agro_mobil_torgash2()
	release("agro_mobil_torgash")
end

--' спавним пси-антенну на Кордоне
function x_ray_antenna_spawn(first_speaker, second_speaker)
local obj = create("x_ray_antenna",xyz(109.698,4.617,459.677),411976,223)
	got("af_spirit_3")
end

function metka_psi_antenna()
local obj
for a=1,65534 do
   obj = server_object(a) 
       if obj then
          if obj and obj:name() == "esc_trupak_antenna" then 
            amk.add_spot_on_map(obj.id,"crlc_big","Ориентировка на сигнал пси-антенны") 
			break
		  end
       end
   end
end

function remove_metka_psi_antenna()
local obj
for a=1,65534 do
  obj = server_object(a)
      if obj then
        if obj and obj:name() == "esc_trupak_antenna" then 
           level.map_remove_object_spot(obj.id,"crlc_big")
           break
        end
      end
   end
end

--' проверим наличие пси-антенны
function klenov_antena_have()
	return has("x_ray_antenna",1)
end

--' отдадим антенну Клёнову
function klenov_antena_done(first_speaker, second_speaker)
	lost("x_ray_antenna",1)
end

--' пси-спавн на Кордоне рестриктором1
function spawn_psi_one_one()
	create("fracture_master",xyz(107.289,1.650,457.066),408582,223)
	create("fracture_master",xyz(108.022,1.703,456.664),409435,223)
level.add_pp_effector ("blink.ppe", 234, false) 
--level.add_pp_effector("teleport.ppe", 2006, false)
level.add_pp_effector("psi.ppe", 2008, false)
end
function spawn_psi_one_two()
	create("fire_chimera",xyz(106.582,1.580,458.101),407745,223)
	create("new_electro_chimera",xyz(105.914,1.565,457.573),406900,199)
level.add_pp_effector ("blink.ppe", 234, false)
level.add_pp_effector("amk_shoot.ppe", 2011, false)
level.add_pp_effector("snd_shock.ppe", 2008, false) 
end
function spawn_psi_one_tri()
	create("pseudodog_normal",xyz(105.313,1.533,457.661),406045,199)
	create("pseudodog_big",xyz(106.582,1.580,458.101),407745,223)
	create("dog_habaruch",xyz(106.582,1.580,458.101),407745,223)
	create("dog_normal",xyz(107.289,1.650,457.066),408582,223)
	create("dog_habaruch",xyz(107.289,1.650,457.066),408582,223)
	create("dog_weak",xyz(107.289,1.650,457.066),408582,223)
level.add_pp_effector ("blink.ppe", 234, false) 
level.add_pp_effector("alcohol.ppe", 3000, false)
level.add_pp_effector("psi.ppe", 2008, false)
level.add_pp_effector("snd_shock.ppe", 2008, false)
end
function spawn_psi_one_four()
	create("psyonik",xyz(107.289,1.650,457.066),408582,223)
level.add_pp_effector ("blink.ppe", 234, false) 
level.add_pp_effector("alcohol.ppe", 3000, false)
end
function spawn_psi_one_five()
	create("nosales",xyz(105.914,1.565,457.573),406900,199)
	create("snork_nosach",xyz(105.914,1.565,457.573),406900,199)
	create("nosales",xyz(105.914,1.565,457.573),406900,199)
	create("snork_nosach",xyz(105.313,1.533,457.661),406045,199)
	create("nosales",xyz(105.313,1.533,457.661),406045,199)
	create("snork_nosach",xyz(105.313,1.533,457.661),406045,199)
level.add_pp_effector ("blink.ppe", 234, false) 
level.add_pp_effector("psychic.ppe", 2008, false)
level.add_pp_effector("snd_shock.ppe", 2008, false)
end
function spawn_psi_one_six()
	create("zombie_trup",xyz(105.313,1.533,457.661),406045,199)
	create("zombie_immortal",xyz(106.582,1.580,458.101),407745,223)
	create("zombie_trup",xyz(106.582,1.580,458.101),407745,223)
	create("zombie_babka_strong",xyz(106.582,1.580,458.101),407745,223)
level.add_pp_effector ("blink.ppe", 234, false) 
level.add_pp_effector("teleport.ppe", 2006, false)
end
function spawn_psi_one_seven()
	create("bloodsucker_effector",xyz(107.289,1.650,457.066),408582,223)
	create("bloodsucker_effector",xyz(107.289,1.650,457.066),408582,223)
level.add_pp_effector ("blink.ppe", 234, false)
level.add_pp_effector("amk_shoot.ppe", 2011, false)
level.add_pp_effector("psi.ppe", 2008, false)
level.add_pp_effector("alcohol.ppe", 3000, false) 
end

--' пси-спавн на Кордоне рестриктором2
function spawn_psi_two_one()
	create("snork_normal",xyz(108.022,1.703,456.664),409435,223)
	create("snork_jumper",xyz(107.289,1.650,457.066),408582,223)
	create("snork_stronger",xyz(108.022,1.703,456.664),409435,223)
level.add_pp_effector ("blink.ppe", 234, false) 
level.add_pp_effector("psi.ppe", 2008, false)
level.add_pp_effector("amk_shoot.ppe", 2011, false)
end
function spawn_psi_two_two()
	create("kikimora",xyz(106.582,1.580,458.101),407745,223)
	create("kikimora",xyz(105.914,1.565,457.573),406900,199)
	create("kikimora",xyz(105.313,1.533,457.661),406045,199)
level.add_pp_effector ("blink.ppe", 234, false)
level.add_pp_effector("amk_shoot.ppe", 2011, false)
level.add_pp_effector("snd_shock.ppe", 2008, false) 
end
function spawn_psi_two_tri()
	create("gigant_normal",xyz(105.313,1.533,457.661),406045,199)
	create("gigant_big_strong",xyz(107.289,1.650,457.066),408582,223)
level.add_pp_effector ("blink.ppe", 234, false)
level.add_pp_effector("alcohol.ppe", 3000, false) 
level.add_pp_effector("teleport.ppe", 2006, false)
level.add_pp_effector("snd_shock.ppe", 2008, false)
end

function to_limansk()
	if not has_info("black_doctor_finish_dialog") then
	    sms("%c[255,160,160,160]".."СВИБЛОВ:".."\\n".."%c[255,255,128,128]Меченый, я вижу, ты собрался в Старую Деревню и на Генераторы, не закончив все дела в Лиманске и Госпитале. Этого делать нельзя. Сначала ты должен закончить все дела там, и только потом идти на Генераторы. Поэтому сейчас тебе нужно вернуться в Лиманск.", nil, nil, 30000)
	end
end

--' убираем 1 дес вертуху с Агры
function dell_arhara_desant_heli1()
	release("agr_arhara_desant_heli1")
end

--' убираем 2 дес вертуху с Агры
function dell_arhara_desant_heli2()
	release("agr_arhara_desant_heli2")
end

--' убираем вертуху торгаша с Агры
function dell_torgash_heli()
	release("agro_torgash_heli")
end

--' убираем 2 дес вертуху с Кордона
function dell_esc_desant_heli_2()
	release("esc_arhara_desant_heli_2")
end

--' убираем 1 дес вертуху с Кордона
function dell_esc_desant_heli_1()
	release("esc_arhara_desant_heli_1")
end

--' убираем 1 дес вертуху из деревни
function dell_village_heli1()
	release("lost_village_heli_1")
end

--' убираем 2 дес вертуху из деревни
function dell_village_heli2()
	release("lost_village_heli_2")
end

--' убираем Звездочёта из лагеря новисов
function dell_zvezd_novise()
	release("zvezd_after_warl")
end

--' спавним тайники с эмбрионами на болотах
function spawn_embrion_taynik()
local se_obj = create("m_inventory_box27", xyz(-210.150,-0.397,392.077),29502,3361)
local se_obj = create("m_inventory_box28", xyz(-176.410,0.787,390.441),53178,3361)
local se_obj = create("m_inventory_box29", xyz(-216.538,-0.381,385.430),39492,3361)
end

--' проверим наличие эмбрионов
function boloto_provod_vstrecha_have()
 return has("mutant_zombie_cocoon",2)
end

--' оставим эмбрионы, а лучше дадим СМС
function boloto_provod_vstrecha_done(first_speaker, second_speaker)
--lost("mutant_zombie_cocoon",2)
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Пантера, путь вроде свободен. Иду встречать тебя. Можешь выдвигаться навстречу. Скидываю координаты.", nil, nil, 25000)
end	

function village_kap_pda1()
  sms("%c[255,160,160,160]".."ПОСЛЕДНЕЕ СМС КАПИТАНА. ВХОДЯЩЕЕ:".."\\n".."%c[255,255,128,128]Ну и где вы? Смотрите, не облажайтесь на этот раз. Мне нужна только девчонка, её второго братца смело мочите вместе с его шпаной. Этого идиота Стрелка желательно не гасить... Хотя - в расход его, если девка будет нашей. Он уже отыграл свою роль.", nil, nil, 30000)
end

function village_kap_pda2()
  sms("%c[255,160,160,160]".."КАПИТАН:".."\\n".."%c[255,255,128,128]Уже подлетаем. Всё понял. Девчонка уже в деревне. После операции - с тебя двойной гонорар.", nil, nil, 15000)
end

function village_kap_pda3()
  sms("%c[255,160,160,160]".."ВХОДЯЩЕЕ:".."\\n".."%c[255,255,128,128]Гонорар? А ты сделай сначала то, за что уже сполна заплачено. До связи.", nil, nil, 15000)
end

--' отдадим ПДА Колмогору
function derevny_zashita_done(first_speaker, second_speaker)
	lost("kapitan_pda",1)
	got("wpn_automag",1)
	got("ammo_44mag_hp",2)
	got("ammo_44mag_ap",2)
end

function delete_pereod_gen_bol()
	release(story_object(18100))
	release("gener_dok_stalk2")
	release("generators_black_dok")
	release("esc_trupak_antenna")
end

--' проверим наличие 100000 для Земляка
function sto_shtuk(actor,npc)
    return actor:money() > 100000
end

--' отдадим 100000 Земляку
function zemlyk_take_money(t1,t2)
lost_money(100000)
end

--' проверим наличие 50000 для Земляка
function pytdesyt_shtuk(actor,npc)
    return actor:money() > 50000
end

--' отдадим 50000 Земляку
function zemlyk_take_pytdesyt(t1,t2)
lost_money(50000)
end

--' убираем квестовую вертуху с Генераторов
function dell_gen_heli_hit()
	release("generators_heli_hit")
end

--' спавним джойстик Андерсена
function spawn_joystik()
local se_obj = create("pult_anders", xyz(77.743,37.345,-268.534),428006,3114)
end

--' спавним немного артов на Генераторах
function spawn_generators_art1()
	create("af_spirit_1",xyz(20.610,34.871,-213.418),360023,3110)
	create("af_fireball",xyz(-68.352,23.909,-181.416),256639,3106)
	create("af_cristall",xyz(215.910,20.703,-358.402),585185,3141)
	create("af_armor_2",xyz(13.783,34.843,-270.739),352093,3109)
	create("af_fireball",xyz(14.385,23.251,-466.348),352666,3104)
	create("art_acumm",xyz(127.714,29.674,-562.987),483806,3128)
end

--' спавним ещё немного артов на Генераторах
function spawn_generators_art2()
	create("af_rusty_thorn",xyz(-65.445,30.138,-99.984),260558,3102)
	create("af_rusty_kristall",xyz(-204.705,29.777,-103.302),101471,3085)
	create("af_phantom",xyz(-204.805,29.777,-103.302),101471,3085)
	create("af_drops",xyz(-0.313,26.048,-400.088),335415,3108)
	create("art_acumm",xyz(249.126,18.879,-438.853),624290,3152)
	create("af_mincer_meat",xyz(74.540,30.205,-362.753),422955,3115)
	create("af_mincer_meat",xyz(19.410,35.915,-546.888),358722,3107)
end

--' заводим третий генератор
function generator3_vkl()
	create("imitator",xyz(-36.434,45.577,-257.662),295045,3105)
	create("imitator",xyz(-36.434,45.577,-257.662),295045,3105)
	create("imitator",xyz(-36.807,45.471,-257.168),291121,3105)
	create("imitator",xyz(-36.807,45.471,-257.168),291121,3105)
	create("imitator",xyz(-32.598,40.993,-255.071),296678,3105)
	create("imitator",xyz(-33.763,40.597,-260.812),295852,3105)
	create("imitator",xyz(-39.815,39.999,-258.828),291121,3105)
	create("imitator",xyz(-36.467,44.480,-254.494),291121,3105)
	create("imitator",xyz(-36.467,44.480,-254.494),291121,3105)
end

--' убираем Звездочёта с Генераторов
function dell_zvezd_generators()
	release("generators_zvezdochet")
end

--' заспавним пёсиков на пути Удава на болотах
function spawn_dog_udav_boloto()
	create("dog_weak",xyz(-200.920,4.329,522.086),115055,3393)
	create("dog_weak",xyz(-200.920,4.329,522.086),115055,3393)
	create("dog_habaruch",xyz(-200.920,4.329,522.086),115055,3393)
	create("dog_habaruch",xyz(-200.920,4.329,522.086),115055,3393)
	create("pseudodog_weak",xyz(-200.920,4.329,522.086),115055,3393)
	create("pseudodog_weak",xyz(-200.920,4.329,522.086),115055,3393)
end

function defend_udav_have(task, info)
     if has_info("marsh_atakker_bandit1_death") and has_info("marsh_atakker_bandit2_death") and has_info("marsh_atakker_bandit3_death") and 
	has_info("marsh_atakker_bandit4_death") and has_info("marsh_atakker_bandit5_death") and has_info("marsh_atakker_bandit6_death") and 
	has_info("marsh_atakker_bandit7_death") and has_info("marsh_atakker_bandit8_death") then 
		return give_info("vse_banditu_death")
     end
		return false
end

--' убираем Боцмана с болот
function dell_udav_bolota()
	release("marsh_udav")
end

--' убираем вертуху с болот при смерти Боцмана
function dell_marsh_heli_dok()
	release("marsh_heli_dok")
end

--' убираем вертуху с дока с генераторов
function dell_generators_heli_dok()
	release("generators_heli_dok")
end

--' убираем переход болото-генераторы
function delete_pereod_bolota_gen()
	release(story_object(18101))
end

--' проверим наличие джойстика
function ander_joystik_say_have() 
	return has("pult_anders",1)
end

function metka_gener_udav()
local obj = server_object("generators_udav")
if obj then level.map_add_object_spot(obj.id, "blue_location", "Боцман")
 end
end

function remove_metka_gener_udav()
local obj = server_object("generators_udav")
if obj then level.map_remove_object_spot(obj.id, "blue_location", "Боцман")
 end
end

--' отдадим джойстик Боцману
function joystik_otdal(first_speaker, second_speaker)
	lost("pult_anders",1)
end

--' убираем Фрица с Генераторов
function dell_frits()
	release("frits")
end

--' убираем Фрица2 с Генераторов
function delete_frits2()
	release("gener_frits2")
end

--' убираем охрану Андерсена 
function delete_ohrana_ander()
	release("gener_dok_stalk1")
	release("gener_dok_stalk3")
end

--' убираем Сапсана с генеров
function del_gen_komandir()
	release("gener_desant_black_komandir")
end

--' убираем тело Пантеры и Дока 
function delete_pebyta_after_proval()
	release("gener_bl_doktor1")
	release("generators_pantera_dead")
end

--' заспавним ключ от секретки НЗ
function kluch_teleport2_spawn()
	if not has_info("generators_code_door_unlocked_spawn") then
			create("kluch_dell_teleport2",xyz(172.326,29.329,-492.119),535422,3152)
			create("af_arhara_globus",xyz(172.326,29.329,-492.119),535422,3152)
			create("pseudodog_weak",xyz(172.366,28.740,-493.136),535420,3152)
			create("dog_habaruch",xyz(172.366,28.740,-493.136),535420,3152)
			create("pseudodog_weak",xyz(162.445,22.799,-500.679),523880,3152)
			create("pseudodog_big",xyz(162.445,22.799,-500.679),523880,3152)
			create("dog_weak",xyz(162.445,22.799,-500.679),523880,3152)
			create("dog_normal",xyz(162.445,22.799,-500.679),523880,3152)
			create("bloodsucker_effector",xyz(152.704,17.637,-500.195),512486,3152)
		give_info("generators_code_door_unlocked_spawn")
	end
end

--' убираем Боцмана с Генераторов 
function delete_botsman_gener()
	release("generators_udav")
end

--' Получим блокнот Пантеры от Призрака
function take_bloknot_pantera(first_speaker, second_speaker)
	got("bloknot_pantera")
end

--' заспавним арт и досье Звездочёта
function dosye_zvez_spawn()
	create("dosye_zvez",xyz(87.017,24.595,-15.456),437960,3119)
	create("af_spirit_3",xyz(86.514,24.580,-15.479),437960,3119)
	create("lican",xyz(90.968,25.641,-61.678),442584,3121)
	create("lican",xyz(46.080,23.543,-23.047),390432,3119)
end

--' спавним зомбаков на генераторах у деревни
function gener_spawn_zombaki()
	create("zombie_babka_weak",xyz(-127.703,43.418,-549.804),187271,3093)
	create("zombie_strong",xyz(-127.703,43.418,-549.804),187271,3093)
	create("zombie_trup",xyz(-127.703,43.418,-549.804),187271,3093)
	create("zombie_babka_normal",xyz(-130.494,43.038,-543.485),192838,3093)
	create("zombie_hell2",xyz(-130.494,43.038,-543.485),192838,3093)
	create("zombie_hell4",xyz(-130.494,43.038,-543.485),192838,3093)
	create("zombie_babka_strong",xyz(-121.858,42.962,-546.894),195197,3093)
	create("zombie_hell5",xyz(-121.857,42.962,-546.894),195197,3093)
	create("zombie_hell6",xyz(-121.859,42.962,-546.894),195197,3093)
end

--' убираем Клыка с Бара
function delete_kluk_bar()
	release("kluk_bar")
end

--' отдадим досье Клыку
function dosye_zvez_otdal(first_speaker, second_speaker)
	lost("dosye_zvez",1)
end

--' заспавним кошек на пути Клыка
function spawn_koshki_nz()
	create("cat_strong",xyz(-9.490,-25.435,-169.116),849983,2897)
	create("cat_strong",xyz(-9.490,-25.435,-169.116),849983,2897)
	create("cat_normal",xyz(-9.490,-25.435,-169.116),849983,2897)
	create("cat_normal",xyz(-9.490,-25.435,-169.116),849983,2897)
	create("cat_normal",xyz(-9.490,-25.435,-169.116),849983,2897)
	create("cat_normal",xyz(-9.490,-25.435,-169.116),849983,2897)
	create("cat_normal",xyz(-9.490,-25.435,-169.116),849983,2897)
	create("cat_strong",xyz(-9.490,-25.435,-169.116),849983,2897)
	create("cat_strong",xyz(-9.490,-25.435,-169.116),849983,2897)
end

--' заспавним зомби на радаре
function spawn_zombi_padar()
	create("zombie_strong",xyz(-10.776,0.198,-48.988),7089,1960)
--local obj = create("zombie_strong",xyz(-8.273,0.198,-40.049),7773,1960)
--local obj = create("zombie_trup",xyz(-4.506,4.923,-41.786),7975,1960)
end

--' убираем аллспавновскую куклу у колб на радаре
function dell_radar_kukla()
	release("radar_kukla")
end

--' заспавним куклу на радаре и возьмём её фото
function spawn_kukolka(first_speaker, second_speaker)
	got("foto_kukla")
	create("kukla_1",xyz(-10.734,0.198,-54.009),7084,1960)
	create("anomal_pole",xyz(-10.734,0.198,-54.009),7084,1960)
end

--' проверим наличие куклы
function muha_kukla_have()
	return has("kukla_1",1)
  end

--' отдадим куклу и фото Мухе
function muha_kukla_done(first_speaker, second_speaker)
	lost("kukla_1",1)
	lost("foto_kukla",1)
second_speaker:set_relation(game_object.friend, first_speaker)
end

--' убираем Пантеру и Звездочёта с НЗ 
function delete_aver_vragi()
	release("aver_zvezdochet2")
	release("aver_pantera_new")
end

--' спавним записку пилота на чаэс2
function spawn_chaes_pilot_zapiska()
local se_obj = create("pilot_zapiska", xyz(243.750,20.599,151.565),78081,2573)
local se_obj = create("samopisez", xyz(152.873,70.873,121.853),69353,2573)
local se_obj = create("m_inventory_box30", xyz(251.823,11.379,175.369),88107,2577)
end

--' убираем Призрака с ЧАЭС1
function dell_chaes1_prizrak()
	release("chaes1_prizrak")
end

--' убираем Призрака с radara
function dell_new_prizrak()
	release("new_prizrak")
end

--' получим арты от Клёнова
function polt_art_done(first_speaker, second_speaker)
	got("af_part_monolit1")
	got("af_spiral")
end

--' проверим самописца
function voronin_samopisez_have()
	return has("samopisez",1)
  end

--' отдадим самописец Воронину
function voronin_samopisez_done(first_speaker, second_speaker)
	lost("samopisez",1)
	got("wpn_mp5a3_10")
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Клык, привет. Всё ок, иду к тебе. Должна прилететь вертуха за Мухой.", nil, nil, 20000)
end

--' убираем вертуху Пантеры с авера
function dell_pantera_vertuha_aver()
	release("pantera_vertuha_aver")
end

--' убираем вертуху Отшельника с авера
function dell_aver_arhara_heli_1()
	release("aver_arhara_heli_1")
end

--' убираем военных с генер. вертолёта с НЗ 
function dell_muziki_aver()
	release("soprov_muha_soldat1")
	release("soprov_muha_soldat2")
end

--' убираем Муху с НЗ 
function dell_devchonka()
	release("devchonka")
end

--' получим фото от раненого
function dal_foto(first_speaker, second_speaker)
	got("foto_aver_zvezd")
	got("foto_aver_mono")
end

--' убираем тело Мухи и раненого с авера 
function dell_muha_die_aver()
	release("muha_soldat_ranen")
	release("muha_die")
end

--' спавним ящик с верта военных на авере
function spawn_general_prezent()
	if not has_info("spawn_general_prezent_info") then
		local se_obj = create("m_inventory_box31", xyz(-320.174,-8.726,21.975),320365,2889)
		give_info("spawn_general_prezent_info")
	end
end

--' заспавним зомби на авере
function aver_spawp_zombiki()
	create("zombie_babka_weak",xyz(51.951,-13.962,-185.843),958151,2908)
	create("zombie_babka_normal",xyz(51.951,-13.962,-185.843),958151,2908)
	create("zombie_strong",xyz(51.951,-13.962,-185.843),958151,2908)
	create("zombie_trup",xyz(51.951,-13.962,-185.843),958151,2908)
	create("zombie_blow",xyz(51.951,-13.962,-185.843),958151,2908)
	create("zombie_hell7",xyz(51.9511,-13.962,-185.843),958151,2908)
	create("zombie_hell6",xyz(51.9512,-13.962,-185.843),958151,2908)
	create("zombie_babka_strong",xyz(51.9513,-13.962,-185.843),958151,2908)
	create("zombie_weak",xyz(51.9514,-13.962,-185.843),958151,2908)
	create("zombie_normal",xyz(51.9515,-13.962,-185.843),958151,2908)
	create("zombie_hell1",xyz(51.9516,-13.962,-185.843),958151,2908)
	create("zombie_hell2",xyz(51.9517,-13.962,-185.843),958151,2908)
	create("zombie_hell3",xyz(51.9518,-13.962,-185.843),958151,2908)
	create("zombie_trup",xyz(51.9519,-13.962,-185.843),958151,2908)
	create("zombie_hell5",xyz(51.95199,-13.962,-185.843),958151,2908)
	create("zombie_hell",xyz(51.95199,-13.962,-185.843),958151,2908)
	create("zombie_hell15",xyz(51.95199,-13.962,-185.843),958151,2908)
	create("zombie_hell15",xyz(51.95199,-13.962,-185.843),958151,2908)
end

--' убираем учёных с генераторов 
function dell_lomonosov()
	release("solvador")
	release("andersen")
end

--' заспавним вороний глаз
function gener_spawn_eye_voron()
	create("af_eye_voron",xyz(184.070,28.537,-565.312),548909,3137)
	create("af_eye_voron",xyz(195.765,35.845,-573.473),562425,3152)
	create("m_inventory_box32",xyz(190.773,35.842,-574.642),556868,3152)
	create("mini_antenna1",xyz(189.175,28.536,-566.536),554518,3137)
	create("mini_antenna2",xyz(195.494,28.630,-555.928),563238,3143)
	create("mini_antenna3",xyz(203.440,28.548,-565.897),571113,3143)
	create("mini_antenna4",xyz(189.671,28.536,-572.527),555297,3137)
	create("mini_antenna5",xyz(182.885,35.841,-562.001),547286,3152)
end

--' отключаем аномалии на генераторах
function delete_gen_zone_emi1(story_id)
	release(story_object(18104))
	sms("Аномальная зона дезактивирована", nil, nil, 20000)
end

function checking_taken_item51(obj)
    if obj:section()=="mini_antenna1" then delete_gen_zone_emi1(obj)
 end
end

function delete_gen_zone_emi2(story_id)
	release(story_object(18105))
	sms("Аномальная зона дезактивирована", nil, nil, 20000)
end

function checking_taken_item52(obj)
    if obj:section()=="mini_antenna2" then delete_gen_zone_emi2(obj)
 end
end

function delete_gen_zone_emi3(story_id)
	release(story_object(18106))
	sms("Аномальная зона дезактивирована", nil, nil, 20000)
end

function checking_taken_item53(obj)
    if obj:section()=="mini_antenna3" then delete_gen_zone_emi3(obj)
 end
end

function delete_gen_zone_emi4(story_id)
	release(story_object(18107))
	sms("Аномальная зона дезактивирована", nil, nil, 20000)
end

function checking_taken_item54(obj)
    if obj:section()=="mini_antenna4" then delete_gen_zone_emi4(obj)
 end
end

function delete_gen_zone_emi5(story_id)
	release(story_object(18108))
	sms("Аномальная зона дезактивирована", nil, nil, 20000)
end

function checking_taken_item55(obj)
    if obj:section()=="mini_antenna5" then delete_gen_zone_emi5(obj)
 end
end

--' заспавним мнимый телепорт на генераторах
function spawn_psevdotele()
local obj = create("imitator_tele_final1",xyz(179.736,31.259,-454.935),544230,3133)
end

--' убираем псевдотелепорт, Сапсана и свободовца
function gen_dell_tele_sapsan()
	release("imitator_tele_final1")
	release("gen_sapsan1")
	release("gen_svoboda_parlamenter")
end

--' проверим наличие генераторов помех
function solvador_say_have() 
	return has("mini_antenna1",1) and
has("mini_antenna2",1) and
has("mini_antenna3",1) and
has("mini_antenna4",1) and
has("mini_antenna5",1)
end

--' отдадим это барахло Сольвадору
function solvador_say_done(first_speaker, second_speaker)
	lost("mini_antenna1",1)
	lost("mini_antenna2",1)
	lost("mini_antenna3",1)
	lost("mini_antenna4",1)
	lost("mini_antenna5",1)
end

--' убираем копии учёных с Генераторов 
function dell_uchen_gen_povtorno()
	release("gen_solvador1")
	release("gen_andersen1")
end

--' убираем Андерсена1 с генеров 
function dell_uchen_andersen1()
	release("gen_andersen1")
end

--' убираем Сольвадора1 с генеров 
function dell_uchen_solvador1()
	release("gen_solvador1")
end

--' заспавним парочку гигантов у шлагбаума
function gen_shlag_gigantu()
	create("gigant_red_strong",xyz(71.960,26.516,-96.341),420846,3120)
	create("gigant_strong",xyz(71.960,26.516,-96.341),420846,3120)
end

--' убираем второго Клыка с авера
function dell_new_kluk_nz()
	release("new_kluk_nz")
end

function set_kluk_chaes2()
local obj
for a=1,65534 do
   obj = server_object(a) 
       if obj then
          if obj and obj:name() == "kluk_chaes2" then 
            amk.add_spot_on_map(obj.id,"crlc_big","Клык должен быть где-то тут") 
			break
		  end
       end
   end
end

function remove_kluk_chaes2_metka()
local obj
for a=1,65534 do
  obj = server_object(a)
      if obj then
        if obj and obj:name() == "kluk_chaes2" then 
           level.map_remove_object_spot(obj.id,"crlc_big")
           break
        end
      end
   end
end

function priz_pamt_sms1()
	sms("%c[255,160,160,160]".."СТРЕЛОК:".."\\n".."%c[255,255,128,128]Призрачный, привет. Тут такие дела... Отправляю к тебе Пантеру - присмотри за девочкой - запуталась она немного. А я пока срочно двигаю на ЧАЭС-2 - Клык ждёт. Дам весточку, если чего.", nil, nil, 30000)
end

--' получим фото от Клыка на ЧАЭС2
function dal_chaes2_karta(first_speaker, second_speaker)
	got("chaes2_karta_kluk")
end

--' убираем Клыка с чаэс2 а заодно и Пантеру с генераторов
function dell_kluk_chaes2()
	release("kluk_chaes2")
	release("gen_pantera_life")
	release("chaes2_arhara_beter1")
end

--' заспавним бочки на чаэс2
function chaes2_expl_barrel()
	create("explosive_barrel",xyz(306.832,-0.347,229.748),112853,2587)
	create("explosive_barrel",xyz(306.832,-0.347,229.748),112853,2587)
	create("explosive_bomba",xyz(306.832,-0.347,229.748),112853,2587)
	create("explosive_mobiltank",xyz(306.832,-0.347,229.748),112853,2587)
	create("explosive_mobiltank",xyz(306.832,-0.347,229.748),112853,2587)
	create("explosive_mobiltank",xyz(306.832,-0.347,229.748),112853,2587)
end

--' заспавним моолитовцев на трубе
function mono_chaes2_truba_1()
	create("sar_monolith_respawn",xyz(549.876770019531,80.1041946411133,202.959167480469),171515,2628)
	create("sar_monolith_respawn",xyz(554.652709960938,80.102424621582,207.067840576172),171515,2628)
	create("tank_spawn_zasada",xyz(554.652809960938,80.102424621582,207.067840576172),171515,2628)
end
function mono_chaes2_truba_2()
	create("sar_monolith_respawn",xyz(558.519775390625,112.811256408691,199.679763793945),171515,2628)
	create("tank_spawn_zasada5",xyz(558.519785390625,112.811256408691,199.679763793945),171515,2628)
	create("sar_monolith_respawn",xyz(550.940307617188,112.814964294434,199.753204345703),171515,2628)
	create("sar_monolith_respawn",xyz(550.940307617188,112.814964294434,199.753204345703),171515,2628)
end

--' заспавним makrogenerator
--function spawn_makrogenerator()
--local obj = create("makrogenerator",xyz(-85.708,38.329,617.077),3905,3066)
--local obj = create("makrogenerator",xyz(-94.883,46.037,541.781),7496,3063)
--end

--' Оживим Муху
function otsek_ozivlenie()
local obj = create("imitator",xyz(-94.531,28.299,566.873),1087,3038)
level.add_pp_effector ("blink.ppe", 234, false) 
level.add_pp_effector("snd_shock.ppe", 2008, false)
end

--' убираем труп Мухи из Госпиталя 
function dell_hospital_muha_trup()
	release("hospital_muha_trup")
end

--' заспавним живую капсулу у Мухи и 3 у дока
function sp_live_kapsula()
	create("caps_mincer_average",xyz(-95.816,28.425,567.057),843,3038)
	create("caps_mincer_average",xyz(-95.578,32.454,614.056),868,3038)
	create("caps_mincer_average",xyz(-95.447,32.558,615.379),1026,3038)
	create("caps_mincer_average",xyz(-95.606,32.499,614.533),869,3038)
end

--' варим Камень Удачи
function otsek_varka_kamen()
level.add_pp_effector ("blink.ppe", 234, false) 
level.add_pp_effector("snd_shock.ppe", 2008, false)
level.add_pp_effector("teleport.ppe", 2006, false)
end

--' подмена артов в госпитале
function hosp_podmena()
	lost("af_part_monolit1",1)
	lost("af_water_flower",1)
end
function hosp_taik_new_art(first_speaker, second_speaker) 
	got("af_part_monolit2")
	got("af_water_flower1")
	sms("%c[255,160,160,160]".."ПОЛУЧЕНА ИНФОРМАЦИЯ:".."\\n".."%c[255,255,128,128]Несколько артефактов изменили свои свойства.", nil, "nano", 15000, nil, [[sms\net\hosp_taik_new_art]])
end

--' убираем голограмму ЧД 
function dell_hospital_bl_dok()
	release("hospital_bl_dok")
end

--' проверим наличие артов для ЧД
function artu_chd() 
	return has("af_water_flower1",1) and
has("af_part_monolit2",1)
end

--' убираем отца и Пантеру
function dell_otez_and_pant()
	release("hosp_father")
	release("hospital_pantera_girl")
end

--' Получим кредитку от ЧД и отдадим Сердце Полтергейста
function chd_dal_kreditku(first_speaker, second_speaker)
	lost("af_part_monolit2",1)
	got("kreditka")
end

--' Получим кредитку от ЧД и отдадим Камень Удачи
function chd_otdat_kamen(first_speaker, second_speaker)
	lost("af_kamen_udachy",1)
	got("kreditka")
end

--' проверим наличие Камня удачи
function af_kamen_est()
	return has("af_kamen_udachy",1)
  end

--' убираем Седого с атп 
function atp_sedoy_dell()
	local se_obj = server_object("atp_mobil_torgovetz")
	if se_obj then
		-- сначала прерываем диалог
		local obj = level_object(se_obj.id)
		if obj and obj:is_talking() then
			obj:stop_talk()
			db.actor:stop_talk()
		end
		-- затем удаляем
		amk.start_timer("run", 0.2, "arhara_dialog.atp_sedoy_dell2()")
	end
end
function atp_sedoy_dell2()
	release("atp_mobil_torgovetz")
end

--' убираем вертуху Седого с атп
function atp_sedoy_heli_dell()
	release("atp_sedoy_heli")
end

--' заспавним имитатор перех. агро-болото
function agro_boloto_imitator()
	create("imitator_shar",xyz(-212.539,2.577,-293.192),23764,688)
end

--' заспавним имитатор перех. кордон-болото
function kopdon_boloto_imitator()
	create("imitator_shar",xyz(-247.803,-17.371,-204.223),10936,41)
end

--' убираём карту разведчика
function razved_karta_dell()
	release("razved_karta")
end

--' убираем дока с Припяти 
function prip_dok_arh_dell()
	release("prip_dok_arh")
end

--' заспавним имитатор финал Архара
function sp_imit_tele_final1()
	create("imitator_tele_final1",xyz(249.512,3.124,-257.802),426110,702)
--local obj = create("imitator_tele_final1",xyz(249.752,3.104,-257.517),426110,702)
	create("imitator_tele_final1",xyz(249.448,3.155,-257.985),426110,702)
	create("imitator_tele_final1",xyz(243.007,3.940,-245.595),424772,702)
--local obj = create("imitator_tele_final1",xyz(243.007,3.940,-245.595),424772,702)
--local obj = create("imitator_tele_final1",xyz(242.377,3.903,-245.665),424537,702)
	create("imitator_tele_final1",xyz(242.601,3.811,-245.950),424772,702)
end

--' спавним телепорт выхода ГГ с финала 
function spawn_teleport_final_vorota()
local se_obj = create("m_teleport_final_vorota",xyz(193.4518737793,3.6606612205505,-247.07885742188),404687,692)
end

--' убираем имитаторы телеп финала
function imitat_tele_final1_dell()
	release("imitator_tele_final1")
end

--' убираем 2финальную вертуху с Агры
function dell_agro_final_heli2()
	release("agro_final_vert2")
end

--' убираем 1финальную вертуху с Агры
function dell_agro_final_heli1()
	release("agro_final_vert1")
end

--' убираем пассажиров 1 финальной вертухи
function delete_ludi_vert1()
	release("kapitan_agro")
	release("kuzhetsov")
	release("final_barman")
	release("final_saharov")
	release("final_klenov")
	release("final_voronin")
	release("final_petrenko")
	release("final_dan")
	release("final_borov")
end

--' убираем пассажиров 2 финальной вертухи
function delete_ludi_vert2()
	release("final_shade_mono")
	release("final_shaxter")
	release("final_otshelnik")
	release("final_akim")
	release("final_holod")
	release("final_chimaera")
	release("final_kolmogor")
	release("final_ara")
	release("final_lukash")
	release("final_krot")
end

--' убираем группу стрелка
function delete_gpuppa()
	release("final_prizrak")
	release("final_dok_arh")
	release("final_piligrim")
	release("final_muxa")
end

--' убираем финального Архару 
function final_arhara_dell()
	release("final_arhara")
end

--' убираем финального Клыка 
function dell_kluk_final()
	release("final_kluk")
end

--' заспавним имитатор финал группы
function sp_imit_tele2_final2()
local obj = create("imitator_tele_final1",xyz(265.387,5.630,-246.141),431101,702)
--local obj = create("imitator_tele_final1",xyz(265.753,5.494,-246.658),431248,702)
--local obj = create("imitator_tele_final1",xyz(265.200,5.716,-245.815),431102,702)
local obj = create("imitator_tele_final1",xyz(265.532,5.796,-245.531),431102,702)
end

--' убираем Призрака
function delete_final_prizrak()
	release("final_prizrak")
end

--' убираем дока
function delete_final_dok_arh()
	release("final_dok_arh")
end

--' убираем Пили
function delete_final_piligrim()
	release("final_piligrim")
end
---------------------------------------------------------------------------------------------------------
local tabl_art_v_buliz = { 
    ["af_armor_1"] = 0.4,
    ["af_armor_2"] = 0.3,
    ["af_armor_3"] = 0.2,
    ["af_armor_4"] = 0.1,
    ["af_babka_1"] = 0.4,
    ["af_babka_2"] = 0.3,
    ["af_babka_3"] = 0.2,
    ["af_babka_4"] = 0.1,
    ["af_cry_1"] = 0.4,
    ["af_cry_2"] = 0.2,
    ["af_cry_3"] = 0.1,
    ["af_dik_1"] = 0.4,
    ["af_dik_2"] = 0.3,
    ["af_dik_3"] = 0.2,
    ["af_dik_4"] = 0.1,
    ["af_kol_1"] = 0.4,
    ["af_kol_2"] = 0.3,
    ["af_kol_3"] = 0.2,
    ["af_kol_4"] = 0.1,
    ["af_pudd_1"] = 0.4,
    ["af_pudd_2"] = 0.3,
    ["af_pudd_3"] = 0.2,  
    ["af_pudd_4"] = 0.1,
    ["af_simbion"] = 0.4,
    ["af_spirit_1"] = 0.4,
    ["af_spirit_2"] = 0.3,
    ["af_spirit_3"] = 0.2,
    ["af_spirit_4"] = 0.1,
    ["af_caterpillar"] = 0.3,
    ["af_eye_voron"] = 0.2,
    ["af_night_star"] = 0.6,
    ["af_gold_fish"] = 0.6,
    ["af_cristall"] = 0.6,
    ["af_soul"] = 0.6,
    ["af_electra_moonlight"] = 0.6,
    ["af_ameba_mica"] = 0.6,
    ["af_dummy_spring"] = 0.6,
    ["af_dummy_pellicle"] = 0.6,
    ["af_dummy_battery"] = 0.6,
    ["af_dummy_dummy"] = 0.6,
    ["af_dummy_glassbeads"] = 0.6,
    ["af_rusty_sea-urchin"] = 0.6,
    ["af_fuzz_kolobok"] = 0.6
    }
local art_v_buliz_virogdeno_count = 0 -- количество вырожденных артефактов

--' радар арты пришли в негодность
function radar_udalyem_art()
    art_v_buliz_virogdeno_count = 0
    for a,v in pairs(tabl_art_v_buliz) do
        --если вероятность вырождения "сработала"
        if math.random() < v then
            --а сколько у ГГ этих артов то ?
            aCount = 0
            db.actor:iterate_inventory(function (dummy, vItem)
                if vItem:section() == a then
                    aCount = aCount + 1 
                end 
            end, nil)
              --есть такие арты
            if aCount >= 1 then 
                lost(a, 1)
                art_v_buliz_virogdeno_count = art_v_buliz_virogdeno_count + 1
            end
        end
    end
end
--' получим  булыжники
function taik_bul(first_speaker, second_speaker) 
    for i=1,art_v_buliz_virogdeno_count,1 do
        got("af_buliz")
    end
end
------------------------------------------------------------------------------------------------------------------
--' пьём водку
function xrypnem_sto_gramm()
level.add_pp_effector("alcohol.ppe", 3000, false)
end
---------------------------------------------------------------------------------------------------------
local tabl_laba_v_buliz = { 
    ["af_armor_1"] = 1,
    ["af_armor_2"] = 1,
    ["af_armor_3"] = 1,
    ["af_armor_4"] = 1,
    ["af_babka_1"] = 1,
    ["af_babka_2"] = 1,
    ["af_babka_3"] = 1,
    ["af_cry_1"] = 1,
    ["af_cry_2"] = 1,
    ["af_cry_3"] = 1,
    ["af_dik_1"] = 1,
    ["af_dik_2"] = 1,
    ["af_dik_3"] = 1,
    ["af_dik_4"] = 1,
    ["af_kol_1"] = 1,
    ["af_kol_2"] = 1,
    ["af_kol_3"] = 1,
    ["af_kol_4"] = 1,
    ["af_pudd_1"] = 1,
    ["af_pudd_2"] = 1,
    ["af_pudd_3"] = 1,  
    ["af_pudd_4"] = 1,
    ["af_simbion"] = 1,
    ["af_spirit_1"] = 1,
    ["af_spirit_2"] = 1,
    ["af_spirit_3"] = 1,
    ["af_spirit_4"] = 1,
    ["af_caterpillar"] = 1,
    ["af_vyvert_green"] = 1,
    ["af_blood_green"] = 1 
 }
local laba_v_buliz_virogdeno_count = 0 -- количество вырожденных артефактов

--' х18 арты пришли в негодность
function laba_dell_art()
    laba_v_buliz_virogdeno_count = 0
    for a,v in pairs(tabl_laba_v_buliz) do
        --если вероятность вырождения "сработала"
        if math.random() < v then
            --а сколько у ГГ этих артов то ?
            aCount = 0
            db.actor:iterate_inventory(function (dummy, vItem)
                if vItem:section() == a then
                    aCount = aCount + 1 
                end 
            end, nil)
              --есть такие арты
            if aCount >= 1 then 
                lost(a, 1)
                laba_v_buliz_virogdeno_count = laba_v_buliz_virogdeno_count + 1
            end
        end
    end
end
--' получим  булыжники
function laba_bul(first_speaker, second_speaker) 
    for i=1,laba_v_buliz_virogdeno_count,1 do
        got("af_buliz")
    end
end
------------------------------------------------------------------------------------------------------------------
local tabl_laba_v_spiral = { 
    ["af_armor_1"] = 1,    
    ["af_cry_1"] = 1,    
    ["af_dik_1"] = 1,    
    ["af_kol_1"] = 1,    
    ["af_pudd_1"] = 1,    
    ["af_spirit_1"] = 1,    
    ["af_caterpillar"] = 1 
 }
local laba_v_spiral_virogdeno_count = 0 -- количество вырожденных артефактов

--' замена артов в Х-10
function laba_del_artu()
    laba_v_spiral_virogdeno_count = 0
    for a,v in pairs(tabl_laba_v_spiral) do
        --если вероятность вырождения "сработала"
        if math.random() < v then
            --а сколько у ГГ этих артов то ?
            aCount = 0
            db.actor:iterate_inventory(function (dummy, vItem)
                if vItem:section() == a then
                    aCount = aCount + 1 
                end 
            end, nil)
              --есть такие арты
            if aCount >= 1 then 
                lost(a, 1)
                laba_v_spiral_virogdeno_count = laba_v_spiral_virogdeno_count + 1
            end
        end
    end
end
--' получим спиральки
function laba_spir(first_speaker, second_speaker) 
    for i=1,laba_v_spiral_virogdeno_count,1 do
        got("af_spiral")
    end
end
------------------------------------------------------------------------------------------------------------------
local tabl_forest_v_izom = { 
    ["ammo_12x76_zhekan"] = 1
 }
local forest_v_izom_virogdeno_count = 0 

--' замена патронов в кр. лесу
function forest_del_pistonu()
    forest_v_izom_virogdeno_count = 0
    for a,v in pairs(tabl_forest_v_izom) do
        if math.random() < v then
            db.actor:iterate_inventory(function (actor, vItem)
                if vItem:section() == a then
                    amk.remove_item_from_inventory(vItem, actor)
                    forest_v_izom_virogdeno_count = forest_v_izom_virogdeno_count + 1
                end 
            end, db.actor)
        end
    end
end
--' получим изоморфные пистоны
function forest_izom_est(first_speaker, second_speaker) 
    for i=1,forest_v_izom_virogdeno_count,1 do
        got("ammo_zhekan_izomorf")
    end
end
--' получим псевдоизоморф кристалл
function psevdokristall_have(first_speaker, second_speaker)
	got("psevdokristall")
end
--' убираем псевдоизоморф кристалл
--function dell_psevdokristall()
--lost("psevdokristall",1)
--end
------------------------------------------------------------------------------------------------------------------
local tabl_mozg_v_izom = { 
    ["preplastilin"] = 1
 }
local mozg_v_izom_virogdeno_count = 0 

--' замена препластилина
function mozg_del_preplastilin()
    forest_v_izom_virogdeno_count = 0
    for a,v in pairs(tabl_mozg_v_izom) do
        if math.random() < v then
            db.actor:iterate_inventory(function (actor, vItem)
                if vItem:section() == a then
                    amk.remove_item_from_inventory(vItem, actor)
                    mozg_v_izom_virogdeno_count = mozg_v_izom_virogdeno_count + 1
                end 
            end, db.actor)
        end
    end
end
--' получим пластилин
function mozg_plastilin_est(first_speaker, second_speaker) 
    for i=1,mozg_v_izom_virogdeno_count,1 do
        got("izomorf_plastilin")
    end
end
------------------------------------------------------------------------------------------------------------------
local tabl_otnimem_oruzhie = { 
    ["wpn_vintorez"] = 1, ["wpn_val_voron"] = 1, ["wpn_scar_mk17"] = 1, ["wpn_scar_snip"] = 1, ["wpn_scar_792"] = 1, ["wpn_akm_m3"] = 1, ["wpn_vepr545"] = 1, ["wpn_mp153"] = 1, ["wpn_mp153pract"] = 1, ["wpn_scar_mk16"] = 1, ["wpn_sl8"] = 1, ["wpn_hawk"] = 1, ["wpn_hk417_camo"] = 1, ["wpn_sayga_al"] = 1, ["wpn_vintorez_m1"] = 1, ["wpn_20w_vintorez"] = 1, ["wpn_vintorez_ves"] = 1, ["wpn_svd"] = 1, ["wpn_svd_ves"] = 1, ["wpn_svd_m1"] = 1, ["wpn_svd_m2"] = 1, ["wpn_svd_m3"] = 1, ["wpn_svu"] = 1, ["wpn_vihlop_m1"] = 1, ["wpn_svu_m1"] = 1,["wpn_svu_ves"] = 1, ["wpn_lr300"] = 1, ["wpn_lr300_m1"] = 1, ["wpn_lr300_kalibr"] = 1, ["wpn_lr300_otdaca"] = 1, ["wpn_lr300_kalibr_ves"] = 1, ["wpn_lr300_otdaca_ves"] = 1, ["wpn_lr300_ves"] = 1,["wpn_famas_p3_sk1"] = 1, ["wpn_famas_p3_sk1_kalibr"] = 1, ["wpn_famas_p3_sk1_otdaca"] = 1, ["wpn_famas_p3_sk1_kalibr_ves"] = 1,    ["wpn_famas_p3_sk1_otdaca_ves"] = 1, ["wpn_famas_p3_sk1_ves"] = 1, ["wpn_l85"] = 1, ["wpn_l85_m1"] = 1,  ["wpn_l85_m2"] = 1, ["wpn_l85_kalibr"] = 1, ["wpn_l85_otdaca"] = 1, ["wpn_l85_kalibr_ves"] = 1,   ["wpn_l85_otdaca_ves"] = 1,["wpn_l85_ves"] = 1, ["wpn_ak103"] = 1, ["wpn_sig_m1"] = 1, ["wpn_sig_m2"] = 1, ["wpn_sig550"] = 1, ["wpn_sig550_kalibr"] = 1, ["wpn_sig550_otdaca"] = 1, ["wpn_sig550_kalibr_ves"] = 1, ["wpn_sig550_otdaca_ves"] = 1, ["wpn_sig550_ves"] = 1, ["wpn_sg552_sk1"] = 1, ["wpn_sg552_sk1_kalibr"] = 1, ["wpn_sg552_sk1_otdaca"] = 1, ["wpn_sg552_sk1_kalibr_ves"] = 1, ["wpn_sg552_sk1_otdaca_ves"] = 1, ["wpn_sg552_sk1_ves"] = 1, ["wpn_awm"] = 1, ["wpn_awm_ves"] = 1, ["wpn_m16a2_sk1"] = 1, ["wpn_m16a2_sk12"] = 1, ["wpn_m16a2_sk1_kalibr"] = 1, ["wpn_m16a2_sk1_otdaca"] = 1,["wpn_m16a2_sk1_kalibr_ves"] = 1, ["wpn_m16a2_sk1_otdaca_ves"] = 1, ["wpn_m16a2_sk1_ves"] = 1, ["wpn_hk417_sk1"] = 1,    ["wpn_hk417_sk1_otdaca"] = 1, ["wpn_hk417_sk1_otdaca_ves"] = 1, ["wpn_hk417_sk1_ves"] = 1, ["wpn_sr25_mk11_mod0_sk1"] = 1, ["wpn_sr25_mk11_mod0_sk1_otdaca"] = 1, ["wpn_sr25_mk11_mod0_sk1_otdaca_ves"] = 1,    ["wpn_sr25_mk11_mod0_sk1_ves"] = 1, ["wpn_ak105"] = 1, ["wpn_zastava_m77"] = 1, ["wpn_vihlop_m1"] = 1, ["wpn_zastava_m76"] = 1, ["wpn_gauss"] = 1, ["wpn_gauss_krayzis"] = 1, ["wpn_val"] = 1, ["wpn_val_m1"] = 1, ["wpn_val_m2"] = 1, ["wpn_val_ves"] = 1, ["wpn_ak74"] = 1, ["wpn_ak74_kalibr"] = 1, ["wpn_ak74_otdaca"] = 1, ["wpn_ak74_kalibr_ves"] = 1, ["wpn_ak74_otdaca_ves"] = 1, ["wpn_ak74_ves"] = 1, ["wpn_awm_ves"] = 1, ["wpn_ak47"] = 1, ["wpn_ak47_otdaca"] = 1, ["wpn_ak47_otdaca_ves"] = 1, ["wpn_ak47_ves"] = 1, ["wpn_fn2000"] = 1, ["wpn_fn2000_old"] = 1, ["wpn_fn2000_kalibr"] = 1, ["wpn_fn2000_otdaca"] = 1, ["wpn_fn2000_kalibr_ves"] = 1, ["wpn_fn2000_otdaca_ves"] = 1, ["wpn_fn2000_ves"] = 1, ["wpn_abakan"] = 1, ["wpn_abakan_m1"] = 1, ["wpn_abakan_m2"] = 1, ["wpn_abakan_kalibr"] = 1, ["wpn_abakan_otdaca"] = 1, ["wpn_abakan_kalibr_ves"] = 1, ["wpn_abakan_otdaca_ves"] = 1, ["wpn_abakan_ves"] = 1, ["wpn_groza"] = 1, ["wpn_groza_m1"] = 1, ["wpn_groza_m2"] = 1, ["wpn_groza_m3"] = 1, ["wpn_groza_ves"] = 1, ["wpn_mg42"] = 1, ["wpn_xm8_para_sk2"] = 1, ["wpn_m_134"] = 1, ["wpn_m134"] = 1, ["wpn_m4"] = 1, ["wpn_m4_kalibr"] = 1, ["wpn_m4_kalibr_ves"] = 1, ["wpn_m4_otdaca"] = 1, ["wpn_m4_otdaca_ves"] = 1, ["wpn_m4_ves"] = 1, ["wpn_pkm"] = 1, ["wpn_pkm_ves"] = 1, ["wpn_akm_ves_otdaca"] = 1, ["wpn_akms"] = 1, ["wpn_akms_m1"] = 1, ["wpn_aks74"] = 1,  ["wpn_aks74_kalibr_ves_otdaca"] = 1, ["wpn_g36c"] = 1, ["wpn_fn_fal_c1"] = 1, ["wpn_g36"] = 1, ["wpn_g36_kalibr"] = 1, ["wpn_g36_otdaca"] = 1, ["wpn_g36_kalibr_ves"] = 1, ["wpn_g36_otdaca_ves"] = 1, ["wpn_g36_ves"] = 1, ["wpn_g36_m1"] = 1, ["wpn_toz34"] = 1, ["wpn_wpn_toz34_ves"] = 1, ["wpn_protecta"] = 1, ["wpn_protecta_ves"] = 1, ["wpn_m4super90"] = 1, ["wpn_m4super90_ves"] = 1, ["wpn_saiga12c"] = 1,["wpn_saiga12c_ves"] = 1, ["wpn_rg-6"] = 1, ["wpn_rg6_m1"] = 1, ["wpn_walther_wa2000"] = 1, ["wpn_b94"] = 1, ["wpn_b94_ves"] = 1, ["wpn_ak74_m1"] = 1, ["wpn_aks74m"] = 1, ["wpn_aks74m_kalibr"] = 1, ["wpn_aks74m_otdaca"] = 1, ["wpn_aks74m_kalibr_ves"] = 1, ["wpn_aks74m_otdaca_ves"] = 1, ["wpn_aks74m_ves"] = 1, ["wpn_gravigun"] = 1, ["wpn_dark_gauss"] = 1, ["wpn_gauss2b"] = 1, ["wpn_bizon"] = 1, ["wpn_bizon1"] = 1, ["wpn_ak47_sk1"] = 1, ["wpn_ak104"] = 1, ["wpn_ak203"] = 1, ["wpn_akm203_pso"] = 1, ["wpn_aug_a1"] = 1, ["wpn_aug_a2"] = 1, ["wpn_fn2000_paratrooper"] = 1, ["wpn_ognemet"] = 1, ["wpn_rem870_magnum"] = 1, ["wpn_sayga12k"] = 1, ["wpn_vihlop"] = 1, ["wpn_b94_sil"] = 1, ["wpn_vsk94"] = 1, ["wpn_oicw"] = 1, ["wpn_sbr"] = 1, ["wpn_acr"] = 1, ["wpn_ak74u_svd"] = 1, ["wpn_awp"] = 1, ["wpn_awp_m1"] = 1, ["wpn_aa12_m1"] = 1, ["wpn_ak74_m3"] = 1, ["wpn_ak104t"] = 1, ["wpn_aks47"] = 1, ["wpn_aks74_m2"] = 1, ["wpn_hostel"] = 1, ["wpn_cz550"] = 1, ["wpn_m4_m1"] = 1, ["wpn_mkb_42"] = 1, ["wpn_akm_sk2"] = 1, ["wpn_kord"] = 1, ["wpn_kord_m1"] = 1, ["wpn_mossberg590"] = 1, ["wpn_rpk47_sk1"] = 1, ["wpn_rpk74_sk1"] = 1, ["wpn_stg44"] = 1, ["wpn_peceneg"] = 1, ["wpn_ak9"] = 1, ["wpn_sayga12_sk1"] = 1, ["wpn_browningauto5"] = 1, ["wpn_vepr12_m1"] = 1, ["wpn_vepr12_col"] = 1, ["wpn_vepr12_20"] = 1, ["wpn_vepr"] = 1, ["wpn_sg550_sr"] = 1, ["wpn_aa12"] = 1, ["wpn_protecta_col"] = 1, ["wpn_ak47_md"] = 1, ["wpn_ak47_sh"] = 1, ["wpn_ak74_m2"] = 1, ["wpn_ak108"] = 1, ["wpn_ak107"] = 1, ["wpn_ak107_m1"] = 1, ["wpn_ak109"] = 1, ["wpn_ak12"] = 1, ["wpn_aek973"] = 1, ["wpn_akms_m2"] = 1, ["wpn_akm_m1"] = 1, ["wpn_vihlop_m2"] = 1, ["wpn_ash12"] = 1, ["wpn_vepr12"] = 1, ["wpn_g3_otdaca_ves"] = 1, ["wpn_aek973_otdaca_ves"] = 1, ["wpn_akms_otdaca_ves"] = 1, ["wpn_ognemet_m1"] = 1, ["wpn_gauss_ves"] = 1, ["wpn_sr3t"] = 1, ["wpn_usas12"] = 1, ["wpn_sayga_un"] = 1, ["wpn_m500_custom"] = 1, ["wpn_m4_a3"] = 1, ["wpn_m249"] = 1, ["wpn_g3"] = 1, ["wpn_g3sg1"] = 1, ["wpn_g41"] = 1, ["wpn_rpk47_bub"] = 1, ["wpn_rpk47_m1"] = 1, ["wpn_scar_cry"] = 1, ["wpn_hk53_a3"] = 1, ["wpn_sks_s"] = 1, ["wpn_vint14"] = 1, ["wpn_m4a1"] = 1, ["wpn_hk416"] = 1, ["wpn_groza_sn"] = 1, ["wpn_shmel"] = 1, ["wpn_m16a2"] = 1, ["wpn_rpkm40"] = 1, ["wpn_rpkcstmcol"] = 1, ["wpn_rpkcustom"] = 1, ["wpn_sig552camo"] = 1, ["wpn_sks_cust"] = 1, ["wpn_benelli_m3"] = 1, ["wpn_benelli_m3_tactik"] = 1, ["wpn_v94"] = 1, ["wpn_ksvk"] = 1, ["wpn_rpg7"] = 1, ["meceniy_outfit_new"] = 1, ["arhara_tele"] = 1, ["device_teleport"] = 1, ["hand_teleporter"] = 1, ["wpn_addon_acog"] = 1, ["wpn_addon_scope_pks07"] = 1, ["wpn_addon_scope"] = 1, ["wpn_addon_pu_scope"] = 1       
 }
local otnimem_oruzhie_virogdeno_count = 0 -- количество отнятых стволов

function oruzhie_delet()
    otnimem_oruzhie_virogdeno_count = 0
    for a,v in pairs(tabl_otnimem_oruzhie) do
        --если вероятность вырождения "сработала"
        if math.random() < v then
            --а сколько у ГГ стволов то ?
            aCount = 0
            db.actor:iterate_inventory(function (dummy, vItem)
                if vItem:section() == a then
                    aCount = aCount + 1 
                end 
            end, nil)
            if aCount >= 1 then 
                lost(a, 10)
                otnimem_oruzhie_virogdeno_count = otnimem_oruzhie_virogdeno_count + 1
            end
        end
    end
end
------------------------------------------------------------------------------------------------------------------

--' заспавним БПБ в гроте
function bpb_spawn()
local obj = create("recipi_bpb",xyz(-129.441,22.309,472.120),147706,2973)
end

--' удаляем таймер базы на Генераторах
function del_baza_doza_timer(story_id)
	release(story_object(17017))
	sms("Смертельная зона защиты базы дезактивирована", nil, nil, 30000)
end

--' удаляем таймер подстанции на Генераторах
function del_podstanziy_doza_timer(story_id)
	release(story_object(17018))
	sms("Смертельная зона защиты подстанции базы дезактивирована", nil, nil, 30000)
end

function disabl_weapon(actor, npc)
    db.actor:hide_weapon()
end
function enabl_weapon(actor, npc)
    db.actor:restore_weapon()
end

function disabl_karta(actor, npc)
    level.hide_indicators()
end
function enabl_karta(actor, npc)
    level.show_indicators()
end

--' убираем хели-блак с Генераторов
function dell_gener_heli_black()
	release("generators_heli_black")
end

--' убираем верт Звездочёта с Генераторов
function dell_gener_heli_zvez()
	release("gener_heli_zvez_pobeg")
end

--' Отдадим ключ от секретки авера
function otdal_kluch_dell_telep2(first_speaker, second_speaker)
	lost("kluch_dell_teleport2",1)
end

--' проверим наличие ак Стрелка
function adr_est_ak()
	return has("wpn_ak74_m1",1)
end

--' проверим наличие финансов для Адреналина
function adren_have_money_30000(actor,npc)
    return actor:money() > 30000
end

--' отдадим бабло
function adr_give_mon_30000(t1,t2)
lost_money(30000)
end

--' отдадим слом ак и получим новый
function otdat_vzyt_ak(first_speaker, second_speaker)
	lost("wpn_ak74_m1",1)
	got("wpn_ak74_m1")
end

--' мешок охотника на кордоне
function sp_new_inventory33()
	create("m_inventory_box33", xyz(-11.449318885803,6.0457949638367,56.734508514404),265783,88)
end

--' проверим наличие запчастей для Захара
function zapchasti_est_vse() 
	return has("part_psevdogigant_hand",15) and
has("part_fracture_hand",20) and
has("part_hand_kontroler",10) and
has("part_flesh_eye",30) and
has("part_krovosos_jaw",15)
  end

--' отдадим запчасти Захару
function zaxar_chasti_mutantov(first_speaker, second_speaker)
	lost("part_psevdogigant_hand",15)
	lost("part_fracture_hand",20)
	lost("part_hand_kontroler",10)
	lost("part_flesh_eye",30)
	lost("part_krovosos_jaw",15)
end

--' получим арбалет и стрелы от Сепатора и спавним мешок
function arbalet_dal(first_speaker, second_speaker)
	got("wpn_crossbow")
	got("ammo_arbolt",1)
	create("m_inventory_box33", xyz(-8.776,7.324,57.807),267145,88)
end

--' Захар дал арт, СВУ и патроны
function zaxar_kvest_ok()
	got("af_eye_voron",1)
	got("wpn_svu",1)
	got("ammo_7.62x54_ap",1)
end

--' убираем Сепатора и Ко
function delete_sepator()
	release("esc_hunter_zaschita_2")
	release("esc_hunter_zaschita_1")
	release("esc_hunter_zaschita_3")
end

--' убираем хели-батя с Янтаря
function dell_yantar_heli_baty()
	release("yantar_heli_baty")
end

--' убираем Батю
function delete_yantar_baty()
	release("yantar_baty")
end

--' Сахар дал спецдетектор
function sah_dal_detektor(first_speaker, second_speaker)
	got("detektor_baty")
end

--' проверим наличие детектора и кассеты
function baty_zadanie_have()
	return has("video_kasseta",1) and
has("detektor_baty",1)
end

--' отдадим детектор и кассету и получим миниган
function baty_zadanie_done(first_speaker, second_speaker)
	lost("video_kasseta",1)
	lost("detektor_baty",1)
	got("wpn_m_134_baty")
end

--' спавним видеокассету
function spawn_videokassete()
	create("video_kasseta",xyz(-200.300,-0.001,140.272),26777,1367)
end

function checking_taken_item38(obj)
    if obj:section()=="video_kasseta" then delete_dt_zone_zvuk(obj)
 end
end
function delete_dt_zone_zvuk(story_id)
	release(story_object(17019))
	sms("Найдена видеокассета", nil, nil, 20000)
end

--' ГГ друг вояк
function drug_bati(actor, npc)
if db.actor ~= nil then
db.actor:set_character_community("stranger", 0, 0)
local chkgoodwill = relation_registry.community_goodwill("military", db.actor:id())
if chkgoodwill < 0 then 
chkgoodwill = chkgoodwill + 1600
relation_registry.set_community_goodwill ("military", db.actor:id(), chkgoodwill)
else
relation_registry.set_community_goodwill ("military", db.actor:id(), 1600)
end
end
end

--' сделаем ГГ нейтралом и портим отношения с вояками
function vrag_voyk(actor, npc)
if db.actor ~= nil then
db.actor:set_character_community("stalker", 0, 0)
local chkgoodwill = relation_registry.community_goodwill("military", db.actor:id())
if chkgoodwill > 0 then 
chkgoodwill = chkgoodwill - 1700
relation_registry.set_community_goodwill ("military", db.actor:id(), chkgoodwill)
else
relation_registry.set_community_goodwill ("military", db.actor:id(), - 1700)
end
end
end

--' заспавним чёртов гранатомёт скриптом. Теперь он спавнится в ящике через алспаун, поэтому этот спавн не нужен.
function wpnrg_spawn()
--	local obj = create("wpn_rg-6",xyz(-274.552,-27.472,245.413),22,1545)
end

--' проверим наличие финансов для Бармена
function dvenadzat_shtuk(actor,npc)
    return actor:money() > 12000
end

--' отдадим деньги за ремонт ПДА
function dengi_remont_otdal(t1,t2)
	lost_money(12000)
end

--' отдадим сломанный ПДА
function pda_mechenyi_otdal(first_speaker, second_speaker)
	lost("device_pda",1)
end

--' заберём ПДА у Доцента
function dosemt_pda_zabral(first_speaker, second_speaker)
	got("device_pda")
	amk.start_timer("run", 25, "arhara_dialog.pda_sdelan_sms()")	-- таймер вместо рестриктора
	disable_info("pda_dont_work")	-- на случай, если пришли не в первый раз
end

--' спавним скелета у монолита
function spawn_skelel_monolit()
	create("scelet_strong",xyz(41.192,57.215,33.114),6321,2417)
end

--' спавним детектор изоморфов
function spawn_detek_izo()
	create("detektor_amorf",xyz(68.187,14.302,178.736),56983,3020)
end

--' удаляем первого Призрака с генераторов
function delete_gen_prizrak()
  	release("generators_prizrak")
end


--' спавним блокнот Странника
function spawn_blokn_strann()
	create("strannik_bloknot",xyz(68.187,14.302,178.736),56983,3020)
end

--' спавним портал в бункере
function spawn_portal_control()
	create("imitator_shar",xyz(-42.175,-34.479,21.473),54,2509)
	create("imitator_tele_final1",xyz(-42.175,-34.479,21.473),54,2509)
	create("anomal_pole",xyz(-42.175,-34.479,21.473),54,2509)
	create("imitator_snezka",xyz(-42.175,-34.479,21.473),54,2509)
end

--' заспавним немного артов в бункере монолита
function spawn_control_monolit_art()
	create("af_spirit_1",xyz(36.298,-34.483,2.596),3835,2480)
	create("af_fireball",xyz(32.212,-34.481,12.353),3639,2515)
	create("af_cristall",xyz(19.893,-34.494,13.927),3067,2514)
	create("af_armor_2",xyz(36.546,-34.482,14.138),3837,2480)
end

--' парочка бюреров в бункере монолита
function control_monolit_burer()
	create("burer_strong",xyz(17.438,-34.483,13.185),2913,2514)
	create("m_poltergeist_dd",xyz(36.405,-34.483,13.768),3837,2480)
	create("m_controller_act",xyz(36.405,-34.483,13.768),3837,2480)
end

--' спавним псевдышей в Лиме
function spawn_lima_psevdushi()
	create("gigant_strong",xyz(67.401,3.297,285.837),57187,3022)
	create("gigant_big_strong",xyz(57.739,3.310,268.578),54208,3022)
	create("gigant_red_strong",xyz(97.760,2.900,262.609),60715,3022)
end

--' спавним изоморфные патроны в Лиме
function spawn_izo_pistonu()
	create("ammo_5.45x39_izomorf",xyz(93.017,7.342,244.933),60324,3021)
	create("ammo_5.45x39_izomorf",xyz(93.017,7.342,244.933),60324,3021)
	create("ammo_5.45x39_izomorf",xyz(93.017,7.342,244.933),60324,3021)
end

--' спавним фоторужьё в Саркофаге
function spawn_fotoruzhy()
	create("wpn_svd_foto",xyz(-21.648,69.634,-31.996),598,2417)
	create("anomal_pole_foto",xyz(-21.546,69.630,-31.632),598,2417)
	create("bloknot_neizvestnogo",xyz(-21.546,69.630,-31.632),598,2417)
end

--' спавним фотографию в Саркофаге
function spawn_fotografiy_mono()
	create("foto_monolit",xyz(-21.153,69.636,-30.882),598,2417)
end

--' удаляем рестрикторы провала на задание с фото в Саркофаге
function del_proval_foto_restr(story_id)
	release(story_object(19019))
	release(story_object(19020))
	release(story_object(19021))
end

--' заспавним имитатор фотоперехода
function spawn_imit_tele_foto()
	create("imitator_tele_final1",xyz(-21.340,69.629,-31.520),598,2417)
end

--' проверяет наличие фотки
function odnonogiy_foto_have() 
	return has("foto_monolit",1)
  end

--' проверяет наличие псевдофотки
function psewdofoto_est() 
	return has("psewdofoto",1)
  end

--' проверим отсутствие псевдофотки
function psewdofoto_net()
	return has("psewdofoto",1) ~= true
  end

--' отдадим псевдофото одноногому
function otdal_psewdofoto(first_speaker, second_speaker)
	lost("psewdofoto",1)
end

--' заберём детектор изоморфов
function take_izo_detektor(first_speaker, second_speaker)
	got("detektor_amorf")
end

function metka_semetskiy()
local obj = server_object("stalk_semetskiy")
if obj then level.map_add_object_spot(obj.id, "blue_location", "Юрий Семецкий")
 end
end

--' отдадим фото Монолита Пилигриму
function otdal_foto_pili(first_speaker, second_speaker)
	lost("foto_monolit",1)
end

--' заберём псевдофото у Пили
function take_psewdofoto_pili(first_speaker, second_speaker)
	got("psewdofoto")
end

function spawn_bunker_sekret()
	create("mulyz_bomba",xyz(8.089,-23.447,14.072),7800,2773)
	create("mulyz_bomba",xyz(7.608,-23.439,13.871),7695,2773)
	create("osnova_fotik",xyz(7.210,-23.435,14.039),7695,2773)
	create("neizv_zapiska",xyz(6.511,-23.436,14.206),7431,2773)
end

--' удаляем рестриктор оживления радиста
function del_ozh_radista_restr(story_id)
	release(story_object(19023))
end

--' удаляем 2рестриктор оживления радиста
function del2_ozh2_radista2_restr2(story_id)
	release(story_object(19027))
end

--' кровосос в детском садике
function spawn_sos_sadik()
	create("bloodsucker_strong",xyz(136.796,3.935,-25.153),237691,2242)
end

--' глобус в детском садике и рюкзачок
function spawn_globus_sadik()
	create("izom_globus",xyz(132.621,3.935,-52.783),235074,2245)
	create("linza_fotik",xyz(137.245,3.980,-51.995),238095,2245)
local se_obj = create("m_inventory_box34", xyz(134.43992614746,3.9388103485107,-54.601131439209),236350,2245)
end

--' псевдыш после детс. садика
function spawn_gig_sadik()
	create("snork_nosach",xyz(63.161,-2.391,-66.476),174678,2137)
end

--' убираем Клыка и радиста из бункера
function delete_kluk_and_radist()
	release("stalk_radist")
	release("bunker_kluk")
end

--' убираем Клыка и радиста из Припяти
function delete_kluk_and_radist_pryp()
	local se_obj = server_object("radist_after")
	if se_obj then
		release(se_obj, true)
	end
	se_obj = server_object("pripyt_kluk")
	if se_obj then
		release(se_obj, true)
	end
end

--' убираем forest_lastday_snip1
function dell_forest_last_snip()
	release("forest_lastday_snip1")
end

--' проверим наличие частей фотика
function zapchasti_fotik_ok() 
	return has("osnova_fotik",1) and
has("linza_fotik",1) and
has("pushka_fotik",1)
end

--' отдадим запчасти фотика леснику
function zapchasti_fotik_otdal(first_speaker, second_speaker)
	lost("osnova_fotik",1)
	lost("linza_fotik",1)
	lost("pushka_fotik",1)
end

--' Леcник дал фотопистолет
function fotopistolet_have(first_speaker, second_speaker)
	got("wpn_eagle_m3")
end

--' проверим наличие финансов за снайпера
function lesnik_have_money_50000(actor,npc)
    return actor:money() > 50000
end

--' отдадим деньги Леснику
function lesnik_give_money_50000(t1,t2)
lost_money(50000)
end

--' спавним фотик у Лесника
function spawn_pushka_fot()
	create("pushka_fotik",xyz(29.470,4.654,25.713),83046,3263)
end

--' izomorf_kristal в лесу
function spawn_izomorf_krist()
	create("izomorf_kristal",xyz(219.859,-7.329,-94.606),139437,3315)
	create("imitator",xyz(220.545,-11.254,-101.263),139769,3315)
	create("anomal_pole",xyz(220.545,-11.254,-101.263),139769,3315)
	create("imitator_snezka",xyz(220.545,-11.254,-101.263),139769,3315)
	create("imitator_holodez",xyz(220.545,-11.254,-101.263),139769,3315)
end

--' заспавним собачек в кр лесу
function spawn_dog_to_red_forest()
	create("pseudodog_normal",xyz(198.575,5.418,118.760),129451,3319)
	create("pseudodog_big",xyz(198.575,5.418,118.760),129451,3319)
	create("volkodav",xyz(198.575,5.418,118.760),129451,3319)
	create("dog_habaruch",xyz(198.575,5.418,118.760),129451,3319)
	create("dog_habaruch",xyz(198.575,5.418,118.760),129451,3319)
	create("dog_habaruch",xyz(198.575,5.418,118.760),129451,3319)
	create("volkodav",xyz(198.575,5.418,118.760),129451,3319)
	create("volkodav",xyz(198.575,5.418,118.760),129451,3319)
end

--' заспавним мины в кр лесу
function spawn_mina_forest()
	local obj =  create("bomba_mina_b",xyz(200.102,4.937,117.763),130200,3319)
	amk.start_timer("babah_drop_mine", 0.2, {id = obj.id, sect = obj:section_name()})
	local obj =  create("bomba_mina_n",xyz(202.781,4.677,117.218),131707,3319)
	amk.start_timer("babah_drop_mine", 0.2, {id = obj.id, sect = obj:section_name()})
end

--' заспавним кактус
--function spawn_kaktus_izo()
--local obj = create("kaktus_izomorf",xyz(14.118,-0.538,23.657),6732,3215)
--end

--' проверим наличие мнимого фотопистолета
function fotopushka_est()
	return has("wpn_eagle_m3",1)
  end

--' отдадим фотик Клёнову на модернизацию
function modernizasiy_fotik(first_speaker, second_speaker)
	lost("wpn_eagle_m3",1)
end

--' Клёнов дал рабочий заряженный фотик и спавн кактуса
function fotopatronu_dal(first_speaker, second_speaker)
	got("wpn_eagle_m2")
create("kaktus_izomorf",xyz(14.118,-0.538,23.657),6732,3215)
end

--' получим фотку мозга
function fotka_mozga_have(first_speaker, second_speaker)
if not has_info("fotka_mozga_have") then
	got("foto_mozg_x16")
	arhara_dialog.foto_mozg_ok_sms()
	give_info("fotka_mozga_have")
end
end

--' ГГ друг зомбарей
function drug_psss(actor, npc)
if db.actor ~= nil then
db.actor:set_character_community("stranger", 0, 0)
local chkgoodwill = relation_registry.community_goodwill("zombied", db.actor:id())
if chkgoodwill < 0 then 
chkgoodwill = chkgoodwill + 6000
relation_registry.set_community_goodwill ("zombied", db.actor:id(), chkgoodwill)
else
relation_registry.set_community_goodwill ("zombied", db.actor:id(), 6000)
give_info("xvatit_uzhe")
end
end
end
function checking_taken_item56(obj)
local info=nil
if not has_info("xvatit_uzhe") then
if obj:section()=="kaktus_izomorf" then drug_psss(obj)
end
end
end

--' ГГ враг зомбарей
function vrag_zombie(actor, npc)
if db.actor ~= nil then
db.actor:set_character_community("stalker", 0, 0)
local chkgoodwill = relation_registry.community_goodwill("zombied", db.actor:id())
if chkgoodwill > 0 then 
chkgoodwill = chkgoodwill - 6100
relation_registry.set_community_goodwill ("zombied", db.actor:id(), chkgoodwill)
else
relation_registry.set_community_goodwill ("zombied", db.actor:id(), - 6100)
end
end
end

--' убираем foto_monolitovets
function dell_foto_monolitovets()
	release("foto_monolitovets")
end

--' спавн живности в х16
function spawn_zivnost_x16()
	create("m_poltergeist_dd",xyz(-108.872,21.564,-23.246),266,1529)
	create("snork_stronger",xyz(-108.872,21.564,-23.246),266,1529)
	create("zombie_immortal",xyz(-115.406,21.564,-22.614),202,1529)
	create("electro_polter",xyz(-115.406,21.564,-22.614),202,1529)
	create("m_controller_act",xyz(-115.406,21.564,-22.614),202,1529)
	create("zombie_beee",xyz(-114.772,21.563,-37.471),223,1529)
	create("zombie_hell",xyz(-114.772,21.563,-37.471),223,1529)
	create("zombie_blow",xyz(-114.772,21.563,-37.471),223,1529)
	create("snork_stronger",xyz(-109.016,21.564,-37.757),295,1529)
	create("burer_strong",xyz(-106.343,21.782,-24.075),358,1529)
end

--' ЭХ в х16
function spawn_himera_x16()
	create("electro_chimera",xyz(-124.463,18.768,-21.276),84,1529)
	create("scelet_strong",xyz(-223.302,-18.648,-43.821),308,1458)
end

--' получим фотку аномального контрика
function fotka_kont_yazva_have(first_speaker, second_speaker)
if not has_info("fotka_kont_yazva_have") then 
	got("foto_kontroller_yazva")
	arhara_dialog.foto_mozg_ok_sms()
	give_info("fotka_kont_yazva_have")
end
end

--' проверим наличие фоток
function izomorf_dialog_have()
	return has("foto_kontroller_yazva",1) and
has("foto_mozg_x16",1)
end

--' проверим наличие 1фотоки контрика
function odna_fotka_kontrika()
	return has("foto_kontroller_yazva",1)
end

--' проверим наличие 1фотоки мозга
function odna_fotka_mozga()
	return has("foto_mozg_x16",1)
end

--' проверим отсутствие фотопистолета
function fotopushka_istin_net()
	return has("wpn_eagle_m2",1) ~= true
  end

--' проверим отсутствие фоток
function fotok_net_voobsche()
	return has("foto_kontroller_yazva",1) ~= true and
has("foto_mozg_x16",1) ~= true
  end

--' проверим отсутствие фотки контрика
function fotki_net_kontrollera()
	return has("foto_kontroller_yazva",1) ~= true
  end

--' проверим отсутствие фотки мозга
function fotki_net_mozga()
	return has("foto_mozg_x16",1) ~= true
  end

--' проверим отсутствие финансов
function net_pyati_shtuk(actor,npc)
    return actor:money() < 50000  
end

--' проверим наличие фотопистолета
function fotopushka_istinnay()
	return has("wpn_eagle_m2",1)
  end

--' отдадим фотик Клёнову 
function otdadim_fotik(first_speaker, second_speaker)
	lost("wpn_eagle_m2",1)
end

--' отдадим фотки Клёнову 
function otdal_fotki_vse(first_speaker, second_speaker)
	lost("foto_kontroller_yazva",1)
	lost("foto_mozg_x16",1)
end

--' отдадим фотку мозга Клёнову 
function otdal_fotku_mozga(first_speaker, second_speaker)
	lost("foto_mozg_x16",1)
end

--' отдадим фотку контрика Клёнову 
function otdal_fotku_kontroller(first_speaker, second_speaker)
	lost("foto_kontroller_yazva",1)
end

--' Клёнов дал изоморфные патроны
function klen_dal_pistonu(first_speaker, second_speaker)
	got("ammo_5.45x39_izomorf")
	got("ammo_9x39_izomorf")
	got("ammo_7.62x54_izomorf")
	got("ammo_zhekan_izomorf")
end

--' спавн антизомбина на Янтаре
function spawn_antizombin_yntar()
	create("antizombie",xyz(111.220,-8.769,-204.768),99041,1472)
	create("antizombie",xyz(111.194,-8.725,-204.325),99042,1472)
	create("antizombie",xyz(108.190,-8.870,-209.405),97185,1472)
end

--' проверим наличие антизомбина для Черномора
function antizombin_est()
	return has("antizombie",2)
  end

--' отдадим антизомбин
function antiz_otdal()
	lost("antizombie",2)
  end

--' убираем Черномора-зомби
function dell_chernomor_zombi()
	release("chernomor_zombi")
--	release("chernomor_zombi1")
end

--' изоморфы Черномора
function spawn_izomorfy_chernom()
	create("ammo_7.62x54_izomorf",xyz(-1.365,20.731,-10.072),38622,1525)
	create("ammo_7.62x54_izomorf",xyz(-1.365,20.731,-10.072),38622,1525)
	create("ammo_7.62x54_izomorf",xyz(-1.957,20.731,-9.989),38268,1525)
	create("ammo_7.62x54_izomorf",xyz(-1.957,20.731,-9.989),38268,1525)
	create("7.62x54_izomorf",xyz(-1.365,20.731,-10.072),38622,1525)
	create("7.62x54_izomorf",xyz(-1.957,20.731,-9.989),38268,1525)
	create("wa2000_izomorf",xyz(-1.906,20.731,-8.694),38991,1525)
end

--' получим снайперку Черномора
function ruzie_chern_have(first_speaker, second_speaker)
	got("wpn_walther_wa2000")
create("chimera_x_ray",xyz(11.763,0.031,-26.645),44985,1503)
end

--' заспавним сумку проверяющего
function spawn_chem_piyan()
	create("chemodan_piyan",xyz(-182.451,1.144,-305.586),53747,689)
end

--' проверим наличие 10 пузырей
function vodka_desyat_est()
	return has("vodka",10)
  end

--' отдадим пузыри часовому
function vodka_desyat_otdal()
	lost("vodka",10)
  end

--' проверим наличие водки
function pollitra_est()
	return has("vodka",1)
  end

--' проверим отсутствие водяры
function pollitra_net()
	return has("vodka",1) ~= true
  end

--' отдадим водку пьяному кепу
function otdal_odnu_vodku(first_speaker, second_speaker)
	lost("vodka",1)
 end

--' убираем трезвого кепа
function dell_trezv_kapit()
	release("trezv_kapitan")
end

--' Кузя дал 5 бутылок
function vodka_kuzy_dal(first_speaker, second_speaker)
	got("vodka",5)
end

--' проверим наличие чумодана для кузи
function kuzy_artmodifikator_have()
	return has("chemodan_piyan",1)
  end

--' проверим отсутствие чумодана для кузи
function kuzy_artmodifik_net()
	return has("chemodan_piyan",1) ~= true
  end

--' отдадим кейс кузнецову
function otdal_chumodaniscte(first_speaker, second_speaker)
	lost("chemodan_piyan",1)
 end

--' Кузя дал артмодификатор
function devays_kuzy_dal(first_speaker, second_speaker)
	got("amk_transmutator")
end

--' проверим наличие 25 пузырей водки
function pollitra_dvadtsatpyat()
	return has("vodka",25)
  end

--' отдадим 25 пузырей водки кузнецову
function otdal_dvadtsatpyat(first_speaker, second_speaker)
	lost("vodka",25)
 end

--' проверим наличие 40 пузырей водки
function pollitra_sorok()
	return has("vodka",40)
  end

--' отдадим 40 пузырей водки кузнецову
function otdal_sorok(first_speaker, second_speaker)
	lost("vodka",40)
 end

--' убирём с Агры пьяный мусор
function delete_agro_musor()
	release("agro_chsovoy_trezv")
	release("agro_piyn_soldier1")
	release("agro_piyn_soldier2")
	release("piyan_psevdovodka")
	release("piyan_psevdovodka1")
	release("piyan_psevdokolbasa")
	release("piyan_psevdoconserva")
	release("piyan_kapitan")
	release("piyan_psevdokalash")
	release("piyan_psevdoabakan")
end

--' мины для Пантеры на Кордоне
function spawn_bomba_i_mina()
	create("bomba_mina_b",xyz(-227.875,-28.802,-222.302),26467,40)
--local obj = create("bomba_mina_b",xyz(-229.103,-28.649,-222.109),25818,40)
	create("explosive_bomba",xyz(-228.545,-28.910,-223.067),26466,40)
end

--' убираем Пантеру с Кордона
function dell_esc_pantera()
	release("esc_pantera_bomba")
end

function sound_deaf_pantera(sound_name)
if sound_name then
if snd_obj and snd_obj:playing() then
snd_obj:stop()
end
snd_obj = voice([[characters_voice\scenario\arhara_kordon\po_snegu]])
if snd_obj then
snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
else
console:execute("load ~~~ ЗВУК НЕ НАЙДЕН: "..sound_name)
end
else
console:execute("load ~~~ ЗВУК НЕ ЗАДАН")
end
end

function proba_posulki()
	create("af_drops",xyz(-255.655,-23.377,-134.334),7894,5)
	create("klenov_opisalovo",xyz(-255.655,-23.377,-134.334),7894,5)
end

function posulka_nomer_dva()
	create("wpn_eagle_m2",xyz(-255.655,-23.377,-134.334),7894,5)
end

function sp_ploti_svalka()
local contr,habr
contr = amk.spawn_item("flesh_strong",xyz(-236.463,-1.910,171.242),343,13329)
repeat
habr = server_object(contr.id)
until ( habr~=nil )
create("wpn_desert_eagle",
habr.position,
habr.m_level_vertex_id,
habr.m_game_vertex_id,
habr.id)
create("pisma_stalka",
habr.position,
habr.m_level_vertex_id,
habr.m_game_vertex_id,
habr.id)
ai:create_ammo("ammo_11.43x23_hydro",
habr.position,
habr.m_level_vertex_id,
habr.m_game_vertex_id,
habr.id,
20)
amk.spawn_item("flesh_strong",xyz(-236.463,-1.910,171.242),343,13329)
amk.spawn_item("flesh_normal",xyz(273.645,1.435,147.333),257,378180)
amk.spawn_item("flesh_normal",xyz(273.645,1.435,147.333),257,378180)
amk.spawn_item("flesh_strong",xyz(273.645,1.435,147.333),257,378180)
amk.spawn_item("flesh_strong",xyz(210.098,0.399,-137.657),401,349493)
amk.spawn_item("flesh_strong",xyz(-78.291,-3.818,197.277),351,127104)
amk.spawn_item("flesh_normal",xyz(-78.291,-3.818,197.277),351,127104)
amk.spawn_item("flesh_normal",xyz(-78.291,-3.818,197.277),351,127104)
end

--' убираем Пантеру с отцом из Госпиталя
function dell_gospital_pantera2()
	release("hos_father_new")
	release("hos_new_panterka")
end

--' проверим наличие вещей сталкера
function plot_dialog_say_have()
	return has("pisma_stalka",1) and
has("wpn_desert_eagle",1)
end

--' отдадим вещи сталкера
function otdal_veschi(first_speaker, second_speaker)
	lost("wpn_desert_eagle",1)
	lost("pisma_stalka",1)
local se_obj = create("m_inventory_box35", xyz(52.520462036133,-0.035371631383896,-295.6975402832),221820,253)
 end

--' убираем запасного фото с кордона
function dell_zapasnoy_foto_muz()
	release("zapasnoy_foto_muzhik")
end

--' убираем основного фото с кордона
function dell_esc_foto_muzhik()
	release("esc_foto_muzhik")
end

--' Тушканы для шухера
function suher_tushk()
	create("tushkano_normal",xyz(-215.511,-19.960,-141.083),37916,61)
	create("tushkano_strong",xyz(-215.511,-19.960,-141.083),37916,61)
end

--' получим фотку убийцы с Кордона
function fotka_ubiysu_ok(first_speaker, second_speaker)
	got("shuher")
end

--' получим фотку лагеря новисов от Черномора
function fotka_kordon_dal(first_speaker, second_speaker)
	got("foto_kordon")
end

--' проверим наличие фотки убийцы с Кордона
function fotka_ubiysu_esc_est()
	return has("shuher",1)
  end

--' отдадим фотку убийцы отцу
function otdal_kartinku(first_speaker, second_speaker)
	lost("shuher",1)
 end

--' убираем одноногого с Генераторов
function dell_odnonogiy()
	release("odnonogiy_stalk")
end

--' получим фотку убийцы с Милилитари
function fotka_kisluy_ok(first_speaker, second_speaker)
	got("kisluy")
end

--' убираем military_fotomuzhik
function dell_milit_fotomuzhik()
	release("military_fotomuzhik")
end

--' убираем military_fotomuzhik запас
function dell_milit_zapas_fotomuz()
	release("milit_zapas_fotomuzhik")
end

--' Тушканы для Кислого
function militar_tushk()
	create("tushkano_normal",xyz(-51.788,-10.182,21.075),257887,1607)
	create("tushkano_strong",xyz(-51.788,-10.182,21.075),257887,1607)
end

--' убираем Шухера с кордона
function dell_stalk_shuher()
	release("esc_stalk_shuher")
end

--' проверим наличие фотки убийцы с Милитари
function fotka_kisluy_est()
	return has("kisluy",1)
  end

--' отдадим фотку Кислому
function vernul_kartinku(first_speaker, second_speaker)
	lost("kisluy",1)
 end

--' рюкзак Злобного
function rukzak_zlobnogo()
local se_obj = create("m_inventory_box36", xyz(-170.294,3.940,-148.568),66879,559)
 end

--' убираем Злобного с Авера
function dell_aver_zlobn()
	release("aver_zlobnuy")
end

--' удаляем рестриктор стрелки на авере
function del_strelka_mesto_restr(story_id)
	release(story_object(19034))
end

--' удаляем рестриктор радиуса провала стрелки на авере
function del_strelka_radius_restr(story_id)
	release(story_object(19035))
end

--' проверим наличие фотки жены Сахара
function fotka_zhena_ok()
	return has("zhena_sahara",1)
  end

--' отдадим фотку Сахару
function fotka_zhena_vernul(first_speaker, second_speaker)
	lost("zhena_sahara",1)
 end

--' убираем одноногого с Авера
function dell_aver_odnon()
	release("aver_odnonogiy")
end

--' убираем Сахар-переход, мозг-переход и телепорт
function delete_saxar_perex()
	release(story_object(18111))
	release(story_object(18112))
	release(story_object(17022))
end

--' проверим наличие пластилина
function plastilin_est()
	return has("izomorf_plastilin",1)
  end

--' убираем Молнию 
function dell_molniy()
	release("molniy")
end

--' камушки над мозгом
function plastil_spawn()
	create("preplastilin",xyz(-46.617,27.133,-11.055),7244,1543)
	create("preplastilin",xyz(-45.184,27.134,-14.642),7099,1543)
--local obj = create("preplastilin",xyz(-44.196,27.134,-9.118),7244,1543)
--local obj = create("preplastilin",xyz(-44.837,18.978,-12.184),2892,1530)
	create("nauch_recomend",xyz(-43.801,27.133,-10.206),7244,1543)
end

--' заспавним имитатор отхода Молнии
function sp_imit_tele_molniy()
	create("imitator_tele_final1",xyz(-42.458,-34.478,21.222),30,2509)
end

--' заспавним поле перехода в подвале Лимы
function spawn_pole_lima(first_speaker, second_speaker)
	create("anomal_pole",xyz(-52.082,-10.597,-182.625),2891,2993)
end

--' заспавним поле ключа в подвале Лимы
function spawn_pole_kluch(first_speaker, second_speaker)
	create("anomal_pole",xyz(-51.768,-11.915,-170.309),2891,2993)
end

--' убираем блок-телепорт и рестриктор ключа в подвале Лимы
function delete_blok_and_restr(story_id)
	release(story_object(17023))
	sms("Телепорт, блокирующий рычаг, отключён", nil, nil, 25000)
end

function checking_taken_item57(obj)
    if obj:section()=="9x39_izomorf" then delete_blok_and_restr(obj)
 end
end

--' убираем teleport_podval_ok_restrictor
function tele_podval_ok()
	release(story_object(19038))
end

--' защитные мины подвала
function spawn_mina_lima()
	local obj =  create("bomba_mina_b",xyz(-51.878,-9.562,-148.368),2891,2993)
	amk.start_timer("babah_drop_mine", 0.2, {id = obj.id, sect = obj:section_name()})
	local obj =  create("bomba_mina_b",xyz(-49.234,-8.562,-148.500),3051,2993)
	amk.start_timer("babah_drop_mine", 0.2, {id = obj.id, sect = obj:section_name()})
	local obj =  create("bomba_mina_b",xyz(-46.192,-7.561,-149.072),3051,2993)
	amk.start_timer("babah_drop_mine", 0.2, {id = obj.id, sect = obj:section_name()})
	local obj =  create("bomba_mina_b",xyz(-46.205,-6.353,-153.23),3051,2993)
	amk.start_timer("babah_drop_mine", 0.2, {id = obj.id, sect = obj:section_name()})
amk_mod.spawn_military_tech_pack(create("auto_turret_1",xyz(-52.015579223633,-11.91429901123,-167.53782653809),2891,2993),"auto_turret_1", "scripts\\ohota\\turret.ltx")
amk_mod.spawn_military_tech_pack(create("auto_turret_1",xyz(-47.333358764648,-11.197814941406,-156.21212768555),3051,2993),"auto_turret_1", "scripts\\ohota\\turret.ltx")
amk_mod.spawn_military_tech_pack(create("auto_turret_1",xyz(-57.424324035645,-11.197772979736,-166.85122680664),2375,2993),"auto_turret_1", "scripts\\ohota\\turret.ltx")
	create("imitator_holodez",xyz(-56.837,-11.236,-164.933),2375,2993)
	create("imitator_holodez",xyz(-46.999,-11.197,-165.889),3051,2993)
end

--' выстрел снайпера в красном лесу
function last_snip_zvuk(sound_name)
if sound_name then
if snd_obj and snd_obj:playing() then
snd_obj:stop()
end
snd_obj = voice([[weapons\svd\svd_shoot]])
if snd_obj then
snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
else
console:execute("load ~~~ ЗВУК НЕ НАЙДЕН: "..sound_name)
end
else
console:execute("load ~~~ ЗВУК НЕ ЗАДАН")
end
end

--' удаляем forest_last_snip_proval_restrictor
function del_last_snip_prov_restr(story_id)
	release(story_object(19039))
end

--' удаляем red_dolbannay_doska
function del_dolbannay_doska(story_id)
	release(story_object(19040))
end

--' превращение Черномора
function chernom_zvuk(sound_name)
if sound_name then
if snd_obj and snd_obj:playing() then
snd_obj:stop()
end
snd_obj = voice([[monsters\zombie\zombie_die_0]])
if snd_obj then
snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
else
console:execute("load ~~~ ЗВУК НЕ НАЙДЕН: "..sound_name)
end
else
console:execute("load ~~~ ЗВУК НЕ ЗАДАН")
end
end

--' сначала убьём, потом удалим - иначе - вылет
function kill_fotosvobodovets(storyid)
	local obj = level_story_object(19044)
	if obj and IAmAStalker[obj:clsid()] and obj:alive() then
		obj:kill(obj)
		return true
	else
		return false
	end
end
function kill_zapas_fotosvobodovets(storyid)
	local obj = level_story_object(19045)
	if obj and IAmAStalker[obj:clsid()] and obj:alive() then
		obj:kill(obj)
		return true
	else
		return false
	end
end

--' сначала убьём, потом удалим - иначе - вылет
function kill_escfoto(storyid)
	local obj = level_story_object(19046)
	if obj and IAmAStalker[obj:clsid()] and obj:alive() then
		obj:kill(obj)
		return true
	else
		return false
	end
end
function kill_escfoto_zapas(storyid)
	local obj = level_story_object(19047)
	if obj and IAmAStalker[obj:clsid()] and obj:alive() then
		obj:kill(obj)
		return true
	else
		return false
	end
end

function zaschita_minka()
	local obj =  create("bomba_mina_n",xyz(-45.093,-7.057,32.530),265252,1607)
	amk.start_timer("babah_drop_mine", 0.2, {id = obj.id, sect = obj:section_name()})
end

--' рюкзачок с арбалетом Нормана на чердаке
function yzik_norman_spawn()
local se_obj = create("m_inventory_box37", xyz(-129.12908935547,19.055564880371,83.090309143066),223303,3609)
end

function metka_city_parfumer()
local obj
for a=1,65534 do
   obj = server_object(a) 
       if obj then
          if obj and obj:name() == "dcity_parfumer" then 
            amk.add_spot_on_map(obj.id,"crlc_big","Примерное местонахождение сталкера") 
			break
		  end
       end
   end
end

function remove_parfumer_metka()
local obj
for a=1,65534 do
  obj = server_object(a)
      if obj then
        if obj and obj:name() == "dcity_parfumer" then 
           level.map_remove_object_spot(obj.id,"crlc_big")
           break
        end
      end
   end
end

function metka_city_starshoy()
local obj
for a=1,65534 do
   obj = server_object(a) 
       if obj then
          if obj and obj:name() == "city_starshoy" then 
            amk.add_spot_on_map(obj.id,"crlc_big","Примерное местонахождение сталкера") 
			break
		  end
       end
   end
end

function remove_city_starshoy_metka()
local obj
for a=1,65534 do
  obj = server_object(a)
      if obj then
        if obj and obj:name() == "city_starshoy" then 
           level.map_remove_object_spot(obj.id,"crlc_big")
           break
        end
      end
   end
end

function metka_tema_likvidator()
local obj
for a=1,65534 do
   obj = server_object(a) 
       if obj then
          if obj and obj:name() == "city_tema_likvidator" then 
            amk.add_spot_on_map(obj.id,"crlc_big","Примерное местонахождение сталкеров") 
			break
		  end
       end
   end
end
function remove_tema_likvidator_metka()
local obj
for a=1,65534 do
  obj = server_object(a)
      if obj then
        if obj and obj:name() == "city_tema_likvidator" then 
           level.map_remove_object_spot(obj.id,"crlc_big")
           break
        end
      end
   end
end

function metka_norman()
local obj
for a=1,65534 do
   obj = server_object(a) 
       if obj then
          if obj and obj:name() == "dcity_kontr_last2" then 
            amk.add_spot_on_map(obj.id,"crlc_big","Примерное месторасположение Тёмного хутора") 
			break
		  end
       end
   end
end
function remove_norman_metka()
local obj
for a=1,65534 do
  obj = server_object(a)
      if obj then
        if obj and obj:name() == "dcity_kontr_last2" then 
           level.map_remove_object_spot(obj.id,"crlc_big")
           break
        end
      end
   end
end

--' удаляем зону защиты бандитов
function del_zona_bandosu(story_id)
	release(story_object(17026))
end

--' проверим наличие нужных предметов для Старшего
function starshoy_say_one_have() 
	return has("medkit",10) and
has("wpn_ak74u",2) and
has("vodka",5) and
has("ammo_5.45x39_ap",10) and
has("conserva",20)
end

--' отдадим всё Старшёму
function starshoy_say_one_done(first_speaker, second_speaker)
	lost("medkit",10)
	lost("wpn_ak74u",2)
	lost("vodka",5)
	lost("ammo_5.45x39_ap",10)
	lost("conserva",20)
end

--' заспавним монстриков в Тёмной деревне
function babki_spawn_dsity_hutor()
	create("zombie_babka_normal",xyz(-152.261,9.779,-165.322),185095,3606)
	create("zombie_babka_strong",xyz(-152.261,9.779,-165.322),185095,3606)
	create("bloodsucker_strong",xyz(-147.065,9.438,-160.811),190266,3606)
end

--' заспавним там же арты
function artu_spawn_dsity_hutor()
	create("af_gravi",xyz(-124.779,8.471,-166.461),215144,3614)
	create("af_buliz",xyz(-114.285,9.076,-173.302),224592,3614)
	create("af_babka_1",xyz(-146.363,9.210,-172.300),191016,3610)
end

--' получим фотку тайника от Нормана
function fotka_norman(first_speaker, second_speaker)
	got("taynik_mg")
end

--' получим Позиционер от Нормана
function pozisioner_norman(first_speaker, second_speaker)
	got("stco")
end

--' убираем защиту центра МГ
function delete_zaschita_zenter_gorod()
	release(story_object(17029))
	release(story_object(17030))
	release(story_object(17031))
	release(story_object(17032))
	release(story_object(17033))
	release(story_object(17034))
	release(story_object(17035))
	release(story_object(17036))
	release(story_object(17037))
	release(story_object(17038))
end

--' убираем 10 минутную защиту центра МГ
function del_zasch_zent_gorod()
	release(story_object(17028))
end

--' удаляем первичную зону защиты бандитов(Обморок)
function del_zona_gorod_obmorok(story_id)
	release(story_object(17027))
end

--' удаляем зону защиты здания с Доком
function del_plendok_doza_timer(story_id)
	release(story_object(17041))
	release(story_object(17042))
end

--' убирём Злобного с МГ
function delete_zlo_and_ko()
	release("dead_city_zlobnuy")
 end

function kill_dsity_rasstrel1(storyid)
	local obj = level_story_object(19041)
	if obj and IAmAStalker[obj:clsid()] and obj:alive() then
		obj:kill(obj)
		return true
	else
		return false
	end
end

function kill_dsity_rasstrel2(storyid)
	local obj = level_story_object(19042)
	if obj and IAmAStalker[obj:clsid()] and obj:alive() then
		obj:kill(obj)
		return true
	else
		return false
	end
end

--' звук расстрела очередь
function rasstrel_zvuk_ochered(sound_name)
if sound_name then
if snd_obj and snd_obj:playing() then
snd_obj:stop()
end
snd_obj = voice([[weapons\ak47\kalash_ochered]])
if snd_obj then
snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
else
console:execute("load ~~~ ЗВУК НЕ НАЙДЕН: "..sound_name)
end
else
console:execute("load ~~~ ЗВУК НЕ ЗАДАН")
end
end

--' звук расстрела одиночка
function rasstrel_zvuk_odinochka(sound_name)
if sound_name then
if snd_obj and snd_obj:playing() then
snd_obj:stop()
end
snd_obj = voice([[weapons\ak47\kalash_odinoch]])
if snd_obj then
snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
else
console:execute("load ~~~ ЗВУК НЕ НАЙДЕН: "..sound_name)
end
else
console:execute("load ~~~ ЗВУК НЕ ЗАДАН")
end
end

--' удаляем скриптовый переход МГ-АТП
function del_perexodik(story_id)
	release(story_object(18114))
end

--' спавним телепорт в тайник на Агре
function spawn_teleport_agro_norm_taynik()
    local se_obj = create("m_teleport_agro_norm_taynik",xyz(-39.155300140381,0.77279758453369,39.892715454102),203745,700)
	netpacket:modify(se_obj, "story_id", 17040)
end

--' спавним блок включения переходов на агре
function spawn_mem_module()
local obj = create("mem_module",xyz(-37.030,-3.887,46.352),203086,672)
end

--' портим отношения с вояками
function vrag_speznaza(actor, npc)
--if db.actor ~= nil then
--db.actor:set_character_community("stalker", 0, 0)
local chkgoodwill = relation_registry.community_goodwill("military", db.actor:id())
if chkgoodwill > 0 then 
chkgoodwill = chkgoodwill - 500
relation_registry.set_community_goodwill ("military", db.actor:id(), chkgoodwill)
else
relation_registry.set_community_goodwill ("military", db.actor:id(), - 500)
end
end
--end

function spawn_babki_d_city()
	create("zombie_babka_normal",xyz(59.981,15.624,44.041),416820,3644)
	create("zombie_babka_strong",xyz(52.225,10.889,46.796),409618,3644)
	create("zombie_immortal",xyz(52.225,10.889,46.796),409618,3644)
	create("zombie_babka_weak",xyz(52.225,10.889,46.796),409618,3644)
	create("kontroller_yazva",xyz(53.321,15.624,45.421),410925,3644)
end

--' проверим наличие финансов для Дуды
function dengi_dude_est(actor,npc)
    return actor:money() > 500000
end

--' отдадим бабки
function otdal_dengi_dude(t1,t2)
lost_money(500000)
end

--' убирём Дуду
function delete_duda()
	release("last_dokplen_nachalnik")
	release("last_dokplen_ox_dok")
end

--' проверим наличие маскировочной экзы
function dok_ekza_est()
--return has("meceniy_outfit_new",1) and
	return meceniy_work.have_meceniy_outfit() and
has("wpn_m16a2_sk12",1)
  end

--[[' проверим отсутствие маскировочной экзы
function dok_ekza_netu()
	return has("meceniy_outfit_new",1) ~= true and
has("wpn_m16a2_sk12",1) ~= true
  end]]

--' отдадим маскхалат и кольт доку
function otdadim_doku_exzu(first_speaker, second_speaker)
--lost("meceniy_outfit_new",1)
meceniy_work.give_meceniy_outfit()
	lost("wpn_m16a2_sk12",1)
end

--' убираем видимого Дока из МГ
function dell_dcity_dok_vidim()
	release("dcity_dok_bolot")
end

--' убираем невидимого Дока из МГ
function dell_dok_nevidim()
	release("dcity_dok_nevidim")
end

--' убираем дока Сак с Припяти 
function prip_dok_sak_dell()
local se_obj = server_object("doktor")
  if se_obj then
    release(se_obj, true)
	-- стори ид переносим Доку в МГ, чтобы продолжить ЦЗ
	local obj = server_object("dcity2_dok2_bolot2_vid")
	snp.set_stalker_story_id(obj,9502)
  end
end

--' Вступаем в стрейнджеры
function join_stranger (actor, npc)
    printf ("ACTOR NOW IN stranger COMMUNITY")
    if db.actor then
       db.actor:set_character_community ("stranger", 0, 0)
    end
end
function checking_taken_item58(obj)
local info=nil
if obj:section()=="streyndzher" then join_stranger(obj)
   end
end

--' получим streyndzher
function take_streyndzher(first_speaker, second_speaker)
	got("streyndzher")
end

--' убираем streyndzher
function dell_streyndzher()
	lost("streyndzher",1)
end

--' убираем Муху из госпиталя
function dell_muha_hosp_live()
	release("muha_hosp_live")
end

--' получим от Дока маскхалат обратно
function dok_vernul_mashalat(first_speaker, second_speaker)
	got("meceniy_outfit_new")
end

--' убираем Молнию из МГ
function dell_dcity_molniy()
	release("dead_city_molniy")
end

--' спавним записку Искры
function iskra_listok_spawn()
	create("iskra_listok",xyz(-109.715,3.154,37.802),231506,3622)
end

--' спавним телепорт в ливнёвку МГ
function spawn_tele_dcity_kanaliy()
    local se_obj = create("m_teleport_dcity_kanaliy",xyz(-89.229080200195,1.1233458518982,-27.065231323242),254634,3620)
	netpacket:modify(se_obj, "story_id", 17043)
end

function kanaliy_dinamit1 (actor, npc)
    local source = nil
       local se_obj = story_object (17044)  
       if se_obj then
          source = level_object(se_obj.id)
       end
    if source == nil then
        return
    end
    local h = hit ()
    h.power = 100
    h.direction = vector():set( 1, 0, 0 )
    h.impulse = 60
    h.draftsman = source
    h.type = hit.chemical_burn
    source:hit (h)
end

function kanaliy_dinamit2 (actor, npc)
    local source = nil
       local se_obj = story_object (17045)  
       if se_obj then
          source = level_object(se_obj.id)
       end
    if source == nil then
        return
    end
    local h = hit ()
    h.power = 200
    h.direction = vector():set( 1, 0, 0 )
    h.impulse = 60
    h.draftsman = source
    h.type = hit.chemical_burn
    source:hit (h)
end

function kanaliy_dinamit_nevid2 (actor, npc)
    local source = nil
       local se_obj = story_object (17046)  
       if se_obj then
          source = level_object(se_obj.id)
       end
    if source == nil then
        return
    end
    local h = hit ()
    h.power = 200
    h.direction = vector():set( 1, 0, 0 )
    h.impulse = 60
    h.draftsman = source
    h.type = hit.chemical_burn
 --   h.type = hit.fire_wound
    source:hit (h)
end

function kanaliy_dinamit_nevid1 (actor, npc)
    local source = nil
       local se_obj = story_object (17047)  
       if se_obj then
          source = level_object(se_obj.id)
       end
    if source == nil then
        return
    end
    local h = hit ()
    h.power = 200
    h.direction = vector():set( 1, 0, 0 )
    h.impulse = 60
    h.draftsman = source
    h.type = hit.chemical_burn
--  h.type = hit.fire_wound
    source:hit (h)
end

function hit_dcity_imitator()
    local h = hit ()
    h.power = 1.5
h.direction = vector_rotate_y(db.actor:direction(), 90)
    h.impulse = 190
h.draftsman = db.actor
   h.type = hit.strike
db.actor:hit(h)
end

function imitator_gener_spavn()
	create("imitator",xyz(14.1453580856323,46.1324005126953,-174.886108398438),349707,3112)
	create("imitator",xyz(12.7922649383545,46.1104927062988,-175.030914306641),349707,3112)
	create("imitator",xyz(13.0828914642334,41.1308479309082,-178.822647094727),351371,3112)
	create("imitator",xyz(9.48082637786865,41.120964050293,-174.294830322266),347116,3112)
	create("imitator",xyz(14.1029558181763,41.1306571960449,-170.866104125977),352208,3112)
	create("imitator",xyz(17.6013641357422,41.1303024291992,-175.369445800781),356617,3112)
	create("imitator",xyz(13.8957996368408,40.6325912475586,-207.103958129883),352170,3110)
	create("imitator",xyz(58.6876487731934,45.9572601318359,-260.544982910156),404981,3114)
	create("imitator",xyz(58.6876487731934,45.9572601318359,-260.544982910156),404981,3114)
	create("imitator",xyz(56.4247131347656,40.8750076293945,-256.978088378906),402536,3114)
	create("imitator",xyz(62.013557434082,40.8754501342773,-257.889007568359),409206,3114)
	create("imitator",xyz(61.2656860351563,40.8751411437988,-263.562530517578),408351,3114)
	create("imitator",xyz(55.6032638549805,40.8755035400391,-262.710906982422),400910,3114)
	create("imitator",xyz(45.4872398376465,40.5109367370605,-252.432556152344),387744,3114)
	create("imitator",xyz(33.3227081298828,40.3606071472168,-243.254913330078),375267,3114)
	create("imitator",xyz(13.5879325866699,47.8379516601563,-230.732391357422),350469,3110)
end

function imitator_gospilal_spavn()
--hosp_3otsek_snezka_muha1
	create("imitator_snezka",xyz(-95.15917,28.38907,567.27117),1003,3038)
--hosp_3otsek_snezka_muha2
	create("imitator_snezka",xyz(-95.60807,28.52086,568.32916),845,3038)
--hosp_3otsek_holodez_krug1
	create("imitator_holodez",xyz(-95.49827,32.41429,613.68133),1024,3038)
--hosp_3otsek_holodez_krug2
	create("imitator_holodez",xyz(-96.06416,32.54857,614.63214),869,3038)
--hosp_3otsek_holodez_krug3
	create("imitator_holodez",xyz(-95.53624,32.58135,615.53179),1026,3038)
--hosp_3otsek_holodez_krug4
	create("imitator_holodez",xyz(-94.12352,32.463905,615.60363),1104,3038)
--hosp_3otsek_holodez_krug5
	create("imitator_holodez",xyz(-93.64558,32.35847,614.88037),1171,3038)
--hosp_3otsek_holodez_krug6
	create("imitator_holodez",xyz(-92.82126,32.22382,614.169372),1378,3038)
--hosp_3otsek_holodez_krug7
	create("imitator_holodez",xyz(-92.28500,32.23130,614.78918),1638,3038)
--hosp_3otsek_holodez_krug8
	create("imitator_holodez",xyz(-91.746139,32.26699,615.73327),1972,3038)
--hosp_3otsek_imitator_elektra1
	create("imitator",xyz(-93.587043,32.309429,614.39288),1171,3038)
--hosp_3otsek_imitator_elektra2
	create("imitator",xyz(-92.75412,32.16616,613.60137),1637,3038)
--hosp_3otsek_holodez1_muxa
	create("imitator_holodez",xyz(-94.68213,28.18796,565.45812),1085,3038)
--hosp_3otsek_holodez2_muxa
	create("imitator_holodez",xyz(-94.73439,28.27208,566.36437),1086,3038)
--hosp_3otsek_holodez3_muxa
	create("imitator_holodez",xyz(-95.12808,28.32499,566.57604),1002,3038)
--hosp_3otsek_holodez4_muxa
	create("imitator_holodez",xyz(-95.03950,28.38788,567.38183),1004,3038)
end

function imitator_kanaliy_spavn()
	create("imitator_holodez",xyz(-96.308708190918,-1.8240934610367,-19.150089263916),247176,3620)
	create("imitator",xyz(-94.969078063965,-1.824152469635,-20.891218185425),248712,3620)
	create("imitator",xyz(-95.195724487305,-1.8241112232208,-19.7877368927),248713,3620)
end

function pantera_dinamit_nevid (actor, npc)
    local source = nil
       local se_obj = story_object (17048)  
       if se_obj then
          source = level_object(se_obj.id)
       end
    if source == nil then
        return
    end
    local h = hit ()
    h.power = 200
    h.direction = vector():set( 1, 0, 0 )
    h.impulse = 60
    h.draftsman = source
    h.type = hit.chemical_burn
--  h.type = hit.fire_wound
    source:hit (h)
end

--' Ара, паразит, подох раньше времени - будет вылет
function delete_khutor_zone2_restrictor()
	release(story_object(17049))
end

--' убираем рестриктор вместе с Седым - а то стрёмно...
function sedoy_del_restrictor()
	release(story_object(17050))
end

--' убираем Парфюмера1 из МГ
function dell_parfuym1()
	release("dcity_parfumer")
end

--' убираем Обморока из МГ
function dell_obmorok()
	release("dcity_obmorok")
end

--' тайник-ящик у бандосов 3 гулага МГ
function spawn_yzik_3gulag()
local se_obj = create("m_inventory_box40", xyz(-0.265,4.332,-0.748),357228,3633)
end

--' отдадим бабки за пользование ПДА
function operator_babki_otdat(t1,t2)
lost_money(3000)
end

--' убираем рестрикторы Бленда
function dell_spawn1_bland1_restr()
	release(story_object(17052))
end
function dell_spawn_bland_restr()
	release(story_object(17051))
end

--' Бленд отдал флешку
function bland_otdal_flesh(first_speaker, second_speaker)
	got("bland_flash")
end

--' убираем Блэнда из ТД
function dell_dark_bland()
	release("dark_bland")
end

--' таракашки в доме МГ
function mg_spawp_tarakashki()
	create("tarakan_strong",xyz(-170.146,15.623,57.121),166135,3599)
	create("tarakan_normal",xyz(-170.146,15.623,57.121),166135,3599)
	create("tarakan_strong",xyz(-173.322,15.624,54.904),162448,3599)
	create("tarakan_normal",xyz(-173.322,15.624,54.904),162448,3599)
	create("tarakan_strong",xyz(-166.88,15.624,54.501),169708,3599)
	create("tarakan_normal",xyz(-166.88,15.624,54.501),169708,3599)
	create("tarakan_strong",xyz(-162.841,15.626,48.662),173338,3600)
	create("tarakan_normal",xyz(-162.841,15.626,48.662),173338,3600)
	create("tarakan_strong",xyz(-174.055,15.624,40.553),161636,3599)
	create("tarakan_normal",xyz(-174.055,15.624,40.553),161636,3599)
	create("tarakan_strong",xyz(-179.561,15.623,47.734),156157,3599)
	create("tarakan_normal",xyz(-179.561,15.623,47.734),156157,3599)
	create("tarakan_strong",xyz(-177.969,15.625,50.948),157710,3599)
	create("tarakan_normal",xyz(-177.969,15.625,50.948),157710,3599)
end

--' заспавним пробного товарища в бункере
function spawn_biblio_bunker()
--не будем ничего спавнить, ибо из-за него вылеты
--local obj = create("tushkano_normal",xyz(5.312,-19.440,25.189),7347,2768)
end

--' звук библиотекаря
function zvuk_bibliotekar(sound_name)
if sound_name then
if snd_obj and snd_obj:playing() then
snd_obj:stop()
end
snd_obj = voice([[monsters\alligator]])
if snd_obj then
snd_obj:play_no_feedback(db.actor, sound_object.s2d, 0, vector(), 1.0)
else
console:execute("load ~~~ ЗВУК НЕ НАЙДЕН: "..sound_name)
end
else
console:execute("load ~~~ ЗВУК НЕ ЗАДАН")
end
end

function set_sych()
local obj
for a=1,65534 do
   obj = server_object(a) 
       if obj then
          if obj and obj:name() == "stalker_marsh_sysh" then 
            amk.add_spot_on_map(obj.id,"crlc_big","Группа Сыча") 
			break
		  end
       end
   end
end
function remove_sych_metka()
local obj
for a=1,65534 do
  obj = server_object(a)
      if obj then
        if obj and obj:name() == "stalker_marsh_sysh" then 
           level.map_remove_object_spot(obj.id,"crlc_big")
           break
        end
      end
   end
end

--' убираем рестриктор видео в Лиманске
function dell_video_finish_restr()
	release(story_object(17053))
end

--' убираем скриптовый переход лима-МГ
function del_pereod_lima_dcity()
	release(story_object(18113))
end

--' убираем Нормана и Парфюмера2 из МГ
function dell_dcity_norman()
	release("parfumer_dcity_shtab")
	release("dcity_kontrol_stalk")
end


function dell_torgov_restr()
	release("atp_torgovetz_sms_restrictor")
end

function dell_restri()
	release("agro_muxa_sms1_restrictor")
	release("otshel_chel_dell_restrictor")
	release("petrenko_chel_dell_restrictor")
end

function delet_otshel()
	release("final_otshelnik")
	release("final_petrenko")
end

function psev_have()
create('ver', db.actor:position(), db.actor:level_vertex_id(), db.actor:game_vertex_id(), db.actor:id())
end

--' удаляем рестрикторы сходки авторитетов
function dell_sxodnyak()
	release("muxa_chel_dell_restrictor")
	release("otshel_chel_dell_restrictor")
	release("petrenko_chel_dell_restrictor")
end


function nax_poshel()
	release("chernomor_zombi")
end


--' убираем Черномора-зомби
function dell_chernomor_zombi1()
	release("chernomor_zombi1")
end
function del_chern_zombi1()
	release(story_object(9626))
end

function delete_eartquake()
	release("aes2_space_restrictor_eartquake")
end

function semetskiy_obmen_have()
	return 
		has("detektor_amorf",1) and
		has("stco",1) and
		has("red_mozg",1)
end
function semetskiy_obmen_not_have()
	return not semetskiy_obmen_have()
end
function semetskiy_obmen_done()
	lost("detektor_amorf",1)
	lost("stco",1)
	lost("red_mozg",1)
	got("det_artefact_super", 1)
end
